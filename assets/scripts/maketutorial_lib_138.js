/*
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe LTD
 */
var wmjQuery=mtjQuery;try{mtjQuery(document).ready(function(){try{mtjQuery("embed[wmode!='opaque'][wmode!='transparent']").wrap("<div>").unwrap();mtjQuery("object").append("<param name='wmode' value='transparent'>");}catch(a){}});}catch(e){}if(mtjQuery){if(mtjQuery.expr&&mtjQuery.expr.filters){mtjQuery.expr.filters.mt_hidden=function(a){var c=a.offsetWidth,b=a.offsetHeight;return(c===0&&b===0)||(!mtjQuery.support.reliableHiddenOffsets&&(a.style.display||mtjQuery.css(a,"display"))==="none"||mtjQuery.css(a,"visibility")==="hidden");};mtjQuery.expr.filters.mt_visible=function(a){return !mtjQuery.expr.filters.mt_hidden(a);};}mtjQuery.trim=function(a){var b=/^\s+/;var c=/\s+$/;return a==null?"":a.toString().replace(b,"").replace(c,"");};}else{try{console.log("mtjQuery undefined");}catch(e){}}(function(a){a.fn.fixedPosition=function(c){var b=a("body");return this.each(function(){var d=a(this);d.css("position","absolute");var h=d.attr("id");var f=d.attr("mt-height");var g="";if(c.fixedTo=="top"){g="mtjQuery(document).scrollTop()";}else{if(c.fixedTo=="bottom"){g="mtjQuery(document).scrollTop() - "+f+" + (document.documentElement.clientHeight || document.body.clientHeight)";}else{g="mtjQuery(document).scrollTop() - "+f+"/2 + ((document.documentElement.clientHeight || document.body.clientHeight))/2";}}b.append("<style>.iefixedbar"+h+" { position: absolute; top: expression(eval("+g+"));}</style>");d.css("top","expression(eval("+g+"))");d.addClass("iefixedbar"+h);});};})(mtjQuery);(function(a){var c={vertical:{x:false,y:true},horizontal:{x:true,y:false},both:{x:true,y:true},x:{x:true,y:false},y:{x:false,y:true}};var h={duration:"fast",direction:"both"};var f;var b=function(j,l){l=l||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(j,null):j.currentStyle);var k=document.defaultView&&document.defaultView.getComputedStyle?true:false;var i={top:(parseFloat(k?l.borderTopWidth:a.css(j,"borderTopWidth"))||0),left:(parseFloat(k?l.borderLeftWidth:a.css(j,"borderLeftWidth"))||0),bottom:(parseFloat(k?l.borderBottomWidth:a.css(j,"borderBottomWidth"))||0),right:(parseFloat(k?l.borderRightWidth:a.css(j,"borderRightWidth"))||0)};return{top:i.top,left:i.left,bottom:i.bottom,right:i.right,vertical:i.top+i.bottom,horizontal:i.left+i.right};};var d=function(i){var k=a(window);var j=f.test(i[0].nodeName);return{border:j?{top:0,left:0,bottom:0,right:0}:b(i[0]),scroll:{top:(j?k:i).scrollTop(),left:(j?k:i).scrollLeft()},scrollbar:{right:j?0:i.innerWidth()-i[0].clientWidth,bottom:j?0:i.innerHeight()-i[0].clientHeight},rect:(function(){var l=i[0].getBoundingClientRect();return{top:j?0:l.top,left:j?0:l.left,bottom:j?i[0].clientHeight:l.bottom,right:j?i[0].clientWidth:l.right};})()};};a.fn.extend({scrollintoview:function(n){n=a.extend({},h,n);n.direction=c[typeof(n.direction)==="string"&&n.direction.toLowerCase()]||c.both;var l="";if(n.direction.x===true){l="horizontal";}if(n.direction.y===true){l=l?"both":"vertical";}if(n.rootElement=="html"){f=/^(?:html)$/i;}else{f=/^(?:body)$/i;}var m=this.eq(0);var p=n.elementToFindScrollableFor.parent().closest(":scrollable("+l+")");if(p.length>0){if(n.rootElement=="html"){if((p[0].tagName)&&(p[0].tagName.toUpperCase)&&(p[0].tagName.toUpperCase()=="BODY")){p=p.parent();}}p=p.eq(0);var k={e:d(m),s:d(p)};if(p.height()<200){return false;}var o={top:k.e.rect.top-(k.s.rect.top+k.s.border.top),bottom:k.s.rect.bottom-k.s.border.bottom-k.s.scrollbar.bottom-k.e.rect.bottom,left:k.e.rect.left-(k.s.rect.left+k.s.border.left),right:k.s.rect.right-k.s.border.right-k.s.scrollbar.right-k.e.rect.right};var i=0;if(n.endScroll){i=(k.s.rect.bottom-n.endScroll.balloonHeight)*parseFloat(n.endScroll.percent);if(o.top>0&&o.bottom<0){i+=n.endScroll.totalDrawnHeight-k.s.rect.bottom;}}else{o.top-=50;o.bottom-=50;}var j={};if(n.direction.y===true){if(o.top<0){j.scrollTop=k.s.scroll.top+o.top-i;}else{if(o.top>0&&o.bottom<0){j.scrollTop=k.s.scroll.top+Math.min(o.top,-o.bottom)-i;}}}if(n.direction.x===true){if(o.left<0){j.scrollLeft=k.s.scroll.left+o.left;}else{if(o.left>0&&o.right<0){j.scrollLeft=k.s.scroll.left+Math.min(o.left,-o.right);}}}if(j.scrollTop||j.scrollLeft){if(f.test(p[0].nodeName)){p=a("html,body");}p.animate(j,n.duration).eq(0).queue(function(q){a.isFunction(n.complete)&&n.complete.call(p[0]);q();});}else{return false;}}else{return false;}return true;}});var g={auto:true,scroll:true,visible:false,hidden:false};a.extend(a.expr[":"],{scrollable:function(j,k,l,o){var i=c[typeof(l[3])==="string"&&l[3].toLowerCase()]||c.both;var p=(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(j,null):j.currentStyle);var m={x:g[p.overflowX.toLowerCase()]||false,y:g[p.overflowY.toLowerCase()]||false,isRoot:f.test(j.nodeName)};if((!m.x&&!m.y&&!m.isRoot)||(p.overflowY.toLowerCase()=="hidden")){return false;}var n={height:{scroll:j.scrollHeight,client:j.clientHeight},width:{scroll:j.scrollWidth,client:j.clientWidth},scrollableX:function(){return(m.x||m.isRoot)&&this.width.scroll>this.width.client;},scrollableY:function(){return(m.y||m.isRoot)&&this.height.scroll>this.height.client;}};return i.y&&n.scrollableY()||i.x&&n.scrollableX();}});})(mtjQuery);function ClassMakeTutorial(){this.MTVersion="1.0";this.SVNRevision="$MasterRev: 2014 $";this.LocalSVNRevision="$Rev: 2011 $";this.SpecialRevision="no";function e4(){var im=this;this.LocalSVNRevision="$Rev: 1675 $";var iP="wm-lang";var iA="_default_";var iW=false;var il;var ix=null;var iB=[];var iz=[];var iu=null;var i1;var iY=false;var iZ;var iX=false;var iC=false;this.isNextDataPackageIsHidden=function iL(){return iY;};this.getPlayerServer=function iF(){return iZ;};function iw(i2){il=i2;}function ir(i2){if(iu){iu(i2);}}this.changeLanguage=function it(i4,i2){iu=i2;var i5=aT.getCookie(iP);if(i5==i4){ir(false);return;}var i6=false;for(var i3=0;i3<iB.length;i3++){if(iI(i4,iB[i3])){i6=true;}}if(!i6){ir(false);return;}if(i4===""){i4=iA;}aT.setCookie(iP,i4,31536000,aT.getCurrentDomain());ix=0;iX=true;iC=true;iR(iB);};this.isNewLanguage=function iJ(){return iC;};this.getCurrentLanguage=function iE(){var i3=null;i3=aT.getCookie(iP);if(i3==iA){i3="";}if(!i3&&!(i3==="")){try{i3=walkme_get_language();}catch(i2){}}if(!i3){return"";}return i3;};this.getSupportedLanguages=function iG(){var i4=[];for(var i2=0;i2<iz.length;i2++){for(var i3=0;i3<iz[i2].languages.length;i3++){if(iz[i2].languages[i3].showInPlayer){i4.push(iz[i2].languages[i3]);}}}return i4;};this.startInitializer=function i0(i2){ix=0;if(window.wm_walkmeLibLoaded!=undefined){wm_walkmeLibLoaded();}else{if(iM()){return;}else{if(window.document.dontLoadTriangle&&iO()){return;}else{if(iO()){if(iN()){if(i2==undefined){i2=iV;}iT(mt_get_user_settings_url,i2);}else{var i3=wmSnippet.getSettingsFile();if(i3){if(!i3.IsEnabled){return;}iZ=i3.PlayerServer;iS(i3.DataFiles,i3.WidgetFile);}else{}}}else{iS(gD(wmSnippet.getServerSettings().datafilesArray.replace(/'/gi,'"')),wmSnippet.getServerSettings().widgetUrl);}}}}};function iS(i2,i3){iB=gD(hU(i2));iU(i3);iR(i2);}function iM(){return !iK()&&!iN();}function iU(i2){i1=i2;}function iR(i2){iz=iD(gD(hU(i2)));iQ();}function iD(i2){for(var i3=0;i3<i2.length;i3++){i2[i3].url=iv(i2[i3]);}return i2;}function iO(){if(iK()){var i2;if(wmSnippet.getServerSettings().datafilesArray=="###SPECIAL_DATA_FILE###"){return true;}else{i2=gD(wmSnippet.getServerSettings().datafilesArray.replace(/'/gi,'"'))[0].url;}return !(i2.substr(i2.lastIndexOf("/")+1).indexOf("temp")==0);}else{if(mt_triangle_url==undefined){return true;}return !(mt_triangle_url.substr(mt_triangle_url.lastIndexOf("/")+1).indexOf("temp")==0);}}function iN(){if((window.mt_recorder_server_name!=undefined)&&(window.mt_get_user_settings_url!=undefined)){return true;}else{return false;}}function iK(){return window.wmSnippet!=undefined;}function iV(i2,i4,i3){if(iW){return;}iW=true;if(!i2.IsEnabled){return;}iZ=i2.PlayerServer;if((i2.TriangleFile!=undefined)&&(i2.TriangleFile!="")){var i5=iH(i2.TriangleFile);ip(i5);}else{iS(i2.DataFiles,i2.WidgetFile);}}function iT(i3,i2){mtjQuery.ajax(i3,{cache:false,dataType:"jsonp",jsonpCallback:"fixedCallback",success:i2,error:function(i5,i6,i4){a9("Error: Failed to get Settings from "+i3);}});}function ip(i5,i3){if(!i5){return;}var i2=document.getElementsByTagName("head")[0];var i4=document.createElement("script");i4.async=true;i4.src=i5;i4.id="mt_script";if(i3){i4.onload=i3;i4.onreadystatechange=i3;}i2.appendChild(i4);}function iH(i3){if(window.walkme_custom_data_url){return walkme_custom_data_url;}var i2;if(i3.indexOf("SPECIAL_TRIANGLE_FILE")==-1){i2=i3;}else{il.lib_error("mt_makeTutorialLibLoaded - no triangleUrl");return;}i2=iv(i2);return i2;}function iv(i2){var i4=typeof(i2)=="string";var i5=im.getCurrentLanguage();var i3=(i4)?i2:i2.url;if(i5){if(i4||iI(i5,i2)){i3=i3.substring(0,i3.length-3);i3=i3+"_"+i5+".js";}else{if(!iX){aT.setCookie(iP,i5,-1);}}}return i3;}function iI(i4,i2){for(var i3=0;i3<i2.languages.length;i3++){if(i2.languages[i3].shortName==i4){return true;}}return false;}function io(i2){ip(i2);}function iq(i2){ip(i2);}function iQ(){try{var i2=iz[ix].url;iY=iz[ix].isHidden!=undefined?iz[ix].isHidden:false;io(i2);}catch(i3){il.lib_error("faild to load data file: "+i3);}}this.dataFileLoadedWrapper=function iy(){iY=false;ix++;iC=false;if(ix==iz.length){if(!il.dataFinishedLoading()){return;}if(!iX){iq(i1);}else{iX=false;ir(true);}}else{iQ();}};iw.apply(null,arguments);}var e3=null;this.Init=function ei(){e3.startInitializer();};this.dataFileLoaded=function ba(){e3.dataFileLoadedWrapper();};function fH(){var il=this;il.LocalSVNRevision="$Rev: 2014 $";function io(){}function it(iE){return(iE.parentWindow||iE.defaultView);}function iA(iG,iE){var iF=iG.ownerDocument;if(iF.defaultView&&iF.defaultView.getComputedStyle&&iF.defaultView.getComputedStyle(iG,null)){return iF.defaultView.getComputedStyle(iG,null)[iE];}else{if(typeof(iF.all)!="undefined"&&iG.currentStyle){return iG.currentStyle[iE];}else{if(iG.style){return iG.style[iE];}else{return 0;}}}}function iD(iG){var iJ=0,iI=0;var iE=iG;var iF=mtjQuery(iG).offset();iJ=iF.top;iI=iF.left;iE=iG;do{if((iA(iE,"position")!="absolute")&&((cQ(iE)=="BODY")||(cQ(iE)=="HTML"))){iJ-=iE.scrollTop||0;iI-=iE.scrollLeft||0;}}while((iE=iE.parentNode)&&iE.tagName!=undefined);var iH={left:iI,top:iJ};return iH;}function ip(iE){var iH=0,iG=0;do{if(cQ(iE)=="FRAME"){iH+=mtjQuery(iE).offset().top;iG+=mtjQuery(iE).offset().left;}else{iH+=iE.offsetTop||0;iG+=iE.offsetLeft||0;}iE=iE.offsetParent;}while(iE);var iF={left:iG,top:iH};return iF;}this.getPosRelativeToWindow=function ix(iG,iM,iE){var iH=0,iL=0,iJ,iF,iN,iI;iM=iM||top;if(iE&&!window.opera&&iG&&iG.tagName&&iG.tagName.toLowerCase()=="input"){iH+=iG.scrollLeft;iL+=iG.scrollTop;}while(iG){iF=iG.ownerDocument;iN=it(iF);if(iE&&iN==iM){iH+=(iF.documentElement.scrollLeft||iF.body.scrollLeft);iL+=(iF.documentElement.scrollTop||iF.body.scrollTop);}iI=(!iN||iN==iM);if(iE){iJ=iD(iG);}else{iJ=ip(iG);}iH+=iJ.left;iL+=iJ.top;if(iI){break;}iG=iN.frameElement;}var iK={left:iH,top:iL};return iK;};function iy(iE,iF){var iG={};if((iE.left>iF.right)||(iF.left>iE.right)){return null;}if((iE.bottom<iF.top)||(iF.bottom<iE.top)){return null;}iG.left=Math.max(iE.left,iF.left);iG.right=Math.min(iE.right,iF.right);iG.top=Math.max(iE.top,iF.top);iG.bottom=Math.min(iE.bottom,iF.bottom);iG.height=iG.bottom-iG.top;iG.width=iG.right-iG.left;return iG;}function iq(iE,iF){var iG=iF.left;var iH=iF.top;iE.left+=iG;iE.right+=iG;iE.top+=iH;iE.bottom+=iH;}function im(iF,iE){iE.left+=iF.left;iE.top+=iF.top;if(iE.left<0){iE.left=0;}if(iE.top<0){iE.top=0;}}function ir(iF,iE){var iG=dp(iE);iF.left+=iG.Left;iF.right+=iG.Left;iF.top+=iG.Top;iF.bottom+=iG.Top;}this.getRectRelativeToWindow=function iz(iG,iK){var iF,iL,iI=false,iJ=iG.getBoundingClientRect();var iH={left:0,top:0};iK=iK||top;while(!iI){iF=iG.ownerDocument;iL=it(iF);var iE=iF.documentElement.getBoundingClientRect();iJ=iy(iJ,iE);if(!iJ){return iJ;}iI=(!iL||iL==iK);if(!iI){iH=iL.frameElement.getBoundingClientRect();iq(iJ,iH);iG=iL.frameElement;}}ir(iJ,iF);return iJ;};function iw(iE){var iF=cU(iE);iF.height=iF.height();iF.width=iF.width();iF.top=iF.top();iF.left=iF.left();return iF;}this.getDrawingArea=function iu(iF,iG){var iE=new Object();if(ez(iF)){iE=iw(iG?mtjQuery("body"):iF);}else{var iH=mtjQuery(document);iE.top=0;iE.left=0;iE.height=iH.height();iE.width=iH.width();}return iE;};this.isElementScrolledOut=function iB(iF,iK,iE){var iL=c1(iK);var iI=iF.offset().top;var iH=iF.offset().left;var iG=iF.outerHeight();var iJ=iF.outerWidth();var iM=parseInt(iE);if(iM==fG.Bottom){iI+=iG;}if(iM==fG.Right){iH+=iJ;}if((iL.scrollTop()>iI)||(iK.height()+iL.scrollTop()<iI)){return true;}if((iL.scrollLeft()>iH)||(iK.width()+iL.scrollLeft()<iH)){return true;}return false;};this.getElementBounds=function iv(iG,iI,iN,iM){var iH={};var iF=iG[0];if(iI){var iJ=iF.getBoundingClientRect();var iE=cL(iG);var iK=dc(iF,iE,iN);iH=cK(iJ,iK);}else{var iL=il.getPosRelativeToWindow(iF,iN,true);iH.top=iL.top;iH.left=iL.left;iH.bottom=iH.top+iG.outerHeight();iH.right=iH.left+iG.outerWidth();iH.height=iG.outerHeight();iH.width=iG.outerWidth();}iH=S(iH,iM);return iH;};this.isElementVisible=function iC(iF){var iG=true;try{iF[0].tagName;}catch(iE){iG=false;e9("elementDisplayTimeoutFunction: element destroyed. Garbage collecting");bA();}if(iG){if(!mtjQuery(iF).is(":mt_visible")){iG=false;}}return iG;};io.apply(null,arguments);}fH=new fH();function hU(iv){if(iv!==null){go(iv,function(iD){try{if(iD.toJSON){iD.toJSON=null;}}catch(iC){}});}if((typeof JSON==="object")&&JSON.stringify){return JSON.stringify(iv);}if(iv===null){return"null";}var iz=typeof iv;if(iz==="undefined"){return undefined;}if(iz==="number"||iz==="boolean"){return""+iv;}if(iz==="string"){return fM(iv);}if(iz==="object"){if(typeof iv.toJSON==="function"){return hU(iv.toJSON());}if(iv.constructor===Date){var it=iv.getUTCMonth()+1,il=iv.getUTCDate(),iB=iv.getUTCFullYear(),im=iv.getUTCHours(),ir=iv.getUTCMinutes(),iy=iv.getUTCSeconds(),iq=iv.getUTCMilliseconds();if(it<10){it="0"+it;}if(il<10){il="0"+il;}if(im<10){im="0"+im;}if(ir<10){ir="0"+ir;}if(iy<10){iy="0"+iy;}if(iq<100){iq="0"+iq;}if(iq<10){iq="0"+iq;}return'"'+iB+"-"+it+"-"+il+"T"+im+":"+ir+":"+iy+"."+iq+'Z"';}if(iv.constructor===Array){var ix=[];for(var io=0;io<iv.length;io++){ix.push(hU(iv[io])||"null");}return"["+ix.join(",")+"]";}var iu,iA,iw=[];for(var ip in iv){iz=typeof ip;if(iz==="number"){iu='"'+ip+'"';}else{if(iz==="string"){iu=fM(ip);}else{continue;}}iz=typeof iv[ip];if(iz==="function"||iz==="undefined"){continue;}iA=hU(iv[ip]);iw.push(iu+":"+iA);}return"{"+iw.join(",")+"}";}}function gD(im){if((typeof JSON==="object")&&JSON.parse){return JSON.parse(im);}else{var il=im.toString().replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(il)){return _makeTutorialEv.Ev("("+im+")");}else{throw new SyntaxError("Error parsing JSON, source is not valid.");}}}function go(ip,il){if(ip!=undefined&&typeof(ip)=="object"){for(var io in ip){if(Object.hasOwnProperty.call(ip,io)){var im=ip[io];if(im!==null&&im!==undefined){go(im,il);}}}}if(ip!==null&&ip!==undefined){il(ip);}}function aU(){this.LocalSVNRevision="$Rev: 1765 $";var il=this;function im(){}this.setCookie=function(ix,iy,iv,iq){try{if(typeof(iy)!="string"){iy=iy.toString();}if(iy.indexOf(";")>-1){iy.replace(";","");}var ir="";if(iq&&iq.length>0){ir="; domain="+iq;}var iw="";if(iv!=0){var iu=new Date();iu.setTime(iu.getTime()+iv*1000);iw="; expires="+iu.toUTCString();}var ip=iy+iw+"; path=/"+ir;document.cookie=ix+"="+ip;}catch(it){_makeTutorial.lib_error(it);}};this.getCookie=function(ir){var iq,it,iu,ip=document.cookie.split(";");for(iq=0;iq<ip.length;iq++){it=ip[iq].substr(0,ip[iq].indexOf("="));iu=ip[iq].substr(ip[iq].indexOf("=")+1);it=it.replace(/^\s+|\s+$/g,"");if(it==ir){return iu;}}return false;};this.getCurrentDomain=function io(){var ir="wm-dmn";var ip=il.getCookie(ir);if(ip){return ip;}var iq=window.location.hostname;var iv="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if((new RegExp(iv)).test(iq)){il.setCookie(ir,iq,bi,iq);return iq;}if(iq.indexOf(".")==-1){return null;}var iw=iq.split(".");var ix="";for(var iu=iw.length-1;iu>=0;iu--){if(ix!=""){ix="."+ix;}ix=iw[iu]+ix;il.setCookie(ir,ix,bi,ix);if(il.getCookie(ir)==ix){return ix;}}il.setCookie("wm-test","wm-test",bi);var iy=il.getCookie("wm-test");if(iy!="wm-test"){try{console.log("WalkMe requires the browser to accept cookies - please enable cookies in your browser.");}catch(it){}}else{_makeTutorial.lib_error(new Error("Cannot get domain from: "+iq));}return undefined;};im.apply(null,arguments);}function aV(){this.LocalSVNRevision="$Rev: 1506 $";var il=this;var io="#!@DeL@!#";function im(){il.cookiesManager=aT;il.currentDomain=il.cookiesManager.getCurrentDomain();}this.saveData=function(iq,ir,ip){il.cookiesManager.setCookie(iq,ir,ip,il.currentDomain);};this.getData=function(ip){var iq=il.cookiesManager.getCookie(ip);if(iq===io||iq===false){return undefined;}return iq;};this.removeData=function(ip){il.saveData(ip,io,-1);};im.apply(null,arguments);}function ej(){var iL="deleted",iY="updated",iW="Storage",iT="localStorage",iM="globalStorage",iS="local",iV="session",iO="jStorage",iZ="userDataBehavior",iX="undefined",iR="length",iP="__jstorage_meta";var iQ="0.3.1",il=wmjQuery,iN={parse:gD,stringify:hU};var iF={},iH={jStorage:"{}"},iG=null,iI=0,im=false,iK,iz=function(){};function ix(){var i7=false;if(iT in window){try{window.localStorage.setItem("_tmptest","tmpval");i7=true;window.localStorage.removeItem("_tmptest");}catch(i0){}}if(i7){try{if(window.localStorage){iH=window.localStorage;im=iT;}}catch(i3){}}else{if(iM in window){try{if(window.globalStorage){iH=window.globalStorage[window.location.hostname];im=iM;}}catch(i4){}}else{iG=document.createElement("link");if(iG.addBehavior){iG.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(iG);try{iG.load(iO);}catch(i2){iG.setAttribute(iO,"{}");iG.save(iO);iG.load(iO);}var i1="{}";try{i1=iG.getAttribute(iO);}catch(i5){}try{}catch(i6){}iH.jStorage=i1;im=iZ;}else{iG=null;return;}}}iy();iw();iq(iS);iq(iV);iE();iv();if("addEventListener" in window){window.addEventListener("pageshow",function(i8){if(i8.persisted){iJ();}},false);}}function iq(i8,i4){var i3=false,i0=0,i5,i6,i7={};if(!i4&&typeof window[i8+iW]!=iX){return;}if(i8==iS&&window.globalStorage){localStorage=window.globalStorage[window.location.hostname];return;}if(im!=iZ){return;}if(i4&&window[i8+iW]&&window[i8+iW].parentNode){window[i8+iW].parentNode.removeChild(window[i8+iW]);}i6=document.createElement("button");document.getElementsByTagName("head")[0].appendChild(i6);if(i8==iS){i7=iF;}else{if(i8==iV){i2();}}for(i5 in i7){if(i7.hasOwnProperty(i5)&&i5!=iP&&i5!=iR&&typeof i7[i5]!=iX){if(!(i5 in i6)){i0++;}i6[i5]=i7[i5];}}i6.length=i0;i6.key=function(jb){var i9=0,ja;i2();for(ja in i7){if(i7.hasOwnProperty(ja)&&ja!=iP&&ja!=iR&&typeof i7[ja]!=iX){if(i9==jb){return ja;}i9++;}}};i6.getItem=function(i9){i2();if(i8==iV){return i7[i9];}return il.jStorage.get(i9);};i6.setItem=function(i9,ja){if(typeof ja==iX){return;}i6[i9]=(ja||"").toString();};i6.removeItem=function(i9){if(i8==iS){return il.jStorage.deleteKey(i9);}i6[i9]=undefined;i3=true;if(i9 in i6){i6.removeAttribute(i9);}i3=false;};i6.clear=function(){if(i8==iV){window.name="";iq(iV,true);return;}il.jStorage.flush();};if(i8==iS){iz=function(i9,ja){if(i9==iR){return;}i3=true;if(typeof ja==iX){if(i9 in i6){i0--;i6.removeAttribute(i9);}}else{if(!(i9 in i6)){i0++;}i6[i9]=(ja||"").toString();}i6.length=i0;i3=false;};}function i2(){if(i8!=iV){return;}try{i7=iN.parse(window.name||"{}");}catch(i9){i7={};}}function i1(){if(i8!=iV){return;}window.name=iN.stringify(i7);}i6.attachEvent("onpropertychange",function(i9){if(i9.propertyName==iR){return;}if(i3||i9.propertyName==iR){return;}if(i8==iS){if(!(i9.propertyName in i7)&&typeof i6[i9.propertyName]!=iX){i0++;}}else{if(i8==iV){i2();if(typeof i6[i9.propertyName]!=iX&&!(i9.propertyName in i7)){i7[i9.propertyName]=i6[i9.propertyName];i0++;}else{if(typeof i6[i9.propertyName]==iX&&i9.propertyName in i7){delete i7[i9.propertyName];i0--;}else{i7[i9.propertyName]=i6[i9.propertyName];}}i1();i6.length=i0;return;}}il.jStorage.set(i9.propertyName,i6[i9.propertyName]);i6.length=i0;});window[i8+iW]=i6;}function iC(){var i0="{}";if(im==iZ){iG.load(iO);try{i0=iG.getAttribute(iO);}catch(i1){}try{}catch(i2){}iH.jStorage=i0;}iy();iw();iv();}function iE(){}function iJ(){}function ip(){}function it(i1,i0){}function iB(){}function iy(){if(iH.jStorage){try{iF=iN.parse(String(iH.jStorage));}catch(i0){iH.jStorage="{}";}}else{iH.jStorage="{}";}iI=iH.jStorage?String(iH.jStorage).length:0;if(!iF[iP]){iF[iP]={};}if(!iF[iP].CRC32){iF[iP].CRC32={};}}function iD(){ir();try{iH.jStorage=iN.stringify(iF);if(iG){iG.setAttribute(iO,iH.jStorage);iG.save(iO);}iI=iH.jStorage?String(iH.jStorage).length:0;}catch(i0){}}function io(i0){if(!i0||(typeof i0!="string"&&typeof i0!="number")){throw new TypeError("Key name must be string or numeric");}if(i0==iP){throw new TypeError("Reserved key name");}return true;}function iw(){var i2,i4,i6,i1,i5=Infinity,i0=false,i3=[];if(iK!=undefined){iK.clear();}if(!iF[iP]||typeof iF[iP].TTL!="object"){return;}i2=+new Date();i6=iF[iP].TTL;i1=iF[iP].CRC32;for(i4 in i6){if(i6.hasOwnProperty(i4)){if(i6[i4]<=i2){delete i6[i4];delete i1[i4];delete iF[i4];i0=true;i3.push(i4);}else{if(i6[i4]<i5){i5=i6[i4];}}}}if(i5!=Infinity){iK=new ia(iw,i5-i2);}if(i0){iD();iB();it(i3,iL);}}function iv(){}function iu(i0,i1){}function ir(){if(!iF[iP].PubSub){return;}var i2=+new Date()-2000;for(var i0=0,i1=iF[iP].PubSub.length;i0<i1;i0++){if(iF[iP].PubSub[i0][0]<=i2){iF[iP].PubSub.splice(i0,iF[iP].PubSub.length-i0);break;}}if(!iF[iP].PubSub.length){delete iF[iP].PubSub;}}function iA(i0,i1){}function iU(i6,i5){var i3=i6.length,i0=i5^i3,i1=0,i2,i4=1540483477;while(i3>=4){i2=((i6.charCodeAt(i1)&255))|((i6.charCodeAt(++i1)&255)<<8)|((i6.charCodeAt(++i1)&255)<<16)|((i6.charCodeAt(++i1)&255)<<24);i2=(((i2&65535)*i4)+((((i2>>>16)*i4)&65535)<<16));i2^=i2>>>24;i2=(((i2&65535)*i4)+((((i2>>>16)*i4)&65535)<<16));i0=(((i0&65535)*i4)+((((i0>>>16)*i4)&65535)<<16))^i2;i3-=4;++i1;}switch(i3){case 3:i0^=(i6.charCodeAt(i1+2)&255)<<16;case 2:i0^=(i6.charCodeAt(i1+1)&255)<<8;case 1:i0^=(i6.charCodeAt(i1)&255);i0=(((i0&65535)*i4)+((((i0>>>16)*i4)&65535)<<16));}i0^=i0>>>13;i0=(((i0&65535)*i4)+((((i0>>>16)*i4)&65535)<<16));i0^=i0>>>15;return i0>>>0;}il.jStorage={version:iQ,set:function(i0,i2,i1){io(i0);i1=i1||{};if(typeof i2==iX){this.deleteKey(i0);return i2;}iF[i0]=i2;iF[iP].CRC32[i0]="2."+iU(iN.stringify(i2),2538058380);this.setTTL(i0,i1.TTL||0);iz(i0,i2);it(i0,iY);return i2;},get:function(i1,i0){io(i1);if(i1 in iF){return iF[i1];}return i0;},deleteKey:function(i0){io(i0);if(i0 in iF){delete iF[i0];if(typeof iF[iP].TTL=="object"&&i0 in iF[iP].TTL){delete iF[iP].TTL[i0];}delete iF[iP].CRC32[i0];iz(i0,undefined);iD();iB();it(i0,iL);return true;}return false;},setTTL:function(i1,i2){var i0=+new Date();io(i1);i2=Number(i2)||0;if(i1 in iF){if(!iF[iP].TTL){iF[iP].TTL={};}if(i2>0){iF[iP].TTL[i1]=i0+i2;}else{delete iF[iP].TTL[i1];}iD();iw();iB();return true;}return false;},getTTL:function(i1){var i0=+new Date(),i2;io(i1);if(i1 in iF&&iF[iP].TTL&&iF[iP].TTL[i1]){i2=iF[iP].TTL[i1]-i0;return i2||0;}return 0;},flush:function(){iF={__jstorage_meta:{CRC32:{}}};iq(iS,true);iD();iB();it(null,"flushed");return true;},storageObj:function(){function i0(){}i0.prototype=iF;return new i0();},index:function(){var i1=[],i0;for(i0 in iF){if(iF.hasOwnProperty(i0)&&i0!=iP){i1.push(i0);}}return i1;},storageSize:function(){return iI;},currentBackend:function(){return im;},storageAvailable:function(){return !!im;},listenKeyChange:function(i1,i0){},stopListening:function(i1,i0){},subscribe:function(i1,i0){},publish:function(i0,i1){},reInit:function(){iC();}};ix();}function h9(){this.LocalSVNRevision="$Rev: 1387 $";var im="wm-SELS-";var io=new aV();var il=this;function ip(){ej();}this.saveData=function(ir,it,iq){iq=bk(iq,0);il.removeData(ir);if(iq==0){io.saveData(im+ir,it,iq);}else{wmjQuery.jStorage.set(ir,it,{TTL:iq*1000});}};this.getData=function(iq){var ir=io.getData(im+iq);if(ir===undefined){ir=wmjQuery.jStorage.get(iq,undefined);}return ir;};this.removeData=function(iq){io.removeData(im+iq);wmjQuery.jStorage.deleteKey(iq);};ip.apply(null,arguments);}function d4(iz,ix,iD){this.LocalSVNRevision="$Rev: 2005 $";var iB=5000;var iy="Conditions";var iq=this;var im=null;var io=null;var il=null;var ip=null;var iE=new Object();function iA(){io=iz;ip=iD;if(ix==undefined){ix=iB;}il=ix;}function it(iI,iJ){iI.identifier=iJ;iE[iI.Id]=iI;a9('Start watching Goal : "'+iI.Name+'" With PlayGuid of : '+iJ,3);}this.addGoalsWatch=function ir(iI,iK){for(var iJ=0;iJ<iI.length;iJ++){it(iI[iJ],iK);}iH();};this.removeGoalWatch=function iG(iI){delete iE[iI];};this.removeAllGoalsWatch=function iF(){iE=new Object();};this.checkAllGoals=function iu(){iv();};function iv(){var iI=0;a9("Checking if any goals were reached...",2);if(im!=null){im.clear();im=null;}for(var iJ in iE){if(iE[iJ]&&iE[iJ].RelatedObjectId!=undefined){gF("CheckingGoal",{GoalId:iJ,GoalName:iE[iJ].Name});a9("Checking Goal : "+iE[iJ].Name,3);iq.checkGoal(iE[iJ]);iI++;}}a9("Done checking "+iI+" Goals.",2);iH();}this.checkGoal=function iw(iJ){var iI=io.evaluate(iJ.Settings[iy]);if(iI===true){a9('Goal "'+iJ.Name+'" Reached! ',1);iq.removeGoalWatch(iJ.Id);ip(iJ);gF("GoalCompleted",{GoalId:iJ.Id,GoalName:iJ.Name});}};function iC(iK){var iI=0;for(var iJ in iK){if(iE[iJ]!=undefined&&iE[iJ].Id!=undefined&&iE[iJ].Settings!=undefined){iI++;}}return iI;}function iH(){if(im==null){if(il>0&&iC(iE)>0){im=new ia(iv,il);}}}iA.apply(null,arguments);}function h6(ir,iu,iq){this.LocalSVNRevision="$Rev: 1932 $";var iE=10*1000;var iJ=60*60;var iO="wm-wtchd";var iN="tID";var iM="plgd";var iK="fnsh";var iL="pnd";var im=null;var il=null;function it(){il=iu;im=new d4(ir,iq,iA);}var io=this;this.startWatchingTutorial=function(iQ,iP){var iR=ix(iQ);if(iR.length>0){ip(iQ,iP);im.addGoalsWatch(iR,iP);}a9("Started watching Walk-Thru : "+iQ.Name,2);};this.checkAllGoals=function(){im.checkAllGoals();};this.getWatchedTutorials=function(){var iP=il.getData(iO);if(!iP){iP=new Object();}return iP;};this.stopWatchingAllTutorials=function(){il.removeData(iO);im.removeAllGoalsWatch();};this.reloadState=function(){var iP=0;var iS=io.getWatchedTutorials();for(var iQ in iS){if(iS[iQ]!=undefined&&iS[iQ][iN]!=undefined){var iR=iS[iQ];iC(iR);iP++;}}a9("Restoring watched Goals... "+iP+" Walk-Thrus are watched.",2);};function ix(iP){var iQ=iP.Goals;if(!iQ){iQ=[];}return iQ.slice();}function ip(iQ,iP){var iR=iy(iQ,iP);il.addToDictionary(iO,iQ.TutorialId,iR,iJ);}function iy(iQ,iP){var iR=new Object();iR[iN]=iQ.TutorialId;iR[iM]=iP;iR[iK]=[];iR[iL]=[];return iR;}function iz(iR){var iS=dM(iR);if(iS>-1){var iP=K[iS];var iQ=ix(iP);return iQ;}return[];}function iC(iU){var iT=iU[iN];var iS=iz(iT);if(iS.length>0){var iR=iU[iM];var iP=iU[iK];var iQ=iU[iL];iB(iS,iQ);iB(iS,iP);iH(iS,iQ);im.addGoalsWatch(iS,iR);}}function iD(iP){il.saveData(iO,iP,iJ);}var iA=function(iP){var iQ=io.getWatchedTutorials();if(iQ[iP.TutorialId]){iQ[iP.TutorialId][iL].push(iP.Id);iD(iQ);}iG(iP);};function iH(iS,iR){for(var iQ=0;iQ<iR.length;iQ++){var iP=iw(iS,iR[iQ]);if(iP>-1){iG(iS[iP]);}}}function iw(iQ,iP){for(var iR=0;iR<iQ.length;iR++){if(iQ[iR].Id==iP){return iR;}}return -1;}function iG(iP,iQ){if(es()){return true;}a9("Sending completed Goal info to server ("+iP.Name+", "+iP.identifier+")",3);var iR=mtjQuery.ajax({url:y+"/Statistics/AddCompletedGoal?jsoncallback=?",dataType:"json",data:{goalId:iP.Id,playGuid:iP.identifier},timeout:iE});iR.success(function(iS){return function(iT){iF(iT,iS);};}(iP));iR.error(function(iT,iS){return function(iU,iV,iW){if(!iS){a9('Error sending "Goal Reached" log. Trying again...',1);}else{a9('Error sending "Goal Reached" log. Trying again...',3);}iv(iT);};}(iP,iQ));}function iv(iP){fA(function(){iG(iP,true);},500);}function iF(iQ,iP){if(iQ!="true"){iv(iP);}else{iI(iP);}}function iI(iP){a9("Completed Goal was successfully saved! ("+iP.Name+", "+iP.identifier+")",2);var iS=io.getWatchedTutorials();var iQ=iS[iP.TutorialId];if(iQ&&iP.identifier==iQ[iM]){iQ[iK].push(iP.Id);if(iz(iP.TutorialId).length==iQ[iK].length){delete iS[iP.TutorialId];}else{for(var iR=0;iR<iQ[iL];iR++){if(iP.Id==iQ[iL][iR]){iS[iP.TutorialId][iL].splice(iR,1);break;}}}iD(iS);}}function iB(iR,iT){for(var iS=0;iS<iT.length;iS++){var iQ=iT[iS];for(var iU=0;iU<iR.length;iU++){var iP=iR[iU].Id;if(iP==iQ){iR.splice(iU,1);break;}}}}it.apply(null,arguments);}function ef(){var im=this;var il;im.LocalSVNRevision="$Rev: 1935 $";function iq(iw){il=iw;}this.highlight=function ir(iB,iC,iy,ix,iz,iw){iw.initSettingsParams(iC);try{io(iB,iy,ix,iz,iw);iw.changeHighlightDivsCss(iB,iz);}catch(iA){il.lib_error(iA);}};function it(iw){var ix=mtjQuery("#"+iw);if(ix.length==0){return false;}return true;}function ip(iG,iJ,iE,ix,iF,iw){var iD=iw.getDivName();var iA=iw.getDataDivId(iF,iJ);var iH=iw.getInstanceName();var iC=iD+"-"+iF+"-"+iJ+"-"+iE;iG.data(iA,iC);for(var iI=0;iI<ix.length;iI++){var iy=ix[iI].classPropertyName;var iz="walkme-custom-"+iH+"-"+ix[iI].idName+"-"+ix[iI].id;iG.data(iy,iz);}if(!it(iC)){var iB="<div id='"+iC+"' ";iB+="class='walkme-custom-"+iH+" ";for(var iI=0;iI<ix.length;iI++){iB+=iG.data(ix[iI].classPropertyName)+" ";}iB+=" walkme-to-remove'></div>";iw.addHlDivToPage(iG,iB);}}function iu(iE,iC,iI,ix,iD,iw){var iB=iw.getDivName();var iy=iw.getDataDivId(iD,iI);var iG=iw.getInstanceName();var iA=iE.data(iy);var iF=iw.getElementDivContainer(iE);var iz=mtjQuery(iF).find("#"+iA);iA=iB+"-"+iD+"-"+iI+"-"+iC;iE.data(iy,iA);iz[0].id=iA;for(var iH=0;iH<ix.length;iH++){iz.removeClass(iE.data(ix[iH].classPropertyName));iz.addClass("walkme-custom-"+iG+"-"+ix[iH].idName+"-"+ix[iH].id);iE.removeData(ix[iH].classPropertyName);iE.data(ix[iH].classPropertyName,"walkme-custom-"+iG+"-"+ix[iH].idName+"-"+ix[iH].id);}}function iv(iA,iy,ix,iz,iw){var iD=iA.data(iw.getDataDivId(iz,0));var iB=iw.getDivName()+"-"+iz+"-0-"+iy;if(iD!=iB){for(var iC=0;iC<4;iC++){iu(iA,iy,iC,ix,iz,iw);}}}function io(iA,iy,ix,iz,iw){if(iA.data(iw.getDataDivId(iz,0))==undefined){for(var iB=0;iB<4;iB++){ip(iA,iB,iy,ix,iz,iw);}}else{iv(iA,iy,ix,iz,iw);}}this.unhighlightElement=function(iy,ix,iw){iw.unhighlightElement(iy,ix);};iq.apply(null,arguments);}function ee(){var iq=this;var im;var iJ="stepHlObj";var iy="2147483630";var ix="#55aaff";var ir;var ip={};var il=true;var io=[];function iw(iL){im=iL;h7.extend(iq,ef,im);}this.shouldShow=function iI(iL,iN){var iM=dq(z.Settings,"hlType","none");return(dq(iN,"hlType",iM)=="rect")&&(!im.isQuirksMode(iL[0]));};this.initSettingsParams=function iF(iL){ir=dq(iL,"z-index",iy);var iM=dq(iL,iJ);if(iM!=undefined){ip.left=parseFloat(iM.left);ip.top=parseFloat(iM.top);ip.width=parseFloat(iM.width);ip.height=parseFloat(iM.height);ip.thickness=parseFloat(iM.thickness);ip.color=iM.color;}else{ip.left=0;ip.top=0;ip.width=0;ip.height=0;ip.thickness=1;ip.color=ix;}};this.highlight=function iD(iP,iR,iN,iL,iO){iq._base.highlight(iP,iR,iN,iL,iO,iq);var iQ=new iE({element:iP,drawableType:iO});it(iP,iO,iQ);if(il){var iM=cL(iP);mtjQuery(iM).unbind("mousemove",iG);mtjQuery(iM).bind("mousemove",iG);io.push(iQ);}};this.enableMonitor=function(iL){il=iL;};this.getDivName=function iA(){return"highlightDiv";};this.getDataDivId=function iz(iL,iM){return iL+"-"+iq.getDivName()+"Id"+iM;};this.getInstanceName=function iC(){return"highlighter";};this.getElementDivContainer=function iB(iL){return iL.parents("body");};this.changeHighlightDivsCss=function iv(iO,iN){var iM=iO[0];var iP=iq.getElementDivContainer(iO);var iV=iM.getBoundingClientRect();var iL=cL(iO);var iW=dc(iM,iL,window);var iY=iV.left+iW.left+ip.left-(ip.width/2)-ip.thickness;var iZ=iV.top+iW.top+ip.top-(ip.height/2)-ip.thickness;var iX=iV.right-iV.left+ip.width+ip.thickness;var iQ=iV.bottom-iV.top+ip.height+ip.thickness;var iR=mtjQuery(iP).find("#"+iO.data(iq.getDataDivId(iN,0)));gM(iR,ir);iR.css("top",iZ+"px");iR.css("left",iY+"px");iR.css("width",iX+ip.thickness+"px");iR.css("height",ip.thickness+"px");iR.css("background-color",ip.color);var iS=mtjQuery(iP).find("#"+iO.data(iq.getDataDivId(iN,1)));gM(iS,ir);iS.css("top",iZ+"px");iS.css("left",iY+iX+"px");iS.css("width",ip.thickness+"px");iS.css("height",iQ+ip.thickness+"px");iS.css("background-color",ip.color);var iT=mtjQuery(iP).find("#"+iO.data(iq.getDataDivId(iN,2)));gM(iT,ir);iT.css("top",iZ+iQ+"px");iT.css("left",iY+"px");iT.css("width",iX+ip.thickness+"px");iT.css("height",ip.thickness+"px");iT.css("background-color",ip.color);var iU=mtjQuery(iP).find("#"+iO.data(iq.getDataDivId(iN,3)));gM(iU,ir);iU.css("top",iZ+"px");iU.css("left",iY+"px");iU.css("width",ip.thickness+"px");iU.css("height",iQ+ip.thickness+"px");iU.css("background-color",ip.color);iO.data(iN+"-divArray",[iR,iS,iT,iU]);iO.data(iN+"-rect",{x:iY,y:iZ,w:iX+ip.thickness,h:iQ+ip.thickness});};this.unhighlightElement=function(iM,iL){var iO=bC(iM,iL+"-highlighterRectsArray");if(iO){for(var iN=0;iN<iO.length;iN++){var iP=iO[iN];iP.hide();this.removeRectObjectFromArray(iP);}}};function it(iN,iM,iO){var iL=iM+"-highlighterRectsArray";var iP=bC(iN,iL);if(iP){iP.push(iO);}else{iP=[iO];}bD(iN,iL,iP);}var iG=function(iL){for(var iM=0;iM<io.length;iM++){var iN=io[iM];iN.monitor(iL.pageX,iL.pageY);}};var iK=function(iN){try{var iL=cL(iN);if(iL){mtjQuery(iL).unbind("mousemove",iG);}}catch(iM){}};this.removeRectObjectFromArray=function iH(iN){var iM=-1;for(var iL=0;iL<io.length;iL++){if(io[iL].getHash()==iN.getHash()){iM=iL;break;}}if(iM>=0){io.splice(iM,1);}if(io.length==0){iK(iN.getElement());}};this.addHlDivToPage=function iu(iM,iL){iM.parents("body").append(iL);};function iE(){var iO=this;var iM=null;var iN=null;var iP=null;var iL=null;function iR(iY){iM=iY.element;iL=iY.drawableType;iN=cn();iP=true;}this.monitor=function iV(i1,i2){try{iM[0].tagName;}catch(iY){e9("HighlighterRect.monitor: element destroyed. Garbage collecting");bA();return;}var i7=iM.data(iL+"-rect");var i0=2;var i6=i7.y-i0;var i5=i7.x-i0;var i3=i7.h+i0*2;var i4=i7.w+i0*2;var iZ=iQ(i1,i5,i5+i4)&&iQ(i2,i6,i6+i3);if(iZ){this.hide();}else{this.show();}};this.show=function iX(){if(!iP){iO.setVisibilty(true);}};this.setVisibilty=function iW(i1){var iY=i1?"block":"none";var iZ=iM.data(iL+"-divArray");for(var i0=0;i0<iZ.length;i0++){iZ[i0].css("display",iY);}iP=i1;};this.hide=function iU(){if(iP){iO.setVisibilty(false);}};function iQ(i0,iZ,iY){return(iZ<=i0&&i0<=iY);}this.getHash=function iT(){return iN;};this.getElement=function iS(){return iM;};iR.apply(null,arguments);}iw.apply(null,arguments);}function em(){var io=this;var il;var iD="stepIoObj";var iu="2147483629";var it="#000000";var im={};function ir(iE){il=iE;h7.extend(io,ef,il);}this.shouldShow=function iC(iE,iG){var iF=dq(z.Settings,"ioEnabled","0");return(dq(iG,"ioEnabled",iF)=="1")&&(!il.isQuirksMode(iE[0]));};this.initSettingsParams=function iB(iE){im.zindex=dq(iE,"z-index",iu);var iF=dq(iE,iD);if(iF!=undefined){im.left=parseFloat(iF.left);im.top=parseFloat(iF.top);im.width=parseFloat(iF.width);im.height=parseFloat(iF.height);im.opacity=parseFloat(iF.opacity);im.color=iF.color;}else{im.left=0;im.top=0;im.width=0;im.height=0;im.opacity=0.5;im.color=it;}};this.highlight=function iA(iH,iI,iF,iE,iG){io._base.highlight(iH,iI,iF,iE,iG,io);};this.getDivName=function iw(){return"insideoutDiv";};this.getDataDivId=function iv(iE,iF){return iE+"-"+io.getDivName()+"Id"+iF;};this.getInstanceName=function iz(){return"insideouter";};function ix(){var iE=mtjQuery(document);var iG=document.documentElement.clientWidth;var iF=iE.height();return{height:iF,width:iG};}this.getElementDivContainer=function iy(iE){return mtjQuery(document).find("body");};this.changeHighlightDivsCss=function iq(iI,iH){var iF=ix();var iG=iI[0];var iJ=io.getElementDivContainer(iI);var iQ,iR={top:0,left:0};var iE=cL(iI);if(iI.data("iframe")){var iP=fH.getRectRelativeToWindow(iG,window);if(!iP){return;}iQ=iP;}else{iQ=iG.getBoundingClientRect();iR=dc(iG,iE,window);}var iT=iQ.left+iR.left+im.left-(im.width/2);var iU=iQ.top+iR.top+im.top-(im.height/2);var iS=iQ.right-iQ.left+im.width;var iK=iQ.bottom-iQ.top+im.height;var iL=mtjQuery(iJ).find("#"+iI.data(io.getDataDivId(iH,0)));gM(iL,im.zindex);iL.css("top","0px");iL.css("left","0px");iL.css("width",iF.width-0.5+"px");iL.css("height",iU+"px");iL.css("background-color",im.color);iL.css("opacity",im.opacity);var iM=mtjQuery(iJ).find("#"+iI.data(io.getDataDivId(iH,1)));gM(iM,im.zindex);iM.css("top",iU+"px");iM.css("left",iT+iS+"px");iM.css("width",Math.floor(iF.width-iS-(iQ.left+im.left-(im.width/2)))+"px");iM.css("height",iK+"px");iM.css("background-color",im.color);iM.css("opacity",im.opacity);var iN=mtjQuery(iJ).find("#"+iI.data(io.getDataDivId(iH,2)));gM(iN,im.zindex);iN.css("top",iU+iK+"px");iN.css("left","0px");iN.css("width",iF.width-0.5+"px");iN.css("height",iF.height-(iU+iK)+"px");iN.css("background-color",im.color);iN.css("opacity",im.opacity);var iO=mtjQuery(iJ).find("#"+iI.data(io.getDataDivId(iH,3)));gM(iO,im.zindex);iO.css("top",iU+"px");iO.css("left","0px");iO.css("width",iQ.left+im.left-(im.width/2)-0.5+"px");iO.css("height",iK+"px");iO.css("background-color",im.color);iO.css("opacity",im.opacity);};this.unhighlightElement=function(iF,iE){mtjQuery(".walkme-custom-insideouter").hide();};this.addHlDivToPage=function ip(iF,iE){mtjQuery(document).find("body").append(iE);};ir.apply(null,arguments);}var Y=1;function Z(){var iE=this;var iw=null;var iB=null;var iy=null;var il=false;var iD=true;var iq=false;var iv=false;var im=false;var iA=null;var ir=false;var iF=false;var ix=false;var it=null;var iu=null;var io=[];var iz=null;var ip=null;var iC=1;var iV=150;var jn="animations";var jw="marginLeft";var iL=250;var jy=10;var jA=0.3;var jz=50;var jd={0:"Top",1:"Left",2:"Top",3:"Left"};var iT="inline";var iS={InitCSS:{display:iT},Properties:{},Options:{}};function iR(jE,jF){i7();var jD=jE?jE:iS;iw=iQ(jD.InitCSS);iB=iQ(jD.Properties);iy=iQ(jD.Options);jj(jD.MetaData);iF=jF;}function iX(){return true;}this.disableAnimation=function iW(){iD=false;};this.setPosition=function jo(jD){iA=jD;i0();};this.postAnimation=function je(jD){if(jD){io.push(jD);}};this.prepare=function jf(jD,jE){it=jD;iu=jE;iz=i2(it);jg();if(jp()){i5();i4();i3();iE.postAnimation(jm);iy.complete=iK;}else{iE.postAnimation(js);}if(jB()){iE.postAnimation(iG);}};this.animate=function iH(jD){if(!it){if(jD){jD();}return;}this.postAnimation(jD);if(jp()){il=true;i8(it);it.animate(iB,iy);ju();}else{jr();iK();}};this.destroy=function iU(jD,jE,jF,jG){if(jp()){iZ(jD.add(jE),jG);if(jF){jF.fadeOut(iV,function(){jF.remove();});}}else{jG(jD.add(jE));if(jF){jF.remove();}}};function iZ(jE,jD){jE.removeAttr("id").find("div").removeAttr("id");jE.fadeOut(iV,function(){if(jD){jD(jE);}});}function iQ(jD){return mtjQuery.extend({},jD);}function i2(jD){return{filter:jD.css("filter")};}function i5(){if(im&&iu){ji(iJ);}else{io.push(js);}}function i4(){if(iv){i6();ji(jl);}}function i3(){if(jq()){var jD=jC(it,i1());iE.postAnimation(function(){jv(jD);});}}function i1(){if(iq){return iN;}else{if(ix){return i9;}}}function jg(){it.css({display:"block",visibility:"hidden",filter:""});}function jq(){return iq||ix;}function iK(jD){for(var jE=0;jE<io.length;jE++){if(typeof(io[jE])=="function"){io[jE].apply(null,arguments);}}io.length=0;}function ju(){var jD=iy.duration*iC;setTimeout(iY,jD);}function jr(){mtjQuery(it).css({display:iT,visibility:""}).css(iz);}function iI(jD){if(!it){return;}}function jm(){if(it){it.css(iz);}}function i7(){ip=mtjQuery({});}function ji(jD){ip.queue(jn,jD);}function iY(){ip.dequeue(jn);}function i0(){var jD={};var jE={};if(jc()){jD.size="height";jD.osize="width";}else{jD.size="width";jD.osize="height";}if(!iq&&iB.size){if((iA==fG.Top&&jD.size=="height")||(iA==fG.Left&&jD.size=="width")){ix=true;}}jE.marginTop=(iA==fG.Bottom)?-1:1;jE.marginLeft=(iA==fG.Right)?-1:1;jD.margin="margin"+jd[iA];jk(iB,jD,jE);jk(iw,jD,jE);}function jk(jF,jH,jD){if(!jF){return;}for(var jG in jF){if(jF.hasOwnProperty(jG)){var jI=jG;if(eu(jH[jG])){iP(jF,jG,jH[jG]);jI=jH[jG];}if(eu(jD[jI])){var jE=jF[jI].toString().replace("px","");jF[jI]=(jD[jI]*jE)+"px";}}}}function iP(jD,jF,jE){var jG=jD[jF];delete jD[jF];jD[jE]=jG;}function iJ(){jt(iu);setTimeout(function(){iY();},iL);}function js(){mtjQuery(iu).each(function(){this.show();});iY();}function jt(jD){var jF=jc();var jI=jF?"marginTop":"marginLeft";var jE=jF?"border-right-width":"border-top-width";var jH=jb()?1:-1;var jG=jD.length-1;mtjQuery(jD).each(function(jM,jL){this.css({visibility:"hidden",display:"block"});var jN=(parseInt(this.css(jE),10)-2)*jH;var jO=this[0].style.zIndex;var jK={};jK[jI]=0;jK.opacity=1;var jJ={};jJ.duration=iL;jJ.complete=(function(jP,jQ){return function(){jP.css(jI,"");jP.css("zIndex",jQ);};})(this,jO);if(jM==jG){this.css("zIndex",jO-1);}this.css("visibility","").css(jI,jN).animate(jK,jJ);});}function jc(){if((iA==fG.Bottom)||(iA==fG.Top)){return true;}return false;}function ja(){if((iA==fG.Left)||(iA==fG.Right)){return true;}return false;}function jb(){if((iA==fG.Bottom)||(iA==fG.Right)){return true;}return false;}function i8(jD){if(!iA&&iw.margin){iw.margin=0;}mtjQuery(jD).css({display:"none",visibility:""}).css(iz).css(iw);}function jj(jD){if(jD){iq=bk(jD.center,false);iv=bk(jD.hwa,false);im=bk(jD.are,false);iC=bk(jD.delay,1);}}function i6(){it.children(":visible").addClass("walkme-balloon-hidden-content").css("display","none");}function jl(){it.children(".walkme-balloon-hidden-content").removeClass("walkme-balloon-hidden-content").fadeIn(250,function(){mtjQuery(this).css("direction",mtjQuery(this).css("direction"));});}function jC(jF,jD){var jE={position:"absolute",top:jF.css("top"),left:jF.css("left"),height:jF.height(),width:jF.width(),zIndex:jF[0].style.zIndex};var jG=mtjQuery("<div />").css(jE);jF.css({top:0,left:0}).wrap(jG);jD(jG,jF);return jE;}function jv(jD){if(ix){it.css("bottom","");it.css("right","");}it.unwrap().css(jD);}function iG(){it.bind("click.wm_animation",function(){if(!ir){ir=true;jx(it,jy,jw);if(iu){for(var jD=0;jD<iu.length;jD++){jx(iu[jD],jy,jw);}}}});jh(it);}function jh(jD){jD.find("button,a,.walkme-custom-balloon-close-button").bind("click.wm_animation",function(jE){jE.stopPropagation();});}function jx(jF,jG,jE){if(jG<=0){jF.css(jE,"");ir=false;return;}var jD=[];jD[jE]=iM(jG);jF.animate(jD,jz,function(){jx(jF,jG-1,jE);});}function iM(jE){var jF=((jE%2)*2)-1;var jD=(jE*jA);return jD*jF;}function i9(jE,jG){var jD=parseInt(jG.css("border-top-width"),10)+parseInt(jG.css("border-bottom-width"),10);var jF=parseInt(jG.css("border-left-width"),10)+parseInt(jG.css("border-right-width"),10);jG.css("top","");jG.css("left","");jG.css("bottom","-"+jD+"px");jG.css("right","-"+jF+"px");}function iN(jE,jD){iO(jE,jD);iy.step=function(){iO(jE,jD);};}function iO(jE,jF){var jG=(jE.height()/2)-(jF.height()/2);var jD=(jE.width()/2)-(jF.width()/2);jF.css("top",jG);jF.css("left",jD);}function jp(){if(il||!iX()||!iD){return false;}return true;}function jB(){if(iF){return true;}return false;}iR.apply(null,arguments);}mtjQuery.extend(mtjQuery.easing,{easeOutBounce:function(iq,ip,il,im,io){if((ip/=io)<(1/2.75)){return im*(7.5625*ip*ip)+il;}else{if(ip<(2/2.75)){return im*(7.5625*(ip-=(1.5/2.75))*ip+0.75)+il;}else{if(ip<(2.5/2.75)){return im*(7.5625*(ip-=(2.25/2.75))*ip+0.9375)+il;}else{return im*(7.5625*(ip-=(2.625/2.75))*ip+0.984375)+il;}}}},easeOutBack:function(ir,iq,il,im,io,ip){if(ip==undefined){ip=1.70158;}return im*((iq=iq/io-1)*iq*((ip+1)*iq+ip)+1)+il;},easeOutElastic:function(iu,it,im,io,ip){var ir=1.70158;var iq=0;var il=io;if(it==0){return im;}if((it/=ip)==1){return im+io;}if(!iq){iq=ip*0.3;}if(il<Math.abs(io)){il=io;var ir=iq/4;}else{var ir=iq/(2*Math.PI)*Math.asin(io/il);}return il*Math.pow(2,-10*it)*Math.sin((it*ip-ir)*(2*Math.PI)/iq)+io+im;}});this.Balloon=function ai(){this.LocalSVNRevision="$Rev: 2009 $";var iR=this;var iv=null;var iw=true;var io;var iK=false;var it=false;var im=false;var iP=false;var iS="";var iq="";var iQ="";var iC="";var ir="";var iE=false;var ip="";var iM="";var iz=0;var iy=0;var iN=0;var iT=0;var iO=hs.Normal;var ix;var iF=false;var iI=null;var iH=null;var iG=null;var iJ=null;var iL;var iA;var iB;var iD;var il=null;var jx="scroll";var jy={Animated:0,Normal:1,None:2};var iu;function i5(jS){iL=jS.positionHelper;iv=jS.element;iB=jS.highlighter;iD=jS.insideouter;iA=jS.forceEmbedBalloonInIframe;iu=jS.dontShowIoBalloon;iF=jS.isFirstStep;gN(iv);if(!iv){iw=true;return;}if((!iv.data("iframe"))||(iA)){iw=true;}else{iw=I.shouldHandlePageAsFramesets();}}this.SetTimeoutOn=function jK(){if(!bC(iv,"elementDisplayTimeout")){var jS=fA(function(){iR.elementDisplayTimeoutFunction();},200);bD(iv,"elementDisplayTimeout",jS);}};this.SetFixedSize=function jD(jT,jS){iz=jT;iy=jS;};this.SetConfiguration=function jA(jS){ip=jS;I.FixConfiguration(ip);i4(jS);};function i4(jS){var jU=(jS.AnimateFirst&&!iF)||iE;var jT=jS.Vibrate&&!iE;il=new Z(jS.Animation,jT);if(jU){il.disableAnimation();}}this.SetSettings=function jH(jS){iM=jS;};this.SetText=function jJ(jU,jS,jT){iS=jU;iQ=jT;iq=fl(jS);};this.SetEnd=function jC(jS){ix=jS;};this.SetContentHTML=function jB(jS){ir=jS;};this.SetHTML=function jE(jS){iC=jS;};this.SetIsFirstStep=function jF(jS){iF=jS;};this.AddNextButton=function iW(){iK=true;};this.AddDoneButton=function iV(){it=true;};this.AddSubmitButton=function iY(){iP=true;};this.AddBackButton=function iU(){im=true;};this.SetPosition=function jG(jS){io=jS;};this.CaptureBallon=function i3(jS){iE=jS;iw=false;if(il){il.disableAnimation();}};this.SetStepId=function jI(jS){iN=jS;};this.SetTutorialId=function jL(jS){iT=jS;};this.SetType=function jM(jS){iO=jS;};var i2=function i2(jV){var jW=mtjQuery(".walkme-custom-balloon-title",jV).text();var j4=0;var jZ=0;var j2=0;var jT=mtjQuery(".walkme-custom-balloon-content",jV);if(jT.length>0){var jU=jT.html().replace(/<br*">/g,"< >").split("< >");for(var j1=0;j1<jU.length;j1++){var j3=jU[j1].replace(/(<([^>]+)>)/ig,"").length;if(j2<j3){j2=j3;}}var jS=mtjQuery(".walkme-custom-balloon-content span",jV);if(jS.length>0){jZ=parseInt(jS.css("font-size").replace(/px/,""));}else{jZ=parseInt(jT.css("font-size").replace(/px/,""));}}var jX=mtjQuery(".walkme-custom-balloon-title span",jV);if(jX.length>0){j4=parseInt(jX.css("font-size").replace(/px/,""));}else{j4=parseInt(mtjQuery(".walkme-custom-balloon-title",jV).css("font-size").replace(/px/,""));}var jY=0;if(jW.length*j4>j2*jZ){jY=jW.length*j4;}else{jY=j2*jZ;}var j0=parseFloat(dq(z.Settings,"quirksModeFactor",0.5));jY*=j0;return jY;};this.showMTBalloon=function jO(jT,jS,jV,j4,j5){var jU;if(!iw){jU=dI(null,true);}else{jU=dI(jT);}var jW=P(jS,jU,ip,iN,iT,iE);Q(jW);mtjQuery(jW).addClass("walkme-custom-step-"+iN);mtjQuery("*",jW).addClass("walkme-custom-step-"+iN);if(iN){jW.attr("id","walkme-balloon-"+iN);}if(iw){jW.data("iframe",jT.data("iframe"));}var j1=0;if(I.isQuirksMode(jT[0])){j1=i2(jW);}else{j1=jW.width();}var j6=0;if(!j4||j4<=0){j6=400;}else{j6=j4;}var j7=190;if(j1<j7){j1=j7;}if(j1>j6){j1=j6;}jW.css("width",j1+"px");if(!j4||j4<=0){var j9=0;mtjQuery.each(mtjQuery("[width], [style*=width]",jW),function(ka,kb){if(mtjQuery(kb).width()>j9){j9=mtjQuery(kb).width();}});if(j9>j1){var j3=mtjQuery(".walkme-custom-balloon-content",jW);j3.css("width",j9+"px");jW.css("width","auto");}}var jZ=jW.height();if(j5&&j5>0){if(jZ>j5){jZ=j5;}}if(I.shouldHandlePageAsFramesets()){var jY=iL.getDrawingArea(jT,!iw);if(jZ>(jY.height-5)){var j2=mtjQuery(".walkme-custom-balloon-bottom-div",jW);var j8=mtjQuery(".walkme-custom-balloon-separator",jW);jZ-=j2.height();jZ-=j8.height();j2.remove();j8.remove();}}jW.css("height",jZ+"px");var jX={width:jW.width(),height:jW.height()};bD(jT,"balloonDiv",jW);if(iO&&iO==hs.Popup){iR.showPopupBalloon(jW);}else{var j0=(ip.BalloonRadius!=undefined)?ip.BalloonRadius:15;iR.showNormalBalloon(jW,jX,jV,jU,j0);}};var i0=function i0(jV,jW){var jS=function(j6,j7){return(j6+j7)/2;};var j5=function(j6){return parseInt((""+j6).replace("#",""),16);};var jZ=function(j6){return(j6>>0).toString(16);};var j0=j5(jV);var j1=j5(jW);var j2=function(j6){return j6>>16&255;};var jX=function(j6){return j6>>8&255;};var jT=function(j6){return j6&255;};var j4=jZ(jS(j2(j0),j2(j1)));var jY=jZ(jS(jX(j0),jX(j1)));var jU=jZ(jS(jT(j0),jT(j1)));var j3="#"+((j4.length<2)?("0"+j4):j4)+((jY.length<2)?("0"+jY):jY)+((jU.length<2)?("0"+jU):jU);return j3;};this.showNormalBalloon=function jP(jY,jZ,jX,jW,j1){var j6=ac+1;jX=(jX!=undefined)?jX:aj;var j0=iL.getDrawingArea(iv,!iw);var j3=iL.getElementBounds(iv,iw,window,iM);var j7=bd(j3,jZ,jX,j6,j0);il.setPosition(j7.positionType);var j8=dq(iM,"z-index","2147483630");var jU=i9(j7,jZ,j3);var j2={top:jU.top,left:jU.left};if(j7.positionType==fG.Top){j2.top=jU.top;jU.top=jU.top-ip.BalloonBorderWidth+1;j2.left=jU.left-1;}if(j7.positionType==fG.Bottom){jU.top=jU.top+ip.BalloonBorderWidth-1;j2.top=jU.top-ip.BalloonBorderWidth;j2.left=jU.left-1;}if(j7.positionType==fG.Left){if(I.isQuirksMode(iv[0])){jU.left=jU.left-ip.BalloonBorderWidth+1;j2.left=jU.left+ip.BalloonBorderWidth;j2.top=jU.top-1;}else{jU.left=jU.left-ip.BalloonBorderWidth+1;j2.left=jU.left+ip.BalloonBorderWidth-1;j2.top=jU.top-1;}}if(j7.positionType==fG.Right){jU.left=jU.left+ip.BalloonBorderWidth-1;j2.left=jU.left-ip.BalloonBorderWidth;j2.top=jU.top-1;}var jS="";var jT=null;if(ip.BalloonBorderWidth>0){jT=bv(j2,j7,jW,ip.BorderColor,14,14);jT.addClass("walkme-custom-balloon-arrow");jT.addClass("walkme-custom-balloon-arrow-"+aZ[j7.positionType]);jT.addClass("mt-custom-balloon-arrow-outer");jT.addClass("walkme-custom-balloon-arrow-outer");jT.addClass("walkme-custom-balloon-arrow-outer-"+aZ[j7.positionType]);jT.addClass("walkme-custom-step-"+iN);}var j4=(ip.BalloonColor2=="")?"transparent":ip.BalloonColor2;switch(aZ[j7.positionType]){case"bottom":j4=(ip.Color=="")?"transparent":ip.Color;break;case"top":break;case"left":case"right":if((ip.Color=="transparent")||(ip.BalloonColor2=="transparent")||(ip.Color=="#00000000")||(ip.BalloonColor2=="#00000000")){j4="transparent";}else{j4=i0(ip.Color,ip.BalloonColor2);}break;}jS=bv(jU,j7,jW,j4,13,13);jS.addClass("walkme-custom-balloon-arrow");jS.addClass("walkme-custom-balloon-arrow-"+aZ[j7.positionType]);jS.addClass("mt-custom-balloon-arrow-inner");jS.addClass("walkme-custom-balloon-arrow-inner");jS.addClass("walkme-custom-balloon-arrow-inner-"+aZ[j7.positionType]);jS.addClass("walkme-custom-step-"+iN);bD(iv,"arrowDiv",jS);if(jT){bD(iv,"arrowDiv2",jT);}j7=jR(j7,jZ,j3,j1);jY.css("top",j7.top-ip.BalloonBorderWidth+"px");jY.css("left",j7.left-ip.BalloonBorderWidth+"px");if(j7.positionType==fG.Top){jY.css("top",j7.top-2*ip.BalloonBorderWidth+1+"px");}if(j7.positionType==fG.Bottom){jY.css("top",j7.top-1+"px");}if(j7.positionType==fG.Left){jY.css("left",j7.left-2*ip.BalloonBorderWidth+1+"px");if(I.isQuirksMode(iv[0])){jY.css("left",j7.left-2*(ip.BalloonBorderWidth)+"px");}}if(j7.positionType==fG.Right){jY.css("left",j7.left-1+"px");}jY.css("width",jZ.width+"px");if(I.isQuirksMode(iv[0])){jY.css("width",jZ.width+2*ip.BalloonBorderWidth+"px");}jY.css("height",jZ.height+"px");gZ(jY,j8);if(jT){gZ(jT,j8);}gZ(jS,j8);var j5=dq(iM,"isInvisible",0)==1;if(j5){jY.hide();jS.hide();if(ip.BalloonBorderWidth>0){jT.hide();}}else{var jV=[jS];if(jT){jV.push(jT);}il.prepare(jY,jV);}};function jR(j3,jS,jV,jT){if((j3.positionType==fG.Right)||(j3.positionType==fG.Left)){var jU=mtjQuery(cL(iv)).height();if(((jS.height+j3.top)>(jU))){var jX=14;var jW=jV.top+(jV.height/2);var jY=jW-(jS.height/2);var j2=jW-jS.height+jX+(jT/2);j2=Math.max(0,j2);var j1=jW-jX-(jT/2);var j0=jU-jS.height-1;var jZ=Math.min(j0,j1);j3.top=jY;j3.top=Math.min(jZ,j3.top);j3.top=Math.max(j3.top,j2);j3.top=Math.max(0,j3.top);}}return j3;}this.showPopupBalloon=function jQ(jS){var jZ=dq(iM,"z-index","2147483631");jS.css({"z-index":jZ,"min-width":"400px"});var jU=parseInt(dq(iM,"leftOffset",0));var jV=parseInt(dq(iM,"topOffset",0));var jW={top:jV,left:jU};I.centerElementInPage(jS,false,jW);function jX(){if(I.shouldHandlePageAsFramesets()){iX(I.getBiggestFrame().contentWindow,jS,jW);}else{iX(window,jS,jW);}}var jT=!((I.isQuirksMode()||I.shouldHandlePageAsFramesets()));var jY=((dq(iM,"fadeBackground",1)==1)||(dq(iM,"fadeBackground",true)==true)||(dq(iM,"fadeBackground","True")=="True"));if(jT&&jY){i8(jZ);}il.prepare(jS);il.postAnimation(jX);};function iX(jU,jS,jT){gc();mtjQuery(jU).bind("scroll.walkme, resize.walkme",function(){jS.stop(false,true);_makeTutorial.centerElementInPage(jS,true,jT);});}this.getBalloonDiv=function jb(){return bC(mtjQuery(iv[0]),"balloonDiv");};function jr(){var jS=dq(iM,"isNextToDone","0");return(ix==hv.NEXT_BUTTON&&jS=="1");}this.Show=function jN(jW,jT){try{if(iE||(iB.shouldShow(iv,iM))){var jU=[{id:iN,idName:"step",classPropertyName:"hlStepClass"},{id:iT,idName:"walkthru",classPropertyName:"hlWalkthruClass"}];iB.highlight(iv,iM,iN,jU,"balloon");}bD(iv,"isCapture",iE);var jS=(iC)?iC:this.getBalloonHTML();var j1;if(!iw){j1=cU(mtjQuery("body"));}else{j1=cU(iv);}var jY=0;var jX=0;if(iz>0){jY=iz;}if(iy>0){jX=iy;}if(j1.width()<=200){if((io==0)||(io==2)||(io==undefined)){jY=j1.width()-iv.position().left-20;if(jY<120){jY=120;}}}if(j1.height()<=200){if((io==0)||(io==2)||(io==undefined)){io=1;}}if(!iw){var j0=iL.getPosRelativeToWindow(iv[0],window,true);iI=j0.top;iH=j0.left;}else{var jZ=iv.offset();iI=Math.floor(jZ.top);iH=Math.floor(jZ.left);}iG=iv.height();iJ=iv.width();i6(jW,jT,jS,jY,jX);if(!iu&&iD.shouldShow(iv,iM)){var jU=[{id:iN,idName:"step",classPropertyName:"ioStepClass"},{id:iT,idName:"walkthru",classPropertyName:"ioWalkthruClass"}];iD.highlight(iv,iM,iN,jU,"balloon");}}catch(jV){I.lib_error(jV);}};function i6(jU,jT,jS,jX,jW){var jU=(jU&&iO!=hs.Popup);var jV=false;if(jU){jV=jt(iv);}iR.showMTBalloon(iv,jS,io,jX,jW);if(!jV&&jU){jz(iv,null,function(){il.animate(jT);},iM,io);}else{il.animate(jT);}}function jt(jS){var jT=cz();if(!jT){return false;}var jU=jS.parents("div");var jV=ca(jU,function(jW){var jW=jT(jW);if(jW.data!=undefined&&jW.data("jsp")!=undefined){return jW;}});if(jV){jT(jV).data("jsp").scrollToElement(jS,true,false);return true;}return false;}function i8(jU){var jS=dI();jS.append('<div id="walkme-popup-background" class="mt-to-destroy"></div>');var jT=mtjQuery("#walkme-popup-background",jS);jT.css({opacity:"0.7",display:"none",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",background:"#000000",border:"1px solid #cecece","z-index":jU-1});jT.fadeIn("slow");}function jp(jV,jT,jU,jS,jW){if(jU==0||jU==2){return((jV+jT+jS)>jW);}else{return(jV>jW);}}function jz(jX,jV,jU,j1,jT){try{var j0=dq(iM,jx,jy.Animated);if((j0!=jy.None)&&(jX.css("position")!="fixed")){var j2=(j0==jy.Animated)&&!(jX.data("iframe"))&&(dq(j1,"scrollOld","0")!=1);var jS=false;var jZ=parseFloat(dq(j1,"endScroll",-1))/100;if(j2){var jY=jw(jX,jT,jZ);try{if(iZ(jY,jX,jZ,jT,jU)){jS=true;}}catch(jW){}}if(!jS||(j0==jy.Normal)){jv(jX,jZ,jU);}}else{if(jU){jU();}}}catch(jW){I.lib_error(jW);}}this.getPredefinedBalloonHTML=function jj(jS){if(jS==-1){return jn();}else{I.lib_error(false,"Invalid getPredefinedBalloonHTML id: "+jS);}};function jv(jV,jW,jT){var jX=ez(jV);if(!jX){jU(jV,true,(jV.data("iframe")!=null));}var jS=bC(mtjQuery(jV[0]),"balloonDiv");if(!ez(jS)){if(jV.offset().top>jS.offset().top){jU(jS,true);}else{jU(jS,false);}}if(jT){jT();}function jU(jZ,jY,j0){if(jW>=0&&!j0){window.scrollTo(0,(jZ.offset().top-(cU(jZ).height()*jW)));}else{jZ[0].scrollIntoView(jY);}}}function jw(jV,jU,jZ){var jT=bC(mtjQuery(jV[0]),"balloonDiv");var jS=bC(mtjQuery(jV[0]),"arrowDiv");var jX=jV;var jY=cU(jV);var j0=(jV.offset().top<jT.offset().top)||(jV.offset().top+jV.height()<jT.offset().top+jT.height());var j2=jY.top()-0+jY.height()-0;var j1;if(jZ>=0&&(jU==1||jU==3)){jX=jV.height()>jT.height()?jV:jT;}else{if(j0){j1=(j2<=(jV.offset().top+jV.height()+jT.height()+jS.height()))?"down":"up";if(j1=="down"){jX=jT;}else{if(j1=="up"){jX=jV;}}}else{j1=(jY.top()-0>=(jV.offset().top-jT.height()-jS.height()))?"up":"down";if(j1=="down"){jX=jV;}else{jX=jT;}}}var jW=jp(jV.height(),jT.height(),jU,jS.height(),(jY.height()-0));if(jW){jX=jT;}return jX;}function iZ(jW,jV,jX,jS,jT){if(I.isQuirksMode(iv[0])){return false;}if(jU("html")){return true;}if(!ez(jV)){return jU("body");}return false;function jU(j0){var jY={duration:"slow",rootElement:j0,elementToFindScrollableFor:jV,complete:function(){if(jT){jT();}}};if(jX>=0){var jZ=iR.getBalloonDiv().height();jY.endScroll={percent:jX,balloonHeight:jm(jV,jS,jZ),totalDrawnHeight:jg(jV,jS,jZ)};}return jW.scrollintoview(jY);}}function jg(jU,jT,jS){var jV=jU.height();var jW=cU(jU).height()-0;if(jp(jV,jS,jT,ac,jW)){return jS;}else{if(jT==0||jT==2){return jV+jS+ac+1-parseInt(dq(iM,"topOffset",0));}else{return Math.max(jV,jS);}}}function jm(jV,jT,jS){var jW=jV.height();var jU=parseInt(dq(iM,"topOffset",0));if(jT==0){return jS+ac+1-jU;}else{if(jT==2){return jW+jS+ac+1-jU;}else{if(jS>jW){return jS-jU;}else{return(jW-jS)/2+jS-jU;}}}}function jn(){var jS=""+jf("outer-div")+"<div class='walkme-custom-balloon-top-div mt-custom-balloon-top-div' style='text-align: {{directionSide}};padding-top:5px; padding-{{directionOppositeSide}}: 3px; padding-bottom: 1px; padding-{{directionSide}}: 7px;margin:3px 3px 0 3px;direction: {{direction}};'><div class='walkme-custom-balloon-content-wrapper' style='min-height: {{#buttonsExist}}30{{/buttonsExist}}{{^buttonsExist}}0{{/buttonsExist}}px;'>{{#displayX}}<div class='walkme-custom-balloon-close-button walkme-action-close mt-custom-balloon-close-button walkme-action-close' style='opacity:0.7; font-size: 16px; position: absolute; top: 2px; {{directionOppositeSide}}: 8px; cursor: pointer;color:{{contentColor}};font-weight:normal;font-family:;' title='Stop Walk-thru'>&#215;</div>{{/displayX}}<div class='walkme-custom-balloon-title mt-custom-balloon-title' style='text-align: {{directionSide}};font-weight:bold;margin-top:2px;margin-{{directionOppositeSide}}:14px;font-size:15px;color:{{headerColor}};font-family:{{{font}}};'>"+jf("title")+"{{{title}}}</div>{{#content}}<div class='walkme-custom-balloon-content mt-custom-balloon-content' style='text-align: {{directionSide}};margin-top: 4px; margin-{{directionOppositeSide}}: 6px; font-family:{{font}};font-size:14px;color:{{contentColor}}'>"+jf("content")+"{{{content}}}</div>{{/content}}</div><div class='walkme-custom-balloon-top-div-bottom mt-custom-balloon-top-div-bottom' style='clear: both;'>{{^buttonsExist}}<div class='walkme-custom-balloon-no-buttons-div' style='height: 10px'></div>{{/buttonsExist}}{{#buttonsExist}}<div class='walkme-custom-balloon-buttons-div mt-custom-balloon-buttons-div' style='clear:both;padding:5px;text-align:{{directionOppositeSide}};direction:{{direction}}'>{{#buttons}}<button class='{{classes}}' type='button' style='{{{cssReset}}};-moz-border-radius:{{buttonRadius}}px; -webkit-border-radius:{{buttonRadius}}px; border-radius:{{buttonRadius}}px; direction: {{direction}};{{BackgroundCSS}}-moz-box-shadow: 0 0 {{buttonShadowWidth}}px rgba(0, 0, 0, 0.4); -webkit-box-shadow: 0 0 {{buttonShadowWidth}}px rgba(0, 0, 0, 0.4); box-shadow: 0 0 {{buttonShadowWidth}}px rgba(0, 0, 0, 0.4); border: 1px solid {{buttonBorderColor}}; color: {{buttonTextColor}}; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal; font-family: Arial; margin-{{directionSide}}: 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static; overflow: visible;' {{wtIdAttribute}}>{{{buttonText}}}</button>{{/buttons}}</div>{{/buttonsExist}}</div></div>{{#showBottomDiv}}<div class='walkme-custom-balloon-separator' style='margin: 0 10px; height: 1px; opacity: 0.2; filter: alpha(opacity=20); background-color: {{footerTextColor}}; line-height: 0px;'>&#160;</div><div class='walkme-custom-balloon-bottom-div' style='position: relative; height: 23px;'><div class='walkme-custom-balloon-subtext mt-custom-balloon-subtext' style='text-align: {{directionSide}}; position: absolute; {{directionSide}}: 10px; display:inline-block;font-family: {{{font}}};font-size:10px;margin-top:3px;margin-bottom:0px;color: {{footerTextColor}}'>{{{subText}}}</div><div class='walkme-custom-balloon-powered-by-div mt-custom-balloon-powered-by-div' style='display:inline-block;position: absolute; {{directionOppositeSide}}: 10px; top: 3px;text-decoration:none;font-family:{{{font}}};font-size:10px;opacity: 0.9; width:100px; color:{{contentColor}};text-align: {{directionOppositeSide}} '>{{#poweredByLink}}<a class='walkme-custom-balloon-powered-by-link mt-custom-balloon-powered-by-link ' href='{{poweredByLink}}' target='_blank' style='text-decoration:none;font-family:{{{font}}};font-size:10px;opacity: 0.9; color:{{footerTextColor}}'>{{/poweredByLink}}{{#poweredByText}}By WalkMe.com{{/poweredByText}}{{#poweredByImage}}<div title='WalkMe.com' style='border: none; background-image: url({{serverName}}/player/resources/images/by-walkme.png); width: 49px; height: 18px;'></div>{{/poweredByImage}}{{#poweredByLink}}</a>{{/poweredByLink}}</div></div>{{/showBottomDiv}}";return jS;}function jk(jT){if(!jT){return{};}var jS=jT.action?jT.action:-1;var jU=jT.name?jT.name:"";if(jS==1){return{classes:"walkme-custom-balloon-button walkme-custom-balloon-start-button walkme-action-start",buttonText:z.WelcomeStepButtonStartText};}else{if(jS==3){return{classes:"walkme-custom-balloon-button walkme-custom-balloon-cancel-button walkme-action-cancel",buttonText:z.WelcomeStepButtonCancelText};}else{if(jS==4){return{classes:"walkme-custom-balloon-button walkme-custom-balloon-submit-button walkme-action-submit mt-custom-balloon-submit-button walkme-action-submit",buttonText:z.SubmitButtonText};}else{if(jS==5){return{classes:"walkme-custom-balloon-button walkme-action-redirect",buttonText:jT.name};}else{if(jS==6){return{classes:"walkme-custom-balloon-button walkme-action-stay",buttonText:jT.name};}else{return{classes:"walkme-custom-balloon-button",buttonText:jU};}}}}}}function ja(jW){var jU={};jU.nextButton=false;jU.doneButton=false;jU.backButton=false;jU.submitButton=false;jU.buttonsArr=[];if(jW){var jY=dq(iM,"popupStepButtons",[]);for(var jV=0;jV<jY.length;jV++){var jT=jY[jV];if(jT.action==0){var jX=ji(false,iK,it,false);jU.nextButton=jX.nextButton;jU.doneButton=jX.doneButton;if(jX.buttonsArr.length>0){jU.buttonsArr.push(jX.buttonsArr[0]);}}else{if(jT.action==2){var jS=ji(im,false,false,false);jU.backButton=jS.backButton;if(jS.buttonsArr.length>0){jU.buttonsArr.push(jS.buttonsArr[0]);}}else{jU.buttonsArr.push(jk(jT));}}}}else{jU=ji(im,iK,it,iP);}return jU;}function ji(jT,jV,jU,jW){var jS={};jS.backButton=false;jS.nextButton=false;jS.doneButton=false;jS.submitButton=false;jS.buttonsArr=[];if(jT){jS.backButton={classes:"walkme-custom-balloon-button walkme-custom-balloon-back-button walkme-action-back mt-custom-balloon-back-button walkme-action-back",buttonText:z.BackButtonText};jS.buttonsArr.push(jS.backButton);}if(jV){jS.nextButton={classes:"walkme-custom-balloon-button walkme-custom-balloon-next-button walkme-action-next mt-custom-balloon-next-button walkme-action-next",buttonText:z.NextButtonText};if(jr()){jS.nextButton.buttonText=z.DoneButtonText;}jS.buttonsArr.push(jS.nextButton);}if(jU){jS.doneButton={classes:"walkme-custom-balloon-button walkme-custom-balloon-done-button walkme-action-done mt-custom-balloon-done-button walkme-action-done",buttonText:z.DoneButtonText};jS.buttonsArr.push(jS.doneButton);}if(jW){jS.submitButton={classes:"walkme-custom-balloon-button walkme-custom-balloon-submit-button walkme-action-submit mt-custom-balloon-submit-button walkme-action-submit",buttonText:z.SubmitButtonText};jS.buttonsArr.push(jS.submitButton);}return jS;}function jl(jT,jS,jU){jS="direction:"+jS+";";return jh(jT,jS,jU);}function jd(jZ){var jU=ja(iO==hs.Popup);var jW="";if(z.PoweredByLink=="1"){jW="http://www.walkme.com/?u="+L;}var jY=true;if((z.IsDisplayPoweredBy=="no")&&(iQ.length==0)){jY=false;}var jX=(dq(iM,"displayX",true)==true)||(dq(iM,"displayX","True")=="True")||(dq(iM,"displayX",1)==1);var jS=z.Direction;var jT=(jS=="rtl")?"right":"left";var j0={title:I.parseBBCode(iS),content:ir?ir.html():I.parseBBCode(iq),buttonsExist:jU.buttonsArr.length>0,buttons:jU.buttonsArr,backButton:jU.backButton,nextButton:jU.nextButton,doneButton:jU.doneButton,displayX:jX,headerColor:ip.HeaderColor,contentColor:ip.ContentColor,font:ip.Font,buttonBgColor:ip.ButtonBgColor,buttonBgColor2:ip.ButtonBgColor2,buttonBorderColor:ip.ButtonBorderColor,buttonTextColor:ip.ButtonTextColor,buttonRadius:ip.BalloonButtonRadius,buttonShadowWidth:ip.ButtonShadowWidth,footerTextColor:ip.FooterTextColor,direction:jS,directionSide:jT,directionOppositeSide:(jS=="rtl")?"left":"right",cssReset:a0,showBottomDiv:jY,subText:jl(iQ,jS,jT),poweredByLink:jW,poweredByText:z.IsDisplayPoweredBy=="txt",poweredByImage:z.IsDisplayPoweredBy=="img",serverName:i};cd(ip,"ButtonBgColor");cd(ip,"ButtonBgColor2");if(ip.ButtonBgColor==ip.ButtonBgColor2){j0.BackgroundCSS=" background-color: "+ip.ButtonBgColor+"; ";}else{j0.BackgroundCSS="background:-moz-linear-gradient(top, "+ip.ButtonBgColor+" , "+ip.ButtonBgColor2+" ); background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+ip.ButtonBgColor+"), color-stop(100%,"+ip.ButtonBgColor2+")); background:-webkit-linear-gradient(top, "+ip.ButtonBgColor+" 0%,"+ip.ButtonBgColor2+" 100%); background:-o-linear-gradient(top, "+ip.ButtonBgColor+" 0%,"+ip.ButtonBgColor2+" 100%); background:-ms-linear-gradient(top, "+ip.ButtonBgColor+" 0%,"+ip.ButtonBgColor2+" 100%); background:linear-gradient(to bottom, "+ip.ButtonBgColor+" 0%,"+ip.ButtonBgColor2+' 100%); filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="'+ip.ButtonBgColor+'", endColorstr="'+ip.ButtonBgColor2+'",GradientType=0 ); ';if(!eH()){j0.buttonRadius="0";}}var jV=fj.to_html(jZ,j0);return jV;}this.getBalloonHTML=function jc(){var jU=dq(iM,"customHTML","0");if(jU=="0"){if((!z.CustomHTML)||(z.CustomHTML.length==0)){jU=-1;}else{for(var jS=0;jS<z.CustomHTML.length;jS++){if(z.CustomHTML[jS]["default"]){jU=z.CustomHTML[jS].id;break;}}if(jU=="0"){jU=-1;}}}var jT="";if(jU==-1){if(iO!=hs.Popup){return ju();}else{jT=iR.getPredefinedBalloonHTML(-1);}}if(z.CustomHTML){for(var jS=0;jS<z.CustomHTML.length;jS++){if(z.CustomHTML[jS].id==jU){jT=z.CustomHTML[jS].content;break;}}}return jd(jT);};function jf(jS){return"<div class='walkme-custom-balloon-custom-div-"+jS+"' style='display:none;' ></div>";}function ju(){if(z.IsDisplayPoweredBy=="0"){z.IsDisplayPoweredBy="no";}if(z.IsDisplayPoweredBy=="1"){z.IsDisplayPoweredBy="txt";}if(z.PoweredByLink==undefined){z.PoweredByLink="1";}var jZ;var jT;var j1;var jS;var j0;if(z.Direction=="rtl"){jZ="direction: rtl;";jT="text-align: right;";j1="text-align: left;";jS="right";j0="left";}else{jZ="direction: ltr;";jT="text-align: left;";j1="text-align: right;";jS="left";j0="right";}var jW="";var jX="";var j5="";var jV="block";var jY=0;if(iK||it||im){jY=30;jW="<div class='walkme-custom-balloon-buttons-div mt-custom-balloon-buttons-div CUSTOM-STEP-ID' style='clear:both;padding:5px;#415414;"+j1+jZ+"'>";if(im){jW+=cu("walkme-custom-balloon-button walkme-custom-balloon-back-button walkme-action-back mt-custom-balloon-back-button CUSTOM-STEP-ID",z.BackButtonText,ip,jZ);}if(iK){if(jr()){jW+=cu("walkme-custom-balloon-button walkme-custom-balloon-next-button walkme-action-next mt-custom-balloon-next-button CUSTOM-STEP-ID",z.DoneButtonText,ip,jZ);}else{jW+=cu("walkme-custom-balloon-button walkme-custom-balloon-next-button walkme-action-next mt-custom-balloon-next-button CUSTOM-STEP-ID",z.NextButtonText,ip,jZ);}}if(it){jW+=cu("walkme-custom-balloon-button walkme-custom-balloon-done-button walkme-action-done mt-custom-balloon-done-button CUSTOM-STEP-ID",z.DoneButtonText,ip,jZ);}jW+="</div>";}else{jW="<div class='walkme-custom-balloon-no-buttons-div' style='height: 10px'></div>";}if(iq&&iq.length>0){jX="<div class='walkme-custom-balloon-content mt-custom-balloon-content CUSTOM-STEP-ID' style='"+jT+"margin-top: 4px; margin-"+j0+": 6px; font-family:"+ip.Font+";font-size:14px;color:"+ip.ContentColor+"'>"+jf("content")+I.parseBBCode(iq)+"</div>";}if(z.IsDisplayPoweredBy=="0"){z.IsDisplayPoweredBy="no";}if(z.IsDisplayPoweredBy=="1"){z.IsDisplayPoweredBy="txt";}if(z.PoweredByLink==undefined){z.PoweredByLink="1";}if(z.IsDisplayPoweredBy!="no"){var j4="text-decoration:none;font-family:"+ip.Font+";font-size:10px;opacity: 0.9; color:"+ip.FooterTextColor;var j2="";if(z.IsDisplayPoweredBy=="txt"){j2="By WalkMe.com";}if(z.IsDisplayPoweredBy=="img"){j2="<div title='WalkMe.com' style='border: none; background-image: url("+i+"/player/resources/images/by-walkme.png); width: 49px; height: 18px;'></div>";}if(z.PoweredByLink==1){var j3="http://www.walkme.com/?u="+L;j2="<a class='walkme-custom-balloon-powered-by-link mt-custom-balloon-powered-by-link CUSTOM-STEP-ID' href='"+j3+"' target='_blank' style='"+j4+"'>"+j2+"</a>";}j5="<div class='walkme-custom-balloon-powered-by-div mt-custom-balloon-powered-by-div CUSTOM-STEP-ID' style='display:inline-block;width:100px;position: absolute; "+j0+": 10px; top: 3px;"+jT+j4+";text-align: "+j0+"'>"+j2+"</div>";}else{if(iQ.length==0){jV="none";}}var jU=jf("outer-div")+"<div class='walkme-custom-balloon-top-div mt-custom-balloon-top-div CUSTOM-STEP-ID' style='"+jT+"padding-top:5px; padding-"+j0+": 3px; padding-bottom: 1px; padding-"+jS+": 7px;margin:3px 3px 0 3px;"+jZ+"'><div class='walkme-custom-balloon-content-wrapper' style='min-height: "+jY+"px;'><div class='walkme-custom-balloon-close-button walkme-action-close mt-custom-balloon-close-button CUSTOM-STEP-ID' style='opacity: 0.7; font-size: 16px; position: absolute; top: 2px; "+j0+": 8px; cursor: pointer;color:"+ip.ContentColor+";font-weight:normal;font-family:"+ip.Font+";' title='Stop Walk-thru'>&#215;</div><div class='walkme-custom-balloon-title mt-custom-balloon-title CUSTOM-STEP-ID' style='"+jT+"font-weight:bold;margin-top:2px;margin-"+j0+":14px;font-size:15px;color:"+ip.HeaderColor+";font-family:"+ip.Font+";'>"+jf("title")+I.parseBBCode(iS)+"</div>"+jX+"</div><div class='walkme-custom-balloon-top-div-bottom mt-custom-balloon-top-div-bottom CUSTOM-STEP-ID' style='clear: both;'>"+jW+"</div></div><div class='walkme-custom-balloon-separator' style='display: "+jV+";margin: 0 10px; height: 1px; opacity: 0.2; filter: alpha(opacity=20); background-color: "+ip.FooterTextColor+";line-height: 0px;'>&#160;</div><div class='walkme-custom-balloon-bottom-div' style='position: relative; height: 23px; display: "+jV+"'><div class='walkme-custom-balloon-subtext mt-custom-balloon-subtext CUSTOM-STEP-ID' style='"+jT+"position: absolute; "+jS+": 10px; display:inline-block;font-family:"+ip.Font+";font-size:10px;margin-top:3px;margin-bottom:0px;color:"+ip.FooterTextColor+"'>"+jh(iQ,jZ,jS)+"</div>"+j5+"</div>";return jU;}function jh(jU,jS,jV){if((jU.indexOf(hF)>-1)&&(jU.indexOf(hE)>-1)&&(jU.indexOf(hH)>-1)&&(jU.indexOf(hG)>-1)){jV="float:"+jV+";";var jT="<span style='"+jV+"'>&nbsp;</span>";jU="<div class='walkme-custom-balloon-current-step-text' style='"+jS+jV+"'>"+jU;jU=jU.replace(hF,"</div>"+jT+"<div class='walkme-custom-balloon-current-step-number' style='"+jV+"'>");jU=jU.replace(hE,"</div>"+jT+"<div class='walkme-custom-balloon-total-steps-text' style='"+jS+jV+"'>");jU=jU.replace(hH,"</div>"+jT+"<div class='walkme-custom-balloon-total-steps-number' style='"+jV+"'>");jU=jU.replace(hG,"</div>");jU=jU+"<div style='clear:both;'></div>";}return jU;}this.elementDisplayTimeoutFunction=function i7(){var jX=iL.isElementVisible(iv);if(!jX){e9("Element not visible anymore. Releasing it.");a9("Element not visible anymore.");if(h1){h1.clear();}fZ(iv);if((n==ho.WAITING_FOR_ELEMENT_EVENT)||(n==ho.WAITING_FOR_NEXT_BUTTON_CLICK)||(n==ho.WAITING_FOR_PAGE_CHANGE)){if(dq(cE().Steps[o].Settings,"sticky",0)){e9("Sticky - keep looking for element (elementDisplayTimeoutFunction)");a9("Sticky - keep looking for element.");I.releaseBalloons();n=ho.WAITING_FOR_STICKY_ELEMENT;I.executeCurrentStep();}else{if(cE().Steps[o].IsSkippable){bs=false;a9("Skippable - continue to next step.");I.executeTutorialNextStep();}else{if(n!=ho.WAITING_FOR_PAGE_CHANGE){a9("Stopping walk-thru.");n=ho.PAUSED;gE("WalkthruStopped");fn("TutorialStopped");}}}}}else{if(iO!=hs.Popup){var jU;var jT;var jY=false;if(!iw){var j1=iL.getPosRelativeToWindow(iv[0],window,true);jU=j1.top;jT=j1.left;var jZ=iv.data("iframe");if((jZ)&&(iL.isElementScrolledOut(iv,jZ,io))){jY=true;}}else{var j0=iv.offset();jU=Math.floor(j0.top);jT=Math.floor(j0.left);}if((!eC("disableIEVRTP"))&&!jo(iv,io)){jY=true;}var jS=iv.height();var jV=iv.width();if((iI!=null)&&(iH!=null)&&(iG!=null)&&(iJ!=null)&&((iI!=jU)||(iH!=jT)||(iG!=jS)||(iJ!=jV))){bm(iv,true);if(!jY){this.Show(false);}}iI=jU;iH=jT;iG=jS;iJ=jV;var jW=fA(function(){iR.elementDisplayTimeoutFunction();},800);bD(iv,"elementDisplayTimeout",jW);}}};function jo(jU,jS){var jT=je(jU,jS);var jW=jU.parents("div");var jV=!aR(jW,function(j0){var j0=mtjQuery(j0);var jZ=j0.css("overflow");var jX=jq(jZ);var jY=js(jT,j0);return jX&&jY;});return jV;}function je(jT,jS){var jV=jT.offset().top;var jU=jT.height();switch(jS){case 0:return jV;case 1:return jV+(jU/2);case 2:return jV+jU;case 3:return jV+(jU/2);default:_makeTutorial.lib_error(new Error("Unknown balloon position"));return jV;}}function jq(jS){return(jS=="auto")||(jS=="scroll")||(jS=="hidden");}function js(jS,jV){var jW=cO(jV,"border-top");var jZ=cO(jV,"padding-top");var j0=jV.offset().top;var j1=jW+jZ+j0;var jY=jV.height();var jX=j1+jY;var jU=(jS<j1);var jT=(jS>jX);return(jU||jT);}var i9=function(jS,jT,jV){var jW;var jY;if(jS.positionType==fG.Top||jS.positionType==fG.Bottom){var jX=jS.left+jT.width;jW=i1(jS.left,jX,ab,jS.positionOffset,jV.width,jV.left);if(jS.positionType==fG.Top){jY=jS.top+jT.height;}else{jY=jS.top-ac;}}else{if(jS.positionType==fG.Left||jS.positionType==fG.Right){var jU=jS.top+jT.height;jY=i1(jS.top,jU,ab,jS.positionOffset,jV.height,jV.top);if(jS.positionType==fG.Left){jW=jS.left+jT.width;if(I.isQuirksMode(iv[0])){jW=jW-2;}}else{jW=jS.left-ac;}}}return{top:jY,left:jW};};var i1=function(jW,jV,jS,jX,jT,jU){var jY;if(jX==fF.Center){jY=(jV+jW-jS)/2;}else{if(jX==fF.Start){jY=jU+((jT-jS)/2);}else{if(jX==fF.End){jY=jU+((jT-jS)/2);}else{I.lib_error(null);}}}return jY;};i5.apply(null,arguments);};function bu(){var iI=this;iI.LocalSVNRevision="$Rev: 2014 $";var iq=null;var ir=false;var ix=false;var iH=null;var iu=null;var iE=null;var iC=null;var iF=null;var iw=null;var it=null;var io=null;var iv=null;var iD=null;var iG=null;var il=false;var iy=null;var iB=null;var iA=null;var iz=null;var im=null;var ip={type:"shape",data:{shape:"round-question-mark",color:"blue"}};var iN=0;function iQ(i4){iE.lib_error(i4);}this.getId=function iS(){return iD;};function iM(i5){iq=i5.element;iH=i5.settings;iu=i5.html;iE=i5.lib;iF=i5.position;iD=i5.launcherId;ix=i5.isCapturingMode;iG=i5.positionHelper;il=i5.addFunctionality;im=i5.cdnServer;var i4=dq(iH,"imageObject",ip);iw=i4.type=="shape"?(im+"/player/resources/launchers/"+i4.data.shape+"-"+i4.data.color+".png"):i4.data.url;if(i4.data.hover){it=i4.data.hover;}if(i4.data.click){io=i4.data.click;}if((iq.data("iframe"))){ir=iE.shouldHandlePageAsFramesets();}else{ir=true;}}function iT(i5){var i4=wmjQuery("<img />");i4.load(function(){var i6={width:this.width,height:this.height};i5(i6);});i4.attr("src",iw);}function iX(i5){var i4=wmjQuery("<img />");i4.attr("src",i5);}function iV(){if(ix){i3(true);}else{var i4=dq(z.Settings,"hlType","none");var i5=(dq(iH,"hlType",i4)=="rect");if(i5){i3(false);}}}function i3(i5){if(!iE.isQuirksMode(iq[0])){var i4=[{id:iD,idName:"launcher",classPropertyName:"hlLauncherClass"}];ed.highlight(iq,i5?null:iH,iD,i4,"launcher");}}function iK(){var i4;if(!ir){i4=dI(null,true);}else{i4=dI(iq);}iC=mtjQuery(document.createElement("div"));var i7=dq(iH,"tooltip","");iC.attr("title",i7);iC.addClass("walkme-custom-launcher-outer-div");iC.addClass("walkme-launcher-id-"+iD);iC.css("display","none");mtjQuery(i4.append(iC));iC.html(iu);var i5=iR();iZ(i5);var i6=iC.find(".walkme-launcher-image-div");i6.css("background-image","url("+iw+")");i6.css("height",iv.height+"px");i6.css("width",iv.width+"px");if(it){iX(it);i6.hover(function(){mtjQuery(this).css("background-image","url("+it+")");},function(){mtjQuery(this).css("background-image","url("+iw+")");});}if(io){iX(io);i6.mouseup(function(){var i8=iw;if(it){i8=it;}mtjQuery(this).css("background-image","url("+i8+")");}).mousedown(function(){mtjQuery(this).css("background-image","url("+io+")");});}return i4;}function i0(i4){iC.css("top",i4.top+"px");iC.css("left",i4.left+"px");var i5=dq(iH,"z-index","2147483627");gZ(iC,i5);iC.css("display","inline");}function iJ(){var i4=bC(iq,"launcherDivs");if(i4){i4.push(iC);}else{i4=[iC];}bD(iq,"launcherDivs",i4);}this.show=function i2(i4){iT(function i5(i8){iv=i8;if(!iu){iu=iU();}iV();var jb=iK();iJ();var i9=iN+1;var i6=iG.getDrawingArea(iq,!ir);var i7=iG.getElementBounds(iq,ir,window,iH);var ja=bd(i7,iv,iF,i9,i6,true);i0(ja);iL();if(i4){i4(jb);}});};function iU(){var i4="<div class='walkme-launcher-image-div'></div>";return i4;}function iL(){if(il){iC.css("cursor","pointer");iC.click(function(){_makeTutorial.getLauncherAction(iD).doAction();});}}this.setTimeoutOn=function i1(i5){i5=i5?i5:800;if(!bC(iq,"elementDisplayTimeout")){var i4=e5(function(){iP();},i5);bD(iq,"elementDisplayTimeout",i4);}};function iY(){var i4=iR();if(iO(i4)){bo(iq);if(!i4.elementIsScrolledOut){iI.show();}}iZ(i4);}function iO(i4){return(iA!=i4.top)||(iz!=i4.left)||(iy!=i4.height)||(iB!=i4.width);}function iZ(i4){iA=i4.top;iz=i4.left;iy=i4.height;iB=i4.width;}function iR(){var i6;var i5;var i8=false;if(!ir){var ja=iG.getPosRelativeToWindow(iq[0],window,true);i6=ja.top;i5=ja.left;var i8=iW();}else{var i9=iq.offset();i6=Math.floor(i9.top);i5=Math.floor(i9.left);}var i4=iq.height();var i7=iq.width();return{top:i6,left:i5,height:i4,width:i7,elementIsScrolledOut:i8};}function iW(){var i4=iq.data("iframe");return i4&&iG.isElementScrolledOut(iq,i4,iF);}function iP(){var i5=iG.isElementVisible(iq);if(i5){iY();var i4=e5(function(){iP();},800);bD(iq,"elementDisplayTimeout",i4);}else{f0(iq);}}iM.apply(null,arguments);}function ag(){this.LocalSVNRevision="$Rev: 1869 $";var iv;var iH=3;var ix=3*1000;var iw=10*1000;var iJ=5;var iI=8;var iy="wm-fslc";var iG="wm-lstlog";var iW="wm-plogs";var iY="wm-plcnt";var iM="wm-adtspgds";var iX="wm-tcksdlt";var iF=false;var iK={tutorialID:"tID",stepId:"sID",stepIndex:"sIDX",totalSteps:"tStp",playGuid:"plgd",TicksSince1970:"tkcs",StepStatus:"stts",isFirstStepError:"fserr",playInitiator:"intr"};var iL=iP(iK);var io=this;this._currentPlayGUID="";var iU=null;var il=hr.NONE;var im="";function iu(i1,i0){im=i1;iv=i0;}this.generateNewPlayGuid=function(i1){var i0=cn();i0=(new Date()).getTime()+"-"+i1+"-"+i0;return i0;};this.auditStep=function ip(i4,i0,i6,i2){if(es()){return true;}if(i4.TutorialId<0){return;}if(io._currentPlayGUID==undefined||io._currentPlayGUID.length==0){io._currentPlayGUID=io.generateNewPlayGuid(i4.TutorialId);}try{var i5=iA(i4,i0,i6,i2,this._currentPlayGUID);var i1=iB();iO(i1,i5);i1.push(i5);iR(i1);io.handleSendLogsToServer();}catch(i3){_makeTutorial.lib_error(i3);}};this.setPlayInitiator=function iV(i0){il=i0;};function iA(i4,i0,i6,i1,i3){var i2=hB.getData(iG);i2=eP(i2)?parseInt(i2)+1:0;var i5=new Object();i5.Id=i2;i5.tutorialID=i4.TutorialId;i5.stepId=i4.Id;i5.stepIndex=i4.StepIndex+1;i5.totalSteps=i6;i5.playGuid=i3;i5.TicksSince1970=cG();i5.StepStatus=i0;iD(i5);if(bk(i1,false)){i5.isFirstStepError=true;}iQ(i5.Id);return i5;}function iD(i0){if(il!=hr.NONE){i0.playInitiator=il;il=hr.NONE;}}this.handleSendLogsToServer=function iE(){if(!iF){var i0=iB();if(i0.length>=iJ){if(iU!=null){iU.clear();iU=null;}iq(i0);}else{if(iU==null){iU=new ia(iq,ix);}}}};function iq(i0){if(i0===undefined){i0=iB();}iU=null;if(i0.length>0){iF=true;iS(i0);}}function iS(i0){try{if(im.length>0){if(i0.length>iJ){i0=i0.splice(0,iJ);}stepAuditsString=hU(i0);var i2=mtjQuery.ajax({url:im+"/Statistics/AddStepLogs?jsoncallback=?",dataType:"json",data:{stepActionsSerialized:stepAuditsString,domain:window.location.host,source:cr(),customFieldsSerialized:hU(c),browser:cx(),os:dd()},timeout:iw});i2.success(function(i3){iT(i3);});i2.error(function(i3,i4,i5){e9("sendLogsDataToServer callback fired error: "+i3+" "+i4+" "+i5);iT("error");});a9("Sent "+i0.length+" Step-Logs to server at "+new Date().toString());}}catch(i1){_makeTutorial.lib_error(i1);iT("error");}}function iT(i0){try{if(eP(i0)){var i2=parseInt(i0);iN(i2);iZ();}else{iz();}}catch(i1){_makeTutorial.lib_error(i1);iz();}iF=false;io.handleSendLogsToServer();}function iN(i1){var i0=iB();if(i0.length>0){while(i0.length>0&&i0[0].Id<=i1){i0.shift();}iR(i0);}}function iz(){var i1=hB.getData(iy);i1=eP(i1)?parseInt(i1)+1:1;if(i1>=iH){var i0=[];iR(i0);iQ(0);i1=0;}hB.saveData(iy,i1,iv);}function iZ(){hB.saveData(iy,0,iv);}function iC(i0){return hB.getData(iW+i0,[]);}function iQ(i0){hB.saveData(iG,i0,iv);}function iR(i0){var i4=i0.slice();i4=it(i4);var i1=hB.getData(iY,0);for(var i2=1;i2<=i1;i2++){hB.removeData(iW+i1);}var i1=0;while(i4.length>iI){var i3=i4.splice(0,iI);i1++;hB.saveData(iW+i1,i3,iv);}if(i4.length>0){i1++;hB.saveData(iW+i1,i4,iv);}hB.saveData(iY,i1,iv);}function iB(){var i1=hB.getData(iY);i1=eP(i1)?i1:1;var i0=[];while(i1>0){var i2=iC(i1);i0=i2.concat(i0);i1--;}return ir(i0);}function it(i8){if(i8.length==0){hB.removeData(iX);hB.removeData(iM);return i8;}i8=gD(hU(i8));var i9=[];var i6={};var i7=0;var i0=i8[0].TicksSince1970;for(var i3=0;i3<i8.length;i3++){var i2=i8[i3];var i1=i2.playGuid;if(!i6[i1]){i7++;i6[i1]=i7;}i2.playGuid=i6[i1];i2.TicksSince1970=i2.TicksSince1970-i0;for(var i4 in i2){if(iK[i4]&&(typeof(iK[i4])=="string"||typeof(iK[i4])=="number")){var i5=iK[i4];var ja=i2[i4];delete i2[i4];i2[i5]=ja;}}i9.push(i2);}hB.saveData(iX,i0,iv*2);hB.saveData(iM,i6,iv*2);return i9;}function ir(i3){if(i3.length==0){return i3;}i3=gD(hU(i3));var i0=hB.getData(iX);var i5=iP(hB.getData(iM));var i7=[];for(var i2=0;i2<i3.length;i2++){var i1=i3[i2];for(var i4 in i1){if(iL[i4]&&(typeof(iL[i4])=="string"||typeof(iL[i4])=="number")){var i6=iL[i4];var i8=i1[i4];delete i1[i4];i1[i6]=i8;}}i1.playGuid=i5[i1.playGuid];i1.TicksSince1970=i1.TicksSince1970+i0;i7.push(i1);}return i7;}function iO(i0,i1){if(i0.length>0){var i2=[];while(i0.length>0){var i4=i0.pop();if(i4.stepIndex!=i1.stepIndex||i4.playGuid!=i1.playGuid){i2.push(i4);}else{if(i4.playInitiator&&i4.playInitiator!=hr.NONE){i1.playInitiator=i4.playInitiator;}}}while(i2.length>0){var i3=i2.pop();i0.push(i3);}}}function iP(i0){if(!i0){return{};}var i3={};for(var i2 in i0){var i1=i0[i2];if((typeof(i1)=="string"||typeof(i1)=="number")&&(typeof(i2)=="string"||typeof(i2)=="number")){i3[i1]=i2;}}return i3;}iu.apply(null,arguments);}this.ConditionFunctions=function aM(jg){this.LocalSVNRevision="$Rev: 1877 $";var il=this;var iA=function iA(){var jN={Id:-1,TutorialId:-1,StepText:"",StepTitle:"",ElementDescription:"",StepIndex:-1,ConfigurationId:"1",Configuration:null,StepSensitivity:1,Type:-1,Settings:{},Duration:4,Delay:0};return jN;};function iW(jN,jO){jN=jn(jN);jO=jn(jO);jN=parseFloat(jN);jO=parseFloat(jO);if(eP(jN)&&eP(jO)){return(jN>jO);}else{return false;}}function iY(jN,jO){jN=jn(jN);jO=jn(jO);jN=parseFloat(jN);jO=parseFloat(jO);if(eP(jN)&&eP(jO)){return(jN<jO);}else{return false;}}function jn(jN){if(!jN||(typeof jN!=="string")||!jN.replace){return jN;}return jN.replace(/,/g,"");}function iX(jP,jO){jP=jP.replace(new RegExp("\n","gi")," ");jO=jO.replace(new RegExp("[*]","g"),".*");jO=jO.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&");jP=jP.toLowerCase();jO=jO.toLowerCase();try{return(jP.match(jO)[0]==jP);}catch(jN){return false;}}function iP(jO){jO=bg(jO,["&",'"',"'",">"]);var jP=c2(jO);var jN=b9(jP);return jN;}function ip(jN){if(jN.is("input")){return jN.val();}else{if(jN.is("select")){return jN.find("option:selected").text();}else{return jN.text();}}}this.getElementTextForEditor=function iU(jO){var jN=gD(jO);return il.getElementText(jN);};this.getElementStrength=function iS(jQ){var jO=gD(jQ);var jP=iz(jO);var jR={score:-1};var jN=jg.findElement(jP,null,jR);if(jN){return jR.score;}};this.getElementText=function iT(jO){var jP=iz(jO);var jN=jg.findElement(jP,false);if(jN===false){return false;}else{return ip(wmjQuery(jN));}};function iV(jO){var jN=iP(jO);return ip(jN);}function jo(jO){var jN=new RegExp("[ \t"+String.fromCharCode(160)+"\r\n\v\f]+","gi");jO=jO.replace(jN," ");jO=wmjQuery.trim(jO);return jO;}var jb=function jb(jN){return(iP(jN.jQuerySelector).length>0);};var i0=function i0(jN){return(iP(jN.jQuerySelector).length==0);};var i1=function i1(jN){return(iP(jN.jQuerySelector).length>parseInt(jN.jQueryLength));};var i4=function i4(jN){return(iP(jN.jQuerySelector).length<parseInt(jN.jQueryLength));};var i2=function i2(jN){return(iP(jN.jQuerySelector).length==parseInt(jN.jQueryLength));};var i3=function i3(jN){return(iP(jN.jQuerySelector).length!=parseInt(jN.jQueryLength));};var jw=function jw(jN){var jP=parseInt(jN.StepId);for(var jO=0;jO<D.length;jO++){if(D[jO].Id==jP){return true;}}return false;};var jv=function jv(jN){return !jw(jN);};var jA=function jA(jO){var jN=bg(jO.UrlInput,["&"]);return(gd(jN.toLowerCase())==gd(dZ().toLowerCase()));};var jD=function jD(jN){return !jA(jN);};var jz=function jz(jO){var jN=bg(jO.UrlInput,["&"]);return(gd(dZ()).toLowerCase().indexOf(gd(jN).toLowerCase())>=0);};var jC=function jC(jN){return !jz(jN);};function iz(jN){var jO=iA();if(jN.IdentifySettings){jO.ElementDescription=gD(hU(jN.IdentifySettings.ElementDescription));jO.IsIgnoreText=parseInt(jN.IdentifySettings.IgnoreText);jO.StepSensitivity=parseInt(jN.IdentifySettings.Sensitivity);jO.IsIgnoreId=parseInt(jN.IdentifySettings.IgnoreId);jO.IgnorePosition=parseInt(jN.IdentifySettings.IgnorePosition);jO.IsIdentifyByText=parseInt(jN.IdentifySettings.IsIdentifyByText);}else{jO.ElementDescription=gD(hU(jN.ElementDescription));}return jO;}var iB=function iB(jN){var jO=iz(jN);return(jg.findElement(jO,false)!=false);};var iC=function iC(jN){return !iB(jN);};var iK=function iK(jN){var jO=iz(jN);return(jg.findElement(jO,true)!=false);};var iD=function iD(jN){return !iK(jN);};var iF=function iF(jP){var jO=il.getElementText(jP);var jN=bg(jP.ElementText,["&",'"',"'",">","<"]);if(jO===false){return false;}else{return(jo(jO.toLowerCase())==jo(jN.toLowerCase()));}};var iH=function iH(jN){return !iF(jN);};var iE=function iE(jO){var jN=il.getElementText(jO);if(jN===false){return false;}else{return iW(jN,jO.ElementText);}};var iJ=function iJ(jO){var jN=il.getElementText(jO);if(jN===false){return false;}else{return iY(jN,jO.ElementText);}};var iG=function iG(jP){var jO=il.getElementText(jP);var jN=bg(jP.ElementText,["&",'"',"'",">","<"]);if(jO===false){return false;}else{return iX(jo(jO),jo(jN));}};var iI=function iI(jN){return !iG(jN);};var jB=function jB(jP){var jN=bg(jP.UrlInput,["&"]);if((jN.indexOf("regexp:")==0)||(jN.indexOf("js:")==0)){return eL(jN);}var jQ=gd(dZ());var jO=gd(jN);return iX(jQ,jO);};var jE=function jE(jN){return !jB(jN);};var i6=function i6(jO){var jN=bg(jO.jQueryText,["&",'"',"'"]);return(jo(iV(jO.jQuerySelector).toLowerCase())==jo(jN.toLowerCase()));};var i8=function i8(jN){return !i6(jN);};var i5=function i5(jN){return iW(iV(jN.jQuerySelector),jN.jQueryText);};var ja=function ja(jN){return iY(iV(jN.jQuerySelector),jN.jQueryText);};var i7=function i7(jO){var jN=bg(jO.jQueryText,["&",'"',"'"]);return iX(jo(iV(jO.jQuerySelector)),jo(jN));};var i9=function i9(jN){return !i7(jN);};var ji=function ji(jO){var jN=bg(jO.UrlInput,["&"]);return(gd(jN.toLowerCase())==gd(di().toLowerCase()));};var jl=function jl(jN){return !ji(jN);};var jh=function jh(jO){var jN=bg(jO.UrlInput,["&"]);return(gd(di().toLowerCase()).indexOf(gd(jN.toLowerCase()))>=0);};var jk=function jk(jN){return !jh(jN);};var jj=function jj(jP){var jN=bg(jP.UrlInput,["&"]);var jQ=gd(di());var jO=gd(jN);return iX(jQ,jO);};var jm=function jm(jN){return !jj(jN);};var im=function im(jN){return iX(cx(),"*"+jN.BrowserName+"*");};var io=function io(jN){return !im(jN);};var ir=function ir(jP){var jN=aT.getCookie(jP.CookieName);var jO=bg(jP.CookieInput,["&",'"',"'"]);if(jN===false){return false;}else{return(jN.toLowerCase()==jO.toLowerCase());}};var iv=function iv(jN){return !ir(jN);};var iq=function iq(jO){var jN=aT.getCookie(jO.CookieName);if(jN===false){return false;}else{return iW(jN,jO.CookieInput);}};var iy=function iy(jO){var jN=aT.getCookie(jO.CookieName);if(jN===false){return false;}else{return iY(jN,jO.CookieInput);}};var iu=function iu(jP){var jN=aT.getCookie(jP.CookieName);var jO=bg(jP.CookieInput,["&",'"',"'"]);if(jN===false){return false;}else{return iX(jN,jO);}};var ix=function ix(jN){return !iu(jN);};var it=function it(jO){var jN=aT.getCookie(jO.CookieName);return(jN!==false);};var iw=function iw(jN){return !it(jN);};var jG=function jG(jO){var jP=dY(id.Var,jO.WindowVarName);var jN=bg(jO.WindowVarInput,["&",'"',"'"]);if((jP===undefined)||(jP===null)){return false;}else{return(jP.toString().toLowerCase()==jN.toLowerCase());}};var jJ=function jJ(jN){return !jG(jN);};var jF=function jF(jN){var jO=dY(id.Var,jN.WindowVarName);if(jO===undefined){return false;}else{return iW(jO,jN.WindowVarInput);}};var jM=function jM(jN){var jO=dY(id.Var,jN.WindowVarName);if(jO===undefined){return false;}else{return iY(jO,jN.WindowVarInput);}};var jI=function jI(jO){var jP=dY(id.Var,jO.WindowVarName);var jN=bg(jO.WindowVarInput,["&",'"',"'"]);if((jP===undefined)||(jP===null)){return false;}else{return iX(jP.toString(),jN);}};var jL=function jL(jN){return !jI(jN);};var jH=function jH(jN){var jO=dY(id.Var,jN.WindowVarName);if((jO===undefined)||(jO===null)){return false;}else{return true;}};var jK=function jK(jN){return !jH(jN);};var jc=function jc(jP){var jQ=null;var jN=bg(jP.LanguageName,["&",'"',"'"]);try{jQ=walkme_get_language();}catch(jO){jQ="default";}return(jN.toLowerCase()==jQ.toLowerCase());};var je=function je(jN){return !jc(jN);};var jd=function jd(jP){var jQ=null;var jN=bg(jP.LanguageName,["&",'"',"'"]);try{jQ=walkme_get_language();}catch(jO){jQ="default";}return iX(jQ,jN);};var jf=function jf(jN){return !jd(jN);};var jr=function jr(jN){var jP=parseInt(jN.StepId);var jR=parseInt(jN.TutorialId);var jS=dM(jR);var jQ=dw(jP,jR);if(jS>-1&&jQ>-1){var jO=K[jS].Steps[jQ];return jg.findElement(jO,false)!==false;}return false;};var ju=function ju(jN){return !jr(jN);};var jq=function jq(jN){var jP=parseInt(jN.StepId);var jR=parseInt(jN.TutorialId);var jS=dM(jR);var jQ=dw(jP,jR);if(jQ>-1&&jS>-1){var jO=ax(jS,jQ);if(jO>=0){return true;}}return false;};var jp=function jp(jN){return !jq(jN);};var jt=function jt(jN){var jP=parseInt(jN.StepId);var jR=parseInt(jN.TutorialId);var jS=dM(jR);var jQ=dw(jP,jR);if(jS>-1&&jQ>-1){var jO=K[jS].Steps[jQ];return jg.findElement(jO,true)!==false;}return false;};var js=function js(jN){return !jt(jN);};var jy=function jy(jN){return iZ(jN);};var jx=function jx(jN){return !iZ(jN);};var iZ=function iZ(jN){var jP=parseInt(jN.TaskId);var jO=parseInt(jN.GoalId);return J.isTaskGoalReached(jP,jO);};var iR={jQueryTrue:jb,jQueryFalse:i0,jQueryLengthBigger:i1,jQueryLengthSmaller:i4,jQueryLengthEquals:i2,jQueryLengthNotEquals:i3,jQueryTextEquals:i6,jQueryTextNotEquals:i8,jQueryTextBigger:i5,jQueryTextSmaller:ja,jQueryTextLike:i7,jQueryTextNotLike:i9,StepPlayed:jw,StepNotPlayed:jv,StepCanPlay:jq,StepCannotPlay:jp,StepIsVisible:jt,StepIsNotVisible:js,StepExists:jr,StepNotExists:ju,UrlEquals:jA,UrlNotEquals:jD,UrlContains:jz,UrlNotContains:jC,UrlLike:jB,UrlNotLike:jE,ReferrerUrlEquals:ji,ReferrerUrlNotEquals:jl,ReferrerUrlContains:jh,ReferrerUrlNotContains:jk,ReferrerUrlLike:jj,ReferrerUrlNotLike:jm,ElementExists:iB,ElementNotExist:iC,ElementVisible:iK,ElementNotVisible:iD,ElementTextEquals:iF,ElementTextNotEquals:iH,ElementTextBigger:iE,ElementTextSmaller:iJ,ElementTextLike:iG,ElementTextNotLike:iI,BrowserEquals:im,BrowserNotEquals:io,CookieExists:it,CookieNotExists:iw,CookieEquals:ir,CookieNotEquals:iv,CookieBigger:iq,CookieSmaller:iy,CookieLike:iu,CookieNotLike:ix,LanguageEquals:jc,LanguageNotEquals:je,LanguageLike:jd,LanguageNotLike:jf,WindowVarEquals:jG,WindowVarNotEquals:jJ,WindowVarBigger:jF,WindowVarSmaller:jM,WindowVarLike:jI,WindowVarNotLike:jL,WindowVarExists:jH,WindowVarNotExists:jK,TaskGoalReached:jy,TaskGoalNotReached:jx};var iQ=[];iQ.StepPlayed=false;iQ.StepNotPlayed=false;iQ.StepCanPlay=false;iQ.StepCannotPlay=false;iQ.LanguageEquals=false;iQ.LanguageNotEquals=false;iQ.LanguageLike=false;iQ.LanguageNotLike=false;iQ.TaskGoalReached=false;iQ.TaskGoalNotReached=false;this.getFunctionsByLibNameType=function(jN){return iR[jN];};this.canAssertFunction=function(jN){return((iQ[jN]==undefined)||(iQ[jN]!=false));};this.evaluationPreviewForEditor=function iM(jN){var jO=gD(jN);return il.evaluationPreview(jO);};this.evaluationPreview=function iL(jO){var jN=this.getFunctionsByLibNameType(jO.funcName);var jP=[];jP.push(jO.funcArgs);if(!this.canAssertFunction(jO.funcName)){return fK.CANNOT_ASSERT;}return(jN.apply(this,jP)?fK.TRUE:fK.FALSE);};this.evaluationTreePreviewForEditor=function iO(jN){var jO=gD(jN);return il.evaluationTreePreview(jO);};this.evaluationTreePreview=function iN(jN){function jO(jP){if(jP.nodeType=="Func"){return il.evaluationPreview(jP);}var jQ=jO(jP.leftSon);var jR=jO(jP.rightSon);if(jP.nodeType=="And"){if((jQ==fK.TRUE)&&(jR==fK.TRUE)){return fK.TRUE;}if((jQ==fK.CANNOT_ASSERT)||(jR==fK.CANNOT_ASSERT)){return fK.CANNOT_ASSERT;}return fK.FALSE;}if(jP.nodeType=="Or"){if((jQ==fK.TRUE)||(jR==fK.TRUE)){return fK.TRUE;}if((jQ==fK.CANNOT_ASSERT)||(jR==fK.CANNOT_ASSERT)){return fK.CANNOT_ASSERT;}return fK.FALSE;}}if(jN==null){return fK.TRUE;}return jO(jN);};};function aL(){this.LocalSVNRevision="$Rev: 1318 $";var il=this;this.supportedFunctions={isExistJQ:ip,isTextValueJQ:it,isLocationMatch:iq,isStepPlayed:ir};var im=new bT();this.setExpression=function(iv){if(iv==undefined||iv.length<=0){throw"Ilegal Expression";}var iy=0;for(var ix in this.supportedFunctions){if(this.supportedFunctions.hasOwnProperty(ix)){var iz=iu(iv,ix,iy);iv=iz[1];for(var iA=iy;iA<iz[0].length;iA++){var iw=io(iz[0][iA]);im.setFunction(iw,iy++);}}}im.setExpression(iv);};this.evaluate=function(){if(im!=undefined){return im.evaluate();}throw"Evaluator is undefined";};function iu(iw,ix,iy){var iC=Array();var iB=iy;var iA=iw.indexOf(ix);while(iA>-1){if(iw.charAt(iA+ix.length)!="("){throw"Ilegal function definition in expression";}var iD=iA+ix.length+1;var iE=Array();var iz=iD;while(!(iw.charAt(iz)==")"&&iE.length==0)&&iz<iw.length){if(iw.charAt(iz)=="'"||iw.charAt(iz)=='"'){if(iE.length==0){iE.push(iw.charAt(iz));}else{var iv=iE.pop();if(iv!=iw.charAt(iz)){iE.push(iv);iE.push(iw.charAt(iz));}}}iz++;}if(iw.charAt(iz)==")"){iC[iB]=iw.substring(iA,iz+1);iw=iw.substring(0,iA)+"["+iB+"]"+iw.substr(iz+1);iB++;}else{throw"Ilegal function definition in expression";}iA=iw.indexOf(ix);}return[iC,iw];}function io(iw){if(iw==undefined||iw.length<=0){throw"Ilegal function definition";}var iv=iw.substr(0,iw.indexOf("("));var iy=iw.substring(iw.indexOf("(")+1,iw.length-1).split(",");for(var ix=0;ix<iy.length;ix++){iy[ix]=iy[ix].replace(/^\s+|\s+$/g,"");if((iy[ix].charAt(0)=="'"&&iy[ix].charAt(iy[ix].length-1)=="'")||(iy[ix].charAt(0)=='"'&&iy[ix].charAt(iy[ix].length-1)=='"')){iy[ix]=iy[ix].substring(1,iy[ix].length-1);}}return function(){return il.supportedFunctions[iv].apply(this,iy);};}function ip(iv,iw){if(iw==undefined){iw=1;}return mtjQuery(iv).length>=iw;}function it(iv,iw){return mtjQuery(iv).text()==iw;}function iq(iv){return eL(iv);}function ir(iw){iw=parseInt(iw);for(var iv=0;iv<D.length;iv++){if(D[iv].Idx==iw){return true;}}return false;}}var bT=function bT(){this.LocalSVNRevision="$Rev: 1318 $";this.functions=Array();this.treeNode=null;this.errorStack=Array();var il=this;this.setFunction=function(iz,iA){if((iz==undefined)||(iA==undefined)||(iA<0)){throw"Wrong arguments.";}this.functions[iA]=iz;return true;};this.evaluate=function(){if(this.treeNode!=null){return this.treeNode.evaluate();}throw"Evaluation tree doesn't exist - No expression was set.";};this.setExpression=function(iA){if((iA!=undefined)&&(iA.length>0)&&(iv(iA))){this.treeNode=io(iA);if(this.treeNode){return true;}else{var iz=this.errorStack.join("\n");this.errorStack=this.errorStack.splice();throw iz;}}else{this.errorStack.push("Ilegal expression!");return false;}};function iq(iB){var iA=new RegExp("^\\[\\d+\\]$","i");if(iA.test(iB)){var iz=parseInt(iB.substring(1,iB.length-1));if(il.functions.length>=iz&&il.functions[iz]!=undefined){return new iu(il.functions[iz]);}else{il.errorStack.push("Function id doesn't exist!");return false;}}il.errorStack.push("function token isn't in the form [funcId]. recieved:"+iB);return false;}function ir(iz){if(iz){return new ix(iz);}il.errorStack.push("Failed to create NOT node.");return false;}function ip(iA,iz,iB){if(iz&&iB){if(iA.toUpperCase()=="OR"){return new iy(iz,iB);}else{if(iA.toUpperCase()=="AND"){return new im(iz,iB);}}}il.errorStack.push("Failed to create "+iA.toUpperCase()+" node.");return false;}function iv(iz){var iB=Array();for(var iA=0;iA<iz.length;iA++){if(iz.charAt(iA)=="("){iB.push("(");}else{if(iz.charAt(iA)==")"){if(iB.length==0){return false;}iB.pop();}}}return iB.length==0;}function it(iz){iz=mtjQuery.trim(iz);iz=iz.replace("  "," ");iz=iz.replace("( ","(");iz=iz.replace(/not\(/gi,"not (");iz=iz.replace(/and\(/gi,"and (");iz=iz.replace(/or\(/gi,"or (");if(iz.charAt(0)!="("||iz.charAt(iz.length-1)!=")"){return iz;}var iA=iz.substring(1,iz.length-1);if(iv(iA)){return iA;}else{return iz;}}function io(iA){var iz=it(iA);var iF=iz.split(" ");switch(iF.length){case 0:il.errorStack.push("Error - a try to build tree with empty expression");break;case 1:return iq(iF[0]);break;case 2:if(iF[0].toUpperCase()=="NOT"){return ir(io(iF[1]));}else{il.errorStack.push("Ilegal expression");return false;}break;case 3:if(iF[0].toUpperCase()=="NOT"){return ir(io(iF[1]+" "+iF[2]));}return ip(iF[1],io(iF[0]),io(iF[2]));break;default:var iE=Array();for(var iC=0;iC<iF.length;iC++){if(iC==0&&iF[iC].length>=3&&iF[iC].substr(0,3).toUpperCase()=="NOT"){return ir(io(iF.join(" ").substr(3)));}var iB=false;for(var iD=0;iD<iF[iC].length;iD++){if(iF[iC].charAt(iD)=="("){iB=true;iE.push("(");}else{if(iF[iC].charAt(iD)==")"){iB=true;iE.pop();}}}if(!iB&&iE.length==0&&iw(iF[iC])){return ip(iF[iC],io(iF.splice(0,iC).join(" ")),io(iF.splice(1,(iF.length-1)).join(" ")));}}il.errorStack.push("Ilegal expression");return false;}}function iw(iz){if(iz.match(/not/i)||iz.match(/or/i)||iz.match(/and/i)){return true;}return false;}function im(iz,iA){this.leftSon=iz;this.rightSon=iA;this.evaluate=function(){return this.leftSon.evaluate()&&this.rightSon.evaluate();};}function iy(iz,iA){this.leftSon=iz;this.rightSon=iA;this.evaluate=function(){return this.leftSon.evaluate()||this.rightSon.evaluate();};}function ix(iz){this.son=iz;this.evaluate=function(){return !this.son.evaluate();};}function iu(iz){this.func=iz;this.evaluate=function(){return this.func();};}};function ec(){this.LocalSVNRevision="$Rev: 1767 $";var iz=null;var il=null;var im=this;this._iframe=null;this._iframeReady=false;this._origin=null;this._path=null;this.doneLoading=false;var ip="wm-SELS-";var iq=null;var io=true;function ir(iD){iz=new fg();iq=new aV();il=[];im._origin=i;im._path="/player/resources/CD/CDhiddenIframe_v2.html";im.init(iD);}this.checkDoneLoading=function(){return im.doneLoading;};this.refreshGetData=function(iE,iD){if(iD){il.push(iD);}iv(iE);};this.saveData=function(iE,iG,iD,iF){im.removeData(iE,iF);if(iD>0){iB(iE,iG,iD,iF);iz.saveData(iE,iG,iD,iF);}else{iq.saveData(ip+iE,iG,iD);}};this.getData=function(iD,iE){var iF=iz.getData(iD,iE);if(iF===undefined){iF=iq.getData(ip+iD,iE);}return iF;};this.removeData=function(iD,iE){it(iD,iE);iz.removeData(iD,iE);iq.removeData(ip+iD,iE);};this.init=function(iE){if(window.postMessage&&window.JSON&&window.localStorage){im._iframe=document.createElement("iframe");im._iframe.className="walkme-to-remove";im._iframe.style.cssText="display:none;";var iD=dI()[0];iD.appendChild(im._iframe);if(window.addEventListener){im._iframe.addEventListener("load",function(){iy(iE);},false);window.addEventListener("message",function(iF){ix(iF);},false);}else{if(im._iframe.attachEvent){im._iframe.attachEvent("onload",function(){iy(iE);},false);window.attachEvent("onmessage",function(iF){ix(iF);});}}im._iframe.src=im._origin+im._path;}else{a9("Cannot run cross-domain Walk-Thrus on this browser.");iu();}};function iB(iF,iH,iE,iG){var iD={requestType:"set",userGuid:iG,key:iF,saveObj:{value:iH,saveTime:new Date().getTime(),expireSeconds:iE}};iC(iD);}function it(iE,iF){var iD={requestType:"delete",userGuid:iF,key:iE};iC(iD);}function iA(iD){if(iD){for(var iJ in iD){var iK=iD[iJ];if(iK&&iK.length&&(iK.length>0)&&(iK[0].saveObj!=undefined)){for(var iH=0;iH<iK.length;iH++){var iF=iK[iH].key;var iE=iK[iH].saveObj;var iI=new Date().getTime();var iG=iE.saveTime+(iE.expireSeconds*1000)-iI;if(iG>0){iz.saveData(iF,iE.value,(iG/1000),iJ);}else{im.removeData(iF,iJ);}}}}}}function iC(iD){if(im._iframeReady&&im._iframe.contentWindow){if(io){im._iframe.contentWindow.postMessage(hU(iD),"*");}}}function iv(iE){var iD={requestType:"getAllMultiple",usersToLoad:iE};iC(iD);}function iy(iD){im._iframeReady=true;iv(iD);}function ix(iF){if(im._origin.indexOf(iF.origin)>-1){if(iF.data=="error"){a9("Cannot load WalkMe data. Please enable 3rd party cookies in order to enjoy cross-domain Walk-Thrus.");iu();}else{var iE=gD(iF.data);if(iE.key=="getAllMultiple"){iA(iE.allValues);im.doneLoading=true;if(il.length>0){var iD=il.shift();iD();}}}}}function iu(){im.doneLoading=true;io=false;iz=iq;}function iw(iD){return bk(iD,_defaultUserGuid);}ir.apply(null,arguments);}function fg(){this.LocalSVNRevision="$Rev: 1740 $";var il=this;var ip=null;function im(){ip={};}this.saveData=function(iu,iw,it,iv){var iq={};iq.value=iw;iq.saveTime=new Date().getTime();iq.expiresSeconds=it;var ir=io(iv);ir[iu]=iq;};this.getData=function(iu,iw){var ir=io(iw);var iq=ir[iu];if(iq){var iv=new Date().getTime();var it=iq.saveTime+(iq.expiresSeconds*1000)-iv;if((iq.expiresSeconds==0)||(it>0)){return iq.value;}else{il.removeData(iu,iw);}}return undefined;};this.removeData=function(ir,it){var iq=io(it);delete iq[ir];};function io(iq){if(ip[iq]===undefined){ip[iq]={};}return ip[iq];}im.apply(null,arguments);}function hC(){this.LocalSVNRevision="$Rev: 1792 $";var im=this;var il=null;function ip(ix,iy){im.dataManager=ix;il=iy;}this.doneLoading=function iq(){if(im.dataManager.checkDoneLoading){var ix=im.dataManager.checkDoneLoading();return ix;}return true;};this.refreshGetData=function iu(){if(im.dataManager.refreshGetData){im.dataManager.refreshGetData.apply(null,arguments);}};this.saveData=function iw(iy,iA,ix,iz){iz=it(iz);if(iA===undefined){im.removeData(iy,iz);return;}im.dataManager.saveData(iy,hU(iA),ix,iz);};this.getData=function ir(iy,ix,iA){iA=it(iA);var iz=im.dataManager.getData(iy,iA);if(iz===undefined||iz===""){return ix;}return gD(iz);};this.addToDictionary=function io(iz,iA,iC,iy,iB){iB=it(iB);var ix=im.getData(iz,iB);if(ix===null||typeof ix!="object"){ix=new Object();}ix[iA]=iC;im.saveData(iz,ix,iy,iB);return ix;};this.removeData=function iv(ix,iy){iy=it(iy);im.dataManager.removeData(ix,iy);};function it(ix){return bk(ix,il);}ip.apply(null,arguments);}function f4(iz,iy,iu,it){var iq=this;var ip=iz;var io=iy;var im=iu;var il=it;var ir=function ir(){var iC=arguments;new ia(function(){iC[0].apply(this,Array.prototype.slice.call(iC,1));},0);};this.loadServerData=function iv(iE,iC,iF,iD){mtjQuery.ajax({url:iE,dataType:"json",success:function(iG,iI,iH){if(!iG.ErrorMessage){iq.updateLocalData(iC,iG);if(iF){ir(iF,iG);}}else{if(iD){ir(iD,iG.ErrorMessage);}}},error:function(iH,iI,iG){if(iD){ir(iD,iI);}}});};this.retrieveData=function iw(iF,iD,iH,iE){var iG=ip.getData(iD,null);if(iG){var iC=(il)?il(iG):iG;iH(iC);}else{iq.loadServerData(iF,iD,iH,iE);}};this.retrieveLocalData=function ix(iC){var iD=ip.getData(iC,null);return(il&&iD)?il(iD):iD;};this.updateLocalData=function iA(iD,iC){var iE=(im&&iC)?im(iC):iC;ip.saveData(iD,iE,io);};this.updateRemoteData=function iB(iD,iE,iC){mtjQuery.ajax({url:iD,dataType:"json",success:function(iF,iH,iG){if(!iF.ErrorMessage){if(iE){ir(iE);}}else{if(iC){ir(iC,iF.ErrorMessage);}}},error:function(iG,iH,iF){if(iC){ir(iC,iH);}}});};}function hS(iA,iB,iF,iy){var ip=this;var io=iA;var im=new f4(iB,0,iu,it);var iq=iF;var il=iy;function iv(iG){return"wm_ct_"+iq+"_"+iG;}function ix(iG){return io+"/ToDoList/UserCompletedTasks?userGuid="+iq+"&endUserId="+iG+"&jsoncallback=?";}function iw(iG,iI,iH){return io+"/ToDoList/UpdateUserTaskCompleted?userGuid="+iq+"&endUserId="+iG+"&taskId="+iI+"&goalId="+iH+"&jsoncallback=?";}function iu(iG){var iH=[];mtjQuery.each(iG,function(iJ,iK){if(!iK.TaskId){return;}var iI=mtjQuery.extend(true,{},iK);iz(iI,"TaskId","t");iz(iI,"IsCompleted","c");iz(iI,"CompletedGoals","g");iH.push(iI);});return iH;}function it(iH){var iG={};mtjQuery.each(iH,function(iJ,iI){if(!iI.t){return;}var iK=mtjQuery.extend(true,{},iI);iz(iK,"t","TaskId");iz(iK,"c","IsCompleted");iz(iK,"g","CompletedGoals");iG[iK.TaskId]=iK;});return iG;}function iz(iG,iH,iI){if(iG.hasOwnProperty(iH)){iG[iI]=iG[iH];delete iG[iH];}}this.asyncRetrieveCompletedTasks=function ir(iG,iI,iH){im.retrieveData(ix(iG),iv(iG),iI,iH);};this.syncRetrieveCompletedTasks=function iC(iH){var iG=im.retrieveLocalData(iv(iH));if(iG){return iG;}im.loadServerData(ix(iH),iv(iH));return null;};this.updateTaskCompleted=function iE(iI,iM,iJ,iG){var iL=iw(iI,iM,iJ);var iH=iv(iI);im.updateLocalData(iH,iG);im.updateRemoteData(iL,null,function iK(iN){iy({},iN);});};this.tempClearUserCompletedTasks=function iD(iG){im.updateLocalData(iv(iG),{});};}function hT(iU,iG,iP,iS,iZ,iC,iO,iJ,iI){var it=this;var iu,im,il,iq,ip,io;var ir=null;var iT={WalkThru:0};function iz(){a9('Initializing TodoListManager (isActive: "'+iG+'", serverAddress: "'+iP+'", userGuid: "'+iZ+'", endUserId: "'+iC+'")',3);iu=new hS(iP,iS,iZ,iO);il=iC;iq=iO;ip=iJ;io=iI;iG=iG&&iU&&(iU.length>0);it.setActiveState(iG);it.setTasks(iU);}function iy(i1,i2){if(i1.Index<i2.Index){return -1;}if(i1.Index>i2.Index){return 1;}return 0;}function iL(i2){var i1=true;switch(i2.TaskType){case iT.WalkThru:if((i2.TaskProperties)&&(i2.TaskProperties.WalkThruId)){var i3=dJ(i2.TaskProperties.WalkThruId);i1=_makeTutorial.canShowTutorial(i3);}break;}return i1;}function iK(i1){var i2=i1.TaskProperties;if(!parseInt(i2.ActivateConditionEnabled)){return true;}return _makeTutorial.evaluateConditionTree(i2.ActivateCondition);}function iw(i4,i1){for(var i3 in i4.Goals){var i2=i4.Goals[i3];if(!i2.Id){continue;}if(eh(i2.Id,i1.CompletedGoals)===-1){return false;}}return true;}function iB(i2,i1){if(ix(i2,i1)){it.deactivate();}}function ix(i5,i2){for(var i4 in i5){var i3=i5[i4];if(i0(i3)){var i1=i2[i3.Id];if(!i1){return false;}if(!i1.IsCompleted){return false;}}}return true;}function i0(i1){if(!i1.Id){return false;}if(i1.TaskType!==iT.WalkThru){a9("Task (id: "+i1.Id+") is of unknown type: "+i1.TaskType);return false;}if(!i1.TaskProperties.WalkThruId){a9("Task (id: "+i1.Id+") does not have any related Walk-Thru id");return false;}if(!dJ(i1.TaskProperties.WalkThruId)){a9("Task (id: "+i1.Id+") related Walk-Thru (id: "+i1.TaskProperties.WalkThruId+") does not exist");return false;}return true;}this.loadTasks=function iN(i5,i2){a9("Loading tasks completion data",3);if(ip||io){a9("Preview or Play mode - returning empty tasks completion data",3);iB(ir,{});i5({});return;}if(!il){it.deactivate();return;}try{var i3=function i3(i6){a9("Tasks completion data loaded successfully",3);iB(ir,i6);if(i5){i5(i6);}};var i4=function i4(i6){a9("Tasks completion data failed loading",3);it.deactivate();if(i2){i2(i6);}};iu.asyncRetrieveCompletedTasks(il,i3,i4);}catch(i1){it.deactivate();iq(i1,"An error occurred while trying to load completed tasks to the local storage");}};this.setTasks=function iR(i1){a9("Creating tasks dictionary",3);ir={};if(!i1){return;}mtjQuery.each(i1,function(i2,i3){if(!i3.Id){return;}ir[i3.Id]=i3;});a9("Tasks dictionary was created successfully",3);};this.tempClearUserCompletedTasks=function iV(){if(!il){return;}iu.tempClearUserCompletedTasks(il);};this.getCompletedTasks=function iE(){a9("Getting completed tasks",3);if(ip||io){a9("Preview or Play mode - returning empty array of completed tasks",3);return[];}if(!il){it.deactivate();return null;}try{var i1=iu.syncRetrieveCompletedTasks(il);if(!i1){return null;}var i2=[];mtjQuery.each(i1,function(i4,i5){if(!i5.TaskId){return;}if(i5.IsCompleted){i2.push(i5.TaskId);}});a9("Returning completed tasks ("+i2+")",3);return i2;}catch(i3){it.deactivate();iq(i3,"An error occurred while trying to retrieve completed tasks");}return null;};this.updateGoalCompleted=function iX(i4,i3){a9("Updating completed goal (taskId: "+i4+", goalId: "+i3+")",3);if(ip||io){a9("Preview or Play mode - exiting without updating",3);return;}if(!il){it.deactivate();return;}try{var i1=iu.asyncRetrieveCompletedTasks(il,function(i6){var i5=i6[i4];if(!i5){i5={TaskId:i4,IsCompleted:false,CompletedGoals:[]};}if(i5.IsCompleted){return;}if(eh(i3,i5.CompletedGoals)>-1){return;}i5.CompletedGoals.push(i3);var i7=ir[i4];i5.IsCompleted=iw(i7,i5);if(!i5.IsCompleted){i4=-1;}else{i5.CompletedGoals=[];}i6[i5.TaskId]=i5;iB(ir,i6);a9("Calling server update completed task goal (taskId: "+i4+", goalId: "+i3+")",3);iu.updateTaskCompleted(il,i4,i3,i6);});}catch(i2){it.deactivate();iq(i2,"An error occurred while trying to update task completed");}};this.updateTutorialCompleted=function iY(i1){a9("Updating completed tutorial (tutorialId: "+i1+")",3);if(ip||io){a9("Preview or Play mode - exiting without updating",3);return;}mtjQuery.each(ir,function(i3,i4){if(!i4.Id){return;}if(i4.TaskType!==iT.WalkThru){return;}if(parseInt(i4.TaskProperties.WalkThruId)!==i1){return;}if(i4.Goals&&i4.Goals.length>0){return;}var i2=iu.asyncRetrieveCompletedTasks(il,function(i5){if(i5[i4.Id]&&i5[i4.Id].IsCompleted){return;}i5[i4.Id]={TaskId:i4.Id,IsCompleted:true,CompletedGoals:[]};iB(ir,i5);a9("Calling server update completed task goal (taskId: "+i4.Id+", goalId: "+-1+")",3);iu.updateTaskCompleted(il,i4.Id,-1,i5);});});};this.getTasksGoalsNotCompleted=function iF(){if(ip||io){a9("Preview or Play mode - not getting tasks not completed goals",3);return[];}a9("Getting tasks uncompleted goals",3);var i1=iu.syncRetrieveCompletedTasks(il);if(!i1){i1=[];}var i2=[];mtjQuery.each(ir,function(i4,i5){if(!i5.Id){return;}var i3=i1[i5.Id];if(i3&&i3.IsCompleted){return;}var i6={TaskId:i5.Id,Name:i5.Name,GoalsNotCompleted:[]};mtjQuery.each(i5.Goals,function(ja,i8){if(!i8.Id){return;}var i7=(i3&&i3.CompletedGoals)?i3.CompletedGoals:[];if(eh(i8.GoalId,i7)===-1){var i9=mtjQuery.extend(true,{},i8);i6.GoalsNotCompleted.push(i9);}});i2.push(i6);});return i2;};this.getApiTasks=function iD(i2){a9("Getting tasks fot the API",3);var i3=it.getCompletedTasks();if(!i3){i3=[];}var i1=[];mtjQuery.each(ir,function(i5,i7){if(!i0(i7)){return;}var i6=(i3)?eh(i7.Id,i3)>-1:false;var i4={Index:i7.OrderIndex,Name:i7.Name,Id:i7.Id,IsCompleted:i6,TaskType:i7.TaskType,TaskProperties:aH(i7.TaskProperties)};if(i2){i4.ConditionsPassed=iL(i7);i4.IsActive=iK(i7);}delete i4.TaskProperties.ActivateConditionEnabled;delete i4.TaskProperties.ActivateCondition;i1.push(i4);});i1.sort(iy);return i1;};this.isTaskGoalReached=function iM(i4,i2){var i1=iu.syncRetrieveCompletedTasks(il);if(!i1){return false;}var i3=i1[i4];if(!i3){return false;}if(i3.IsCompleted){return true;}return(eh(i2,i3.CompletedGoals)!==-1);};this.isActive=function iH(){return im;};this.setActiveState=function iQ(i1){a9("Setting todo list active state to: "+i1,3);im=i1;};this.activate=function iv(){var i1=iu.asyncRetrieveCompletedTasks(il,function(i2){if(ix(ir,i2)){return;}it.setActiveState(true);});};this.deactivate=function iA(){it.setActiveState(false);};this.toggleActiveState=function iW(){it.setActiveState(!it.isActive());};iz.apply(null,arguments);}function hN(iq,ip,ix){this.LocalSVNRevision="$Rev: 1464 $";var il=null;var io=ix;function ir(){il=new d4(iq,ip,iu);}var im=this;function it(iy){return(iy.GoalsNotCompleted)?iy.GoalsNotCompleted:[];}var iu=function(iy){ix.updateGoalCompleted(iy.TaskId,iy.Id);};this.startWatchingTasks=function iw(){var iy=ix.getTasksGoalsNotCompleted();mtjQuery.each(iy,function(iz,iA){if(!iA.TaskId){return;}im.startWatchingTask(iA);});};this.startWatchingTask=function iv(iy){var iz=it(iy);if(iz.length>0){il.addGoalsWatch(iz);}a9("Started watching Task : "+iy.Name,2);};ir.apply(null,arguments);}function cl(){this.LocalSVNRevision="$Rev: 2014 $";var iD=7000;var iu=null;var iC=[];var ip=undefined;var iH=null;var il=undefined;var im=this;function ir(){}this.isFramesetsPage=function iA(){if(il===undefined){il=wmjQuery("frameset").length>0;}return il;};this.checkIfAnyFrameIsUnloaded=function(iI){new ia(iF,iI);ip=iw();iC=[];iu=fz(iq,5);if(iH!=null){iH.clear();}iH=new ia(iG,iD);};this.isLoadingFrames=function iB(){return(iC.length>0);};this.isFrameActive=function iy(iI){if((iI==null)||(iI.contentWindow==null)||(iI.contentWindow.document==null)||((mtjQuery("body",iI.contentWindow.document).length==0)&&(mtjQuery("frameset",iI.contentWindow.document).length==0))){return false;}return true;};function iw(iI,iJ){if(iJ===undefined){iJ=[];}mtjQuery("frame",iI).each(function(){if(mtjQuery("frame, frameset",this.contentWindow.document).length>0){iJ=iw(this.contentWindow.document,iJ);}iJ.push(this);});return iJ;}function iq(){for(var iJ=0;iJ<ip.length;iJ++){var iI=ip[iJ];if(!(im.isFrameActive(iI))){if((iI!=null)&&(iI.contentWindow!=null)){io(iI);}}}}function io(iI){if(!iz(iI)){iC.push(iI);mtjQuery(iI).bind("load.walkme",(function(){iv(iI);}));}}function iz(iI){for(var iJ=0;iJ<iC.length;iJ++){if(iC[iJ]==iI){return true;}}return false;}function iE(iI){for(var iJ=0;iJ<iC.length;iJ++){if(iC[iJ]==iI){iC.splice(iJ,1);}}}function iv(iI){mtjQuery(iI).unbind("load.walkme");iE(iI);}function iF(){if(iu!=null){iu.clear();iu=null;}}function iG(){for(var iI=0;iI<iC.length;iI++){mtjQuery(iC[iI]).unbind("load.walkme");}iC=[];}this.findBiggestFrame=function it(iJ,iK){iJ=iJ?iJ:document;var iI=iK?ix(iK):-1;mtjQuery("frame",iJ).each(function(){try{if(mtjQuery("frame, frameset",this.contentWindow.document).length>0){var iM=this.contentWindow.document;if(iM){iK=im.findBiggestFrame(iM,iK);}}else{var iN=ix(this);if(iN>iI){iI=iN;iK=this;}}}catch(iL){}});return iK;};function ix(iI){var iJ=0;if(iI.height!==undefined&&iI.width!==undefined){iJ=iI.height*iI.width;}else{iJ=mtjQuery(iI).height()*mtjQuery(iI).width();}return iJ;}ir.apply(null,arguments);}function hM(){var im=this;im.LocalSVNRevision="$Rev: 2014 $";var il;var iu=10*1000;function ir(iz){il=iz;}this.handleSurveyPlay=function it(iE,iA,iz){a9("Checking if need to open survey");var iC=iq(iE,iA);if(iC.shouldStart){a9("Starting survey");var iD={};iD.surveyJson=iC.survey;iD.tutorialId=iE.Id;iD.submitResults=iy;iD.submitExit=ix;iw(iD,iz);for(var iB=0;iB<iC.cookiesToSave.length;iB++){if(iC.cookiesToSave[iB].expiry>=0){hB.saveData(iC.cookiesToSave[iB].name,1,iC.cookiesToSave[iB].expiry);}}}};function iy(iz){if(iz.answers.length>0){iv("SurveyCompleted",iz);io(iz.surveyGuid);return true;}return false;}function ix(iz){iv("SurveyExited",iz);}function iv(iz,iB){var iC=hU(iB);var iA=mtjQuery.ajax({url:y+"/Survey/"+iz+"?jsoncallback=?",dataType:"json",data:{surveyDataSerialized:iC},timeout:iu});iA.success(function(iD){});iA.error(function(iD,iE,iF){});}function io(iA){var iz="wm-SrvSmt-"+iA;hB.saveData(iz,1,0);}function iq(iD,iB){var iC={shouldStart:false,cookiesToSave:[],survey:null};var iE=dq(iD.Settings,"survey",undefined);if(iE){if(iE.startCondition==iB||iE.startCondition==hK.Both){iC.survey=dD(iE.surveyId);if(!iC.survey){a9("Couldn't find survey with id:"+iE.surveyId);return iC;}var iA="wm-SrvRep-"+iC.survey.Id;var iz=ip(iA,iC.survey.Settings);if(iz&&iz.shouldStart){iC.cookiesToSave.push({name:iA,expiry:iz.repeatCookieExpiry});iA="wm-SrvWtRep-"+iD.TutorialId+"-"+iC.survey.Id;iz=ip(iA,iE);iC.cookiesToSave.push({name:iA,expiry:iz.repeatCookieExpiry});iC.shouldStart=iz.shouldStart;}}}return iC;}function ip(iz,iB){var iA=iB.repeat||"visit";return il.checkRepeatCookie(iz,iA);}function iw(iC,iz){var iA=window.walkmeExternalSurvey;if(iA){a9("Starting external survey");iC.playGuid=af._currentPlayGUID;iC.source=cr();iA(iC,iz);}else{a9("Starting regular survey");var iB=new hJ(il,iC,iz);iB.show();}}ir.apply(null,arguments);}function hJ(){var iu=this;var im;var iq;var ir;var iv;var il;var ip;var io;var it;var iI={FreeText:0,RadioButton:1,CheckBox:2,PersonalDetails:3};function iB(iU,iV,iT){im=iU;iq=iV.survey;ir=new iR();it=[];iv=iV.tutorialId;il=iT;ip=iV.submitResults;io=iV.submitExit;}function iC(){var iT=mtjQuery("<div></div>");iT.css("width","500px");iT.attr("id","walkme-survey-"+iq.Guid);iT.addClass("walkme-survey");return iT;}function iG(){var iT=mtjQuery("<div></div>");iT.addClass("walkme-survey-title");iT.html(iq.Name);iT.css("margin-bottom","8px");iT.css("font-weight","bold");iT.css("font-size","24px");return iT;}function iD(){var iW=mtjQuery("<div></div>");iW.addClass("walkme-survey-questions");iW.css("height","300px");iW.css("overflow-y","auto");iW.css("overflow-x","hidden");iW.css("margin-bottom","10px");for(var iT=0;iT<iq.Questions.length;iT++){var iU=ir.getSurveyQuestion(iq.Questions[iT]);it.push(iU);iW.append(iE(iT,"before"));var iV=iU.Generate();iV.css("margin-bottom","12px");iW.append(iV);iW.append(iE(iT,"after"));}return iW;}function iE(iT,iV){var iU=mtjQuery("<div></div>");iU.addClass("walkme-survey-question-separator-"+iV);iU.attr("id","walkme-survey-question-separator-"+iV+"-"+iT);return iU;}function iF(){var iT=iC();var iV=iG();iT.append(iV);var iU=iD();iT.append(iU);iw(iT);return iT;}function iw(iV){for(var iU=0;iU<4;iU++){var iT=mtjQuery("<div></div>");iT.addClass("walkme-survey-extra-div-"+iU);iV.append(iT);}}function iH(){var iT=mtjQuery("<div></div>");iT.append(iF());return iT;}iu.show=function iL(){var iT=iH();var iU={popupStepButtons:[{id:0,action:4}]};if(iq.Settings&&iq.Settings.fadeBackground){iU.fadeBackground=iq.Settings.fadeBackground;}hf(iT,600,iU,ix);};function iy(iW){var iU={};var iV=[];iU.playGuid=af._currentPlayGUID;iU.surveyGuid=iq.Guid;iU.tutorialId=iv;iU.source=cr();iU.customVarsData=dY(id.Var,iq.Settings.customVar);iU.customCookiesData=dY(id.Cookie,iq.Settings.customCookie);if(iW){for(var iX=0;iX<it.length;iX++){var iT=it[iX].getAnswers();iV=iV.concat(iT);}}iU.answers=iV;return iU;}function iM(){var iT=iy(true);if(ip){if(ip(iT)){a9("Submit results");iA();}}else{a9("No submit function!",3);iA();}}function iO(){a9("Survey exited");var iT=iy(false);io(iT);iA();}function iz(iU){var iT=mtjQuery("#"+iU);var iV=iT.parent();mtjQuery("input:checked",iV).removeAttr("checked");var iW=mtjQuery(".walkme-survey-answer-radiobutton",iT);iW.attr("checked","checked");iW.change();}function iJ(iX,iU){var iW=mtjQuery("#"+iX).parent();var iT=iW.parent();var iV=iT.parent();if(iU){mtjQuery(".selected",iV).removeClass("selected");}iW.addClass("selected");iT.addClass("selected");}function iA(){im.releaseBalloons();if(il){il();}}function ix(iT){mtjQuery(".walkme-action-submit",iT).click(iM);mtjQuery(".walkme-action-close",iT).attr("onclick","").unbind("click");mtjQuery(".walkme-action-close",iT).click(iO);iK(iT);mtjQuery(".walkme-survey-answer-radiobutton",iT).change(function(){iJ(this.id,true);});mtjQuery(".walkme-survey-radiobutton-answer",iT).click(function(){iz(this.id);});mtjQuery("input:checked.walkme-survey-answer-radiobutton",iT).change();iT.addClass("walkme-survey-balloon");}function iK(iT){mtjQuery(".walkme-custom-balloon-close-button",iT).attr("title","Stop Survey");}function iR(){var iT=this;iT.getSurveyQuestion=function(iU){var iV;switch(iU.QuestionType){case iI.FreeText:iV=new iP(iU);break;case iI.CheckBox:iV=new iN(iU);break;case iI.RadioButton:iV=new iS(iU);break;case iI.PersonalDetails:iV=new iP(iU);break;}return iV;};}function iQ(){var iT=this;iU=function iU(iZ){iT._question=iZ;iT._questionDiv=mtjQuery("<div></div>");};iT.getQuestionDivFromWindow=function iW(){var i0=mtjQuery("#walkme-survey-"+iq.Guid);var iZ=mtjQuery("#"+iT._questionDiv.attr("id"),i0);return iZ;};iT.setTitle=function iY(iZ){var i0=mtjQuery("<div></div>");i0.addClass("walkme-survey-question-title");i0.css("font-weight","bold");i0.css("margin-bottom","4px");i0.html(iZ);iT._questionDiv.append(i0);};iT.setSubTitle=function iX(iZ){var i0=mtjQuery("<div></div>");i0.addClass("walkme-survey-question-sub-title");i0.css("margin-bottom","10px");i0.html(iZ);iT._questionDiv.append(i0);};iT.Generate=function iV(){iT._questionDiv=mtjQuery("<div></div>");iT._questionDiv.attr("Id","walkme-survey-question-"+iT._question.Id);iT._questionDiv.addClass("walkme-survey-question");iT.setTitle(iT._question.Title);iT.setSubTitle(iT._question.SubTitle);return iT._questionDiv;};iU.apply(null,arguments);}function iP(){var iT=this;var iV=500;function iU(iY){h7.extend(iT,iQ,iY);}iT.Generate=function iW(){iT._questionDiv=iT._base.Generate();var iY=mtjQuery("<div></div>");iY.addClass("walkme-survey-question-freetext-answers");iY.attr("id","walkme-survey-question-freetext-answers-"+iT._base._question.Id);var iZ=mtjQuery('<textarea rows="4" cols="20" maxlength="'+iV+'"></textarea>');iZ.css("resize","none");iZ.attr("id","walkme-survey-question-freetext-"+iT._base._question.Id);iZ.addClass("walkme-survey-answer-textarea");iZ.css("width","100%");iZ.css("max-width","97%");iY.append(iZ);iT._questionDiv.append(iY);return iT._questionDiv;};iT.getAnswers=function iX(){var iY={};var iZ=iT._base.getQuestionDivFromWindow();var i0=mtjQuery(".walkme-survey-answer-textarea",iZ).val();if(i0!=""){iY.questionId=iT._base._question.Id;iY.answerText=i0;return[iY];}return[];};iU.apply(null,arguments);}function iN(){var iT=this;function iU(iX){h7.extend(iT,iQ,iX);}iT.Generate=function iV(){iT._questionDiv=iT._base.Generate();var i0=mtjQuery("<div></div>");i0.addClass("walkme-survey-question-checkbox-answers");i0.attr("id","walkme-survey-question-checkbox-answers-"+iT._base._question.Id);var iZ=iT._base._question.Answers;for(var i2=0;i2<iZ.length;i2++){var iY=mtjQuery("<div></div>");iY.addClass("walkme-survey-question-checkbox-answer");iY.attr("id","walkme-survey-answer-"+iZ[i2].Id);var i1=mtjQuery("<label><label/>");i1.attr("for","walkme-survey-answer-checkbox-"+iZ[i2].Id);i1.addClass("walkme-survey-answer-text");i1.html(iZ[i2].Title);var iX=mtjQuery('<input type="checkbox"/>');iX.addClass("walkme-survey-answer-checkbox");iX.attr("value",iZ[i2].Id);iX.attr("id","walkme-survey-answer-checkbox-"+iZ[i2].Id);iY.append(iX);iY.append(i1);i0.append(iY);}iT._questionDiv.append(i0);return iT._questionDiv;};iT.getAnswers=function iW(){var i1=iT._base.getQuestionDivFromWindow();var iZ=mtjQuery("input:checkbox:checked",i1);var iY=[];for(var i0=0;i0<iZ.length;i0++){var iX={};iX.answerId=iZ[i0].value;iX.questionId=iT._base._question.Id;iY.push(iX);}return iY;};iU.apply(null,arguments);}function iS(){var iT=this;function iU(iX){h7.extend(iT,iQ,iX);}iT.Generate=function iV(){iT._questionDiv=iT._base.Generate();var i1=mtjQuery("<div></div>");i1.attr("id","walkme-survey-question-radiobutton-answers-"+iT._base._question.Id);i1.addClass("walkme-survey-question-radiobutton-answers");var i0=iT._base._question.Answers;for(var i5=0;i5<i0.length;i5++){var iX=mtjQuery("<div></div>");iX.addClass("walkme-survey-radiobutton-answer");iX.attr("id","walkme-survey-question-answer-"+i0[i5].Id);var i3=mtjQuery("<div></div>");i3.addClass("walkme-survey-answer-text");i3.attr("id","walkme-survey-answer-text-"+i0[i5].Id);var i4=mtjQuery("<label></label>");i4.attr("for","walkme-survey-answer-radiobutton-"+i0[i5].Id);i4.addClass("walkme-survey-answer-title");i4.html(i0[i5].Title);var i2=mtjQuery("<label></label>");i2.attr("for","walkme-survey-answer-radiobutton-"+i0[i5].Id);i2.addClass("walkme-survey-answer-subtitle");i2.html(i0[i5].SubTitle);i3.append(i4);i3.append("<br/>");i3.append(i2);var iZ=mtjQuery("<div></div>");iZ.addClass("walkme-survey-answer-radiobutton-div");iZ.attr("id","walkme-survey-answer-radiobutton-div-"+i0[i5].Id);var iY=mtjQuery('<input type="radio"/>');iY.addClass("walkme-survey-answer-radiobutton");iY.attr("value",i0[i5].Id);iY.attr("name","walkme-survey-question-group-"+iT._base._question.Id);iY.attr("id","walkme-survey-answer-radiobutton-"+i0[i5].Id);if(i5==0){iY.attr("checked","checked");}iZ.append(iY);iX.append(iZ);iX.append(i3);i1.append(iX);}iT._questionDiv.append(i1);return iT._questionDiv;};iT.getAnswers=function iW(){var iX={};var iY=iT._base.getQuestionDivFromWindow();var iZ=mtjQuery("input[name='walkme-survey-question-group-' + _this._base._question.Id]:checked",iY).val();if(iZ){iX.answerId=iZ;iX.questionId=iT._base._question.Id;return[iX];}return[];};iU.apply(null,arguments);}iB.apply(null,arguments);}function h7(){function im(io,iq){for(var ip in iq){if(!(io[ip]&&typeof(io[ip])==="function")){io[ip]=iq[ip];}}}this.extend=function il(iv,it,io,ip,iq,ir){var iu=new it(io,ip,iq,ir);im(iv,iu);iv._base=iu;};}var h7=new h7();function aY(){var iN="wm-cdplay";var iV="wm-cdstop";var iM="wm-cdowner";var iE=200;var iL=3600;var iA=this;var iu,iB,io,iw,im,iy,iC,il,iz,iv,iq,it,ir;var ip;var ix=false;function iG(iX){im=iX.errorHandler;iy=iX.storageManager;iC=iX.userGuid;iz=iX.terminateTutorialFunction;iv=iX.restoreStateFunc;iq=iX.isFeatureEnabled;b=iX.allUserGuids;ir=iX.isPlayMode;iw=iX.resumeAfterUnloadFunc;io=iX.getStepFunc;it=(iX.topWindow==iX.owner);ip=false;}this.enabled=function iH(){if(!iq("cd_play")){return false;}if(typeof window.postMessage==="undefined"){a9("Cross Domain Play is not supported, probably using IE7. The feature is turned off.");return false;}if(ir){return false;}return true;};this.start=function iU(){if(!iA.enabled()){return;}a9("starting cross domain listening...");iF();};this.reset=function iO(iX){if(!iA.enabled()){return;}iP();iQ(true);};this.loseOwnership=function iK(iX,iY){if(!iA.enabled()){return;}a9("losing ownership...");if(ip){if(iX){iP();}iS(false);if(iY){iR(iu);ix=true;iu=null;}}};this.switchOwner=function iW(iX){if(!iA.enabled()){return;}a9("switching owner...");iR(iX);iA.loseOwnership();};function iF(){iy.refreshGetData(b,function(){if(ip){if(iT()){iQ(false);iz();iA.loseOwnership();}else{iS(true);}}else{if(!iJ()){if(iD()){a9("gaining ownership with state "+n);if(ix&&n!=ho.RUNNING){ix=false;iS(true);iw();}else{a9("ownership granted");iQ(false);iS(true);iv(iC);}}}else{if(ix){ix=false;}}}setTimeout(iF,iE);});}function iD(){try{var iZ=iI();if(iZ&&iZ!=iC){var iY=io(iZ.stepId,iZ.tutorialId);if(iY!==null){return _makeTutorial.evaluateConditionTree(iY.Settings.action.arguments.condition);}}else{if(it){e9("owner by being top window");return true;}}}catch(iX){im(iX,"Error determining the owner of a cross domain step");}return false;}function iJ(){return iy.getData(iM,false,iC);}function iS(iX){ip=iX;iy.saveData(iM,iX,(iE*5)/1000,iC);}function iT(){return iy.getData(iV,false,iC);}function iQ(iX){iy.saveData(iV,iX,iL,iC);}function iI(){iu=iy.getData(iN,false,iC);return iu;}function iR(iX){iy.saveData(iN,iX,(iE*10)/1000,iC);}function iP(iX){iy.saveData(iN,false,iL,iC);}iG.apply(null,arguments);}function hz(){this.LocalSVNRevision="$Rev: 2014 $";var it=2000;var io=this;var im={};var il=false;function ip(){}io.registerSticky=function iv(ix){if(!ir(ix.stickinessType)){a9(ci("Sticky with id={0} has an invalid stickiness type={1}",ix.identifier,ix.stickinessType),1);return;}a9(ci("registerSticky for sticky with identifier {0}: stickinessType={1}",ix.identifier,ix.stickinessType),1);im[ix.identifier]=ix;iw();};function ir(iy){var iz=cJ(hy);for(var ix=0;ix<iz.length;ix++){if(iz[ix]==iy){return true;}}return false;}function iw(){if(il){return;}il=true;a9(ci("Started watching stickies with identifiers:{0}",hU(cH(im))),1);e5(iu,it);}function iu(){wmjQuery.each(im,function(iy,iz){iq(iz);});var ix=cI(im);if(ix>0){e5(iu,it);}else{il=false;}}function iq(iy){var ix=iy.isDrawnFunction();a9(ci("handleStickinessTypes, stickyIdentifier={0}. stickinessType=strong. isStickyDrawn={1}",iy.identifier,ix),3);if(ix){if(iy.stickinessType==hy.soft){a9(ci("Sticky with identifier {0} was drawn and removed from stickies list",iy.identifier),3);delete im[iy.identifier];}}else{if(iy.shouldDrawFunction&&!iy.shouldDrawFunction()){return;}iy.redrawFunction();}}ip.apply(null,arguments);}var hz=new hz();var bq="displayWidgetCondition";var bc=false;if(window.walkme_lib_in_dev){bc=true;}var bh="#BDE938";var fe=70;var ig=1;var gv=-100000;var ho={NOT_RUNNING:0,RUNNING:1,WAITING_FOR_ELEMENT:2,WAITING_FOR_ELEMENT_EVENT:3,PAUSED:4,WAITING_FOR_SPLIT:5,WAITING_FOR_NEXT_BUTTON_CLICK:6,WAITING_FOR_PAGE_CHANGE:7,WAITING_FOR_STICKY_ELEMENT:8,WAITING_FOR_CONDITION:9,PASSING_OWNERSHIP:10,WAITING_FOR_REDIRECT:11,WAITING_FOR_OWNERSHIP:12};var cg=2500;var ht={SupposedToShow:0,Shown:1,Performed:2,SkippedNotFound:3,SkippedByCondition:4,MovedBack:5,Exited:6,FakeFound:7,SkippedByTutorialCondition:8,SkippedStartedFromBiggerStep:9,NonValidActionStep:10,SkippedByActionStep:11};var gt={PopupShown:1,AutoRedirect:2,StayClicked:3,RedirectClicked:4};var hv={NOTHING:0,NEXT_BUTTON:1,CLICK:2,HOVER:3,PAGE_CHANGED:4,KEY_PRESSED:5,DURATION:6};var hr={NONE:0,WIDGET:1,API:2,LAUNCHER:3,TASK:4,BRANCHING:5,AUTOSTART:6,PERMALINK:7,BBCODE:8};var aN={Show:1,Action:2};var aP={URL:0,FIRST_STEP_MUST_EXIST:1,AUTO_START:2,REDIRECT:3,SKIP_FIRST_STEP:4};var hs={Normal:0,Popup:1,Action:2};var fw="PSCTMode";var fx={PLAY_CONDITION:0,STICKY_CONDITION:1,BOTH:2};var fK={TRUE:0,FALSE:1,CANNOT_ASSERT:2};var id={Cookie:0,Var:1};var hh={production:0,preview:1,play:2,test:3};var a0="display: block; padding: 0; margin: 0;	vertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit;  font-family: Arial; letter-spacing: normal; text-align: left; text-transform: none; font-weight: normal; outline: invert none medium; width: auto;  border-top: none; border-right: none; border-bottom: none; border-left: none; direction: ltr; position: static; top: auto; left: auto;";var fG={Top:0,Right:1,Bottom:2,Left:3};var aZ=["top","right","bottom","left"];var fF={Center:0,Start:1,End:2};var hK={WalkThruCompleted:0,WalkThruExited:1,Both:2,WalkThruInterrupted:3};var hy={soft:0,strong:1};var ep="isSticky";var hx="stickinessType";var aj=fG.Bottom;var bi=60;var hQ=2000;var hF="##START_OF_CURRENT##";var hE="##END_OF_CURRENT##";var hH="##START_OF_TOTAL##";var hG="##END_OF_TOTAL##";var K=[];var G=[];var x=[];var F=[];var z=[];var j;var u=[];var w={};var C={};var I=this;var y="";var i="";var hY={};var af=null;var aQ=null;var d3=null;var aT=null;var hB=null;var ck=null;var J=null;var H=null;var hL=null;var L=null;var b=[];var a=null;var k=null;I.ConditionFunctionsObj=null;var l=[];var m=[];var p=-1;var o=-1;var n=ho.NOT_RUNNING;var A=[];var B=[];var e6=[];var fB=[];var a8=[];var d2={};var hR="wm-";var a7=Array();var fC=null;var h1=null;var bs=false;var eg=false;var h5=false;var h3="wm-wfow";var fv="wm-prsst";var hk="sti";var a6="tId";var a4="stt";var a5="step";var a3="plgd";var hj="splt";var hW="fnsh";var hq="sph";var hO="wm-eug-";var ad=60;var aS=60*60*24*365*10;var ed;var en;var t=false;var ab=26;var ac=13;var r=Array();var bR=false;var c=Array();var d=0;var D=[];var E=[];var v=-1;var s=hh.production;var cj=false;var fq=window.clearTimeout;var fp=window.clearInterval;function fs(){window.clearTimeout=function(il){aG(il,fq);};window.clearInterval=function(il){aG(il,fp);};}function aG(im,il){var io=d2[hR+im]!==undefined;if(io){return;}else{il(im);}}function a2(){I.ConditionFunctionsObj=new I.ConditionFunctions(I);aQ=new aO(I.ConditionFunctionsObj);aT=new aU();ed=new ee(I);en=new em(I);ck=new cl();e3=new e4(I);try{if(window.walkme_lib_in_dev){bp();}}catch(il){}}function dz(){var ip=eC("jstorage");var im=eC("crossdomain")||eC("cd_play");var io=null;if(ip){io=new h9();}else{if(im){ad=60*60*24;io=new ec(b);}else{io=new aV();}}var il=b[0];return new hC(io,il);}this.getStorageManagerInstance=function dA(){return hB;};this.getAnimator=function cp(){return Z;};function dY(io,im){var il=undefined;if(im){switch(io){case id.Cookie:il=dX(im);if(!il){il=undefined;}break;case id.Var:il=d0(im);break;}}return il;}function dX(il){return aT.getCookie(il);}function d0(io){var ip=io.split(".");var im=window[ip[0]];for(var il=1;il<ip.length;il++){if(im===undefined||im===null){return undefined;}im=im[ip[il]];}return im;}function cz(){return(window.jQuery)||(window.$);}function eK(){return s===hh.preview;}function eJ(){return s===hh.play;}function aW(il,im){if(il.BalloonSettings==undefined){if(im.length>0){il.BalloonSettings=im[0].Steps[0].Configuration;}}}function cO(il,im){var io=il.css(im);return(io)?parseFloat(io):0;}function aH(il){return gD(hU(il));}function f9(im,ip){for(var io=0;io<im.length;io++){try{ip(im[io].element);}catch(il){}}im.length=0;}this.setPlayInitiator=function gS(il){af.setPlayInitiator(il);};this.getPlayInitiatorEnum=function dg(){return hr;};this.releaseAllElements=function fT(){I.releaseBalloons();I.releaseLaunchers();};this.releaseBalloons=function fW(){f9(l,fZ);};this.releaseLaunchers=function f1(){I.setLaunchers([]);f9(m,f0);};this.setUserGuidForEditor=function g3(il){b=[il];L=il;};this.setTutorialsForEditor=function g1(ip,iq){try{var io=gD(ip);for(var im=0;im<io.length;im++){io[im].userGuid=iq;}I.setTutorials(io);}catch(il){I.lib_error(il);}};this.setSurveysForRecorder=function gX(il){var im=gD(il);F=im;};this.getLaunchers=function c6(){return x;};this.setLaunchers=function gQ(il){w={};x=il;};this.setTutorials=function g0(im){K=im;C={};for(var il=0;il<K.length;il++){cf(K[il],z);}};this.getTutorials=function dO(){return K;};this.getSiteConfig=function dr(il){if(il&&j){return j;}else{return z;}};this.getWalkthrusLabels=function dU(){var il=dq(z.Settings,"labels",null);if(il&&il.useLabels==1){return u;}return null;};this.getSurveys=function dF(){return F;};this.setSiteConfig=function gU(il){z=il;gN(null);};this.appendDataPackage=function aa(iq,ip){var ir=iq;if(iq.Tutorials===undefined){ir={Tutorials:iq,SiteConfig:ip};}var iw=ir.Tutorials;var it=ir.SiteConfig;var iv=bk(ir.Tasks,[]);var im=bk(ir.Labels,[]);var iu=bk(ir.Surveys,[]);var io=bk(ir.Launchers,[]);L=bk(ir.UserGuid,"No-User-Guid");b.push(ir.UserGuid);if(e3.isNewLanguage()){K=[];z=[];u=[];G=[];x=[];F=[];}aW(it,iw);if(it&&z.length==0){j=it;I.setSiteConfig(it);}for(var il=0;il<iw.length;il++){cf(iw[il],it);hY[iw[il].TutorialId]={siteConfig:it,isPackageHidden:e3.isNextDataPackageIsHidden()};iw[il].userGuid=L;}K=K.concat(iw);u=u.concat(im);G=G.concat(iv);x=x.concat(io);F=F.concat(iu);};this.isTutorialPackageHidden=function eX(il){var im=hY[il.TutorialId];if(!im){return false;}return im.isPackageHidden;};this.setRecorderServer=function gT(im){y=im;var il=e3.getPlayerServer();if(il!==null&&il!==undefined){y=il;}};this.getPlayerServer=function df(){return y;};this.setCdnServer=function gL(il){i=il;};this.setInRecorder=function gP(il){t=il;};this.setAnalyticsCustomFields=function gJ(il,im){c[il]=im;return true;};this.getSupportedLanguages=function dC(){return e3.getSupportedLanguages();};this.getCurrentLanguage=function cB(){return e3.getCurrentLanguage();};this.changeLanguage=function av(im,il){e3.changeLanguage(im,il);};this.tempClearUserCompletedTasks=function hP(im,il){J.tempClearUserCompletedTasks(im,il);};this.loadTasks=function e7(im,il){J.loadTasks(im,il);};this.getApiTasks=function cq(il){return J.getApiTasks(il);};this.getWidgetMode=function dW(){return(J&&J.isActive())?"Tasks":"Walkthrus";};this.setWidgetMode=function g4(il){switch(il){case"Walkthrus":J.deactivate();break;case"Tasks":J.activate();break;default:throw"Unknown widget mode";}};this.getWidgetInitialState=function dV(){var il=Boolean(parseInt(z.TodoListSettings.isClosed));return(J&&J.isActive()&&!il&&!n)?"Open":"Closed";};this.triangleLoaded=function hV(il){this.dataFinishedLoading(il);};var fr;this.dataFinishedLoading=function bb(im){var io=0;function ip(){a9("Trying to load Walk-Thru data from storage... "+io,2);if(hB.doneLoading()||io>10){if(io>10){a9("There was a problem loading Cross-Domain WalkMe Data",1);}il();return;}io++;new ia(function(){ip();},200);}function il(){cb();if(k.enabled()){k.start();}else{gg();}af.handleSendLogsToServer();d3.reloadState();try{walkme_ready();}catch(iq){}try{mt_ready();}catch(iq){}var ir=dQ().walkme;if(ir){if(eP(ir)){new ia(function(){WalkMeAPI.startWalkthruById({id:parseInt(ir),fromStep:0,playInitiator:hr.PERMALINK});},1);}}gp();}if(fr===undefined){fr=window.onbeforeunload;window.onbeforeunload=function(iq){fo(iq);if(fr){return fr(iq);}};}if(!ek()){return false;}if(!im){ip();I.showAllLaunchers();}return true;};function cI(io){var il=0;var im;for(im in io){if(io.hasOwnProperty(im)){il++;}}return il;}function cb(){if(mtjQuery.browser.msie){var il=mtjQuery("a[href^='javascript:']");il.click(function(){eg=true;});}}function cf(ip,im){var io=ip.Steps;for(var il=0;il<io.length;il++){ce(io[il],il,im);}}function ce(io,il,im){io.StepIndex=il;if(!io.Configuration||io.Configuration==-1){io.Configuration=im.BalloonSettings;}else{io.End=io.Configuration.End;io.Duration=io.Configuration.Duration;io.Delay=io.Configuration.Delay;io.Position=io.Configuration.Position;}io.IgnorePosition=parseInt(dq(io.Settings,"ignorePosition",0));}this.initWalkmeClassesForCustomizePlayer=function el(){hB=dz();};function ek(){hB=dz();a=new M(z,hB,I.getEndUserId,I.lib_error);if(!a.shouldLoadWalkme()){I.removeWalkMe();return false;}if(eC("overridetimeouts")){fs();}af=new ag(y,ad);cj=eC("oldframesets");var il=z.TodoListSettings&&parseInt(z.TodoListSettings.isActive)&&I.evaluateConditionTree(z.TodoListSettings.activateCondition);J=new hT(G,il,y,hB,L,I.getEndUserId(),I.lib_error,eK(),eJ());d3=new h6(aQ,hB,hQ);H=new hN(aQ,hQ,J);hL=new hM(I);J.loadTasks(H.startWatchingTasks);if(a.isAbTestingEnabled()){I.setAnalyticsCustomFields(0,I.getEndUserId());}k=new aY({storageManager:hB,errorHandler:I.lib_error,userGuid:L,owner:window,terminateTutorialFunction:I.releaseBalloons,restoreStateFunc:gh,isFeatureEnabled:eC,allUserGuids:b,topWindow:top,isPlayMode:eJ(),resumeAfterUnloadFunc:gi,getStepFunc:du});return true;}function V(im){D.push(im);var il=E[E.length-1];if((il==undefined)||(il.Id!=im.Id)){E.push(im);}}function eC(il){if(z.Features!="undefined"&&z.Features!=null){return z.Features.indexOf(il)>-1;}return false;}this.getEndUserId=function cY(){var il=null;var ip=I.getSiteConfig();if(!ip){return il;}if(ip.EndUserSettings){var im=ip.EndUserSettings.Method;var io=ip.EndUserSettings.Parameters;switch(im){case"var":if(io.VarName){il=dY(id.Var,io.VarName);}break;case"salesforce":il=dY(id.Var,"walkme_username");break;}}if(!il&&a.isAbTestingEnabled()){il=cm();}return il;};function cm(){var im=null;var il=hO+z.Settings.abTesting.testNumber;im=hB.getData(il);if(im){return im;}im=cn();hB.saveData(il,im,aS);return im;}this.playerCreationComplete=function fy(il){new h8(eZ,3000);if(!il){g2();}};function fo(il){a9("onbeforeunload called",1);if(!eg){bs=true;fV();k.loseOwnership(false,true);if(eC("noUnload")){e0();}}else{eg=false;}}function gi(){bs=false;}function e0(){setTimeout(function(){bs=false;hD();if(n==ho.RUNNING){gg();}},3000);}this.destroyAll=function bl(){hY={};fV();fU();I.releaseAllElements();var il=i.replace("http://","").replace("https://","");mtjQuery("script[src*='"+il+"']").not("script[src*='maketutorial_lib']").not("[src*='jquery']").not("[src*='wmjQuery']").remove();mtjQuery(".mt-to-destroy, .walkme-to-destroy").remove();if(window._walkmePlayer&&window._walkmePlayer.destroyWalkMePlayer){window._walkmePlayer.destroyWalkMePlayer();}};this.removeWalkMe=function ge(){I.destroyAll();for(var im in d2){if(im&&im.indexOf&&(im.indexOf(hR)===0)){fq(d2[im]);}}bJ();window._makeTutorial=undefined;window.MakeTutorialAPI=undefined;window.WalkMeAPI=undefined;var io=i.replace("http://","").replace("https://","");mtjQuery("script[src*='"+io+"']").remove();mtjQuery("script[src*='maketutorial']").remove();mtjQuery("link[id^='mt-css']").remove();mt_cdn_server_name=undefined;mt_get_user_settings_url=undefined;var il=dI();mtjQuery(".walkme-to-remove",il).remove();gc();mtjQuery=undefined;};function bJ(){if(document.createStyleSheet){var im=document.styleSheets;for(var il=0;il<im.length;il++){if(im[il].walkmeToRemove){im[il].cssText="";}}}}function gc(){var im=window;if(I.shouldHandlePageAsFramesets()){var il=I.getBiggestFrame();if(il!=null){im=il.contentWindow;}}mtjQuery(im).unbind("scroll.walkme, resize.walkme");}function bk(im,il){return((typeof(im)!="undefined"&&im!=null)?im:il);}function gf(){p=-1;n=ho.NOT_RUNNING;o=-1;A=[];af._currentPlayGUID="";bR=false;D=[];E=[];C={};v=-1;bs=false;h5=false;}function eZ(){var iq=undefined;if(I.shouldHandlePageAsFramesets()){iq=dI();}var io=mtjQuery("#mt-menu-closed, #walkme-menu-closed",iq);var ip=mtjQuery("#mt-menu-open, #walkme-menu-open",iq);var il=io.parent();var im=il.children().length;if((ip.length>0)){if((im!=ip.index()+1)||(im!=io.index()+2)){io.appendTo(il);ip.appendTo(il);}}else{if(im!=io.index()+1){io.appendTo(il);ip.appendTo(il);}}}function bV(iq,il,im,ip){for(var io=il;io<im;io++){af.auditStep(K[iq].Steps[io],ip,K[iq].Steps.length);}}var dZ=function dZ(){return window.location.href;};var di=function di(){return document.referrer;};function gV(im){if(hY[K[im].TutorialId]){var il=hY[K[im].TutorialId].siteConfig;if(il){z=il;}}}function dl(im){var il;il=dq(K[im].Settings,"SafeStart",false);if(!il||il.enabled=="0"){il=dq(z.Settings,"SafeStart",null);}return il;}this.startNewTutorial=function hl(iy,ip,ix){try{gV(iy);var it=false;ip=bk(ip,0);ix=bk(ix,false);if(n!=ho.WAITING_FOR_OWNERSHIP&&k.enabled()){n=ho.WAITING_FOR_OWNERSHIP;p=iy;o=ip;hD();n=ho.NOT_RUNNING;k.reset();return true;}if(!ix){gf();f7();fD();}var im=(ip==0);if((ip>0)&&(!ix)&&(cr()==0)){it=true;bV(iy,0,ip,ht.SkippedStartedFromBiggerStep);}else{if(ip==0){ip=aE(iy);if((ip>0)&&(!ix)){it=true;bV(iy,0,ip,ht.SkippedByTutorialCondition);}}}var il=[];if(!aD(iy,false)&&(ax(iy,ip,undefined,undefined,il)<0)){if(ix){return false;}var iv=dl(iy);if(iv!=null&&iv.enabled==1){var iw;var iu=false;var iz=iv.url;if(iv.autoRedirect==1){iw=gt.AutoRedirect;iu=true;}else{iw=gt.PopupShown;he(iz,iy);}for(var iq=0;iq<il.length;iq++){af.auditStep(K[iy].Steps[il[iq].stepIndex],il[iq].stepStatus,K[iy].Steps.length,false);gG(iw,K[iy].Id);}if(iu){gu(iz,gt.AutoRedirect,iy);}}else{for(var iq=0;iq<il.length;iq++){var ir=il[iq].stepStatus==ht.SupposedToShow;af.auditStep(K[iy].Steps[il[iq].stepIndex],il[iq].stepStatus,K[iy].Steps.length,ir);}hb(K[iy]);}}else{if(ix){return true;}e8(iy,ip,im,(it?af._currentPlayGUID:undefined));}}catch(io){I.lib_error(io);return false;}return true;};function ie(il){var im={ClickEvent:il};gE("UserStoppedWalkthru",im);fn("UserStoppedTutorial",im);var io=(o==-1);if(!io){af.auditStep(cD(),ht.Exited,cE().Steps.length);}I.stopTutorial(io);gE("UserStoppedWalkthruAfterStop",im);fn("UserStoppedTutorialAfterStop",im);}this.stopTutorial=function hA(im){fX();fU();I.releaseBalloons();n=ho.NOT_RUNNING;o=-1;if(!im){hD();}k.loseOwnership(true);var il=cE();if(il){hL.handleSurveyPlay(il,hK.WalkThruExited);}};function e8(iq,io,il,ip){try{gV(iq);ip=bk(ip,af.generateNewPlayGuid(K[iq].TutorialId));il=bk(il,true);io=bk(io,0);if(io==0){io=aE(iq);}fJ(iq,io,ip,[],[]);if(cr()==0){d3.startWatchingTutorial(K[iq],ip);}if(!il){I.postWelcomeStep(iq);}else{if(!aF(iq)){I.postWelcomeStep(iq);}}}catch(im){_makeTutorial.lib_error(im);}}this.postWelcomeStep=function fI(il){if(o==-1){if(aD(il,true)){return;}}I.executeTutorialNextStep();};var hu=undefined;function ax(iD,io,iA,il,iw){function iq(iF){if(eR(iF)&&(il==1)){if(K[iD].Steps.length>iF.StepIndex){var iE=ax(iD,iF.StepIndex+1,iA,il,iw);if(iE<0){return iE;}else{return iF.StepIndex;}}}else{return iF.StepIndex;}}function ip(iH){var iE=co(iH);if(iE.getGoToData){var iG=iE.getGoToData();var iF=ax(iG.tutorialIndex,iG.stepIndex,iA,il,iw);if(iF<0){return iF;}}return iH.StepIndex;}function ix(iE){hu=undefined;return iE;}var iC=K[iD];var iB=iC.Steps[io];il=bk(il,1);iA=bk(iA,0);if(!hu){hu=[];}if(eb(hu,iB.Id)){return ix(-5);}var iu=de(iB);var iv=true;if(iu!=fx.STICKY_CONDITION){iv=ay(iB);}var im=dq(iB.Settings,"fake",false);var iy=dq(iB.Settings,"skipNotExists",false);var ir=(iy||iB.IsSkippable||!iv||im);if((iv)&&(!im)&&I.findElement(iB)){if(eq(iB)){return ix(ip(iB));}else{if(eQ(iB)){return ix(iq(iB));}else{return ix(io);}}}else{if(iw){iw.push({stepIndex:io,stepStatus:dx(ir,iv)});}var it=io+il;if(!ir){return ix(-1);}else{if(it<0){return ix(-2);}else{if(it==iC.Steps.length){if(A&&(A.length>iA)){var iz=A[A.length-1-iA];return ix(ax(iz.tutorialIndex,iz.stepIndex,iA+1,il,iw));}else{return ix(-2);}}else{return ix(ax(iD,it,iA,il,iw));}}}}}function dx(il,im){if(!il){return ht.SupposedToShow;}else{if(!im){return ht.SkippedByCondition;}else{return ht.SkippedNotFound;}}}function eb(il,im){if(eh(im,il)<0){il.push(im);return false;}else{return true;}}var aF=function aF(iw){var iv=K[iw];e9(iv);if(!iv.IsWelcomeStep){return false;}var iq;var il;var it;var im;if(z.Direction=="rtl"){iq="direction: rtl;";il="text-align: right;";it="text-align: left;";im="float: left;";}else{iq="direction: ltr;";il="text-align: left;";it="text-align: right;";im="float: right;";}var iu=iv.WelcomeStepTitle;var ip=fl(iv.WelcomeStepText);iu=I.parseBBCode(iu);ip=I.parseBBCode(ip);var io=I.FixConfiguration(K[0].Steps[0].Configuration);var ir="<h1 class='walkme-custom-welcome-step-title mt-custom-welcome-step-title CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+io.Font+";color: "+io.HeaderColor+"; font-size: 21px; margin-bottom: 5px; word-wrap: break-word;"+il+iq+"'>"+iu+"</h1>";ir+="<p class='walkme-custom-welcome-step-content mt-custom-welcome-step-content CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+io.Font+";color: "+io.ContentColor+"; font-size: 13px; margin-bottom: 5px; word-wrap: break-word;"+il+iq+"'>"+ip+"</p>";ir+="<div class='walkme-custom-welcome-step-buttons-div mt-custom-welcome-step-buttons-div CUSTOM-TUTORIAL-ID' style='"+it+" '>";ir+=cu("walkme-custom-welcome-step-button walkme-custom-welcome-step-start-button mt-custom-welcome-step-start-button CUSTOM-TUTORIAL-ID",z.WelcomeStepButtonStartText,io,iq);ir+=cu("walkme-custom-welcome-step-button walkme-custom-welcome-step-cancel-button mt-custom-welcome-step-cancel-button CUSTOM-TUTORIAL-ID",z.WelcomeStepButtonCancelText,io,iq);ir+="</div>";fE("welcome-step",ir,400,iv.TutorialId,function(iy){W(iy,iw);});var ix={TutorialId:iv.TutorialId,Id:-1,StepIndex:-1};af.auditStep(ix,ht.Shown,iv.Steps.length);return true;};function W(il,im){mtjQuery(".walkme-custom-welcome-step-start-button",il).click(function(){ic(im);});mtjQuery(".walkme-custom-welcome-step-cancel-button",il).click(function(){ib();});}function ib(){fD();gE("WelcomeStepCancelPressed");fn("WelcomeStepCancelPressed");var il=cE();var im={TutorialId:il.TutorialId,Id:-1,StepIndex:-1};af.auditStep(im,ht.Exited,il.Steps.length);}function ic(im){fD();_makeTutorial.postWelcomeStep(im);gE("WelcomeStepStartPressed");fn("WelcomeStepStartPressed");var il=cE();var io={TutorialId:il.TutorialId,Id:-1,StepIndex:-1};af.auditStep(io,ht.Performed,il.Steps.length);}function ds(im){var il;if(hY[im]){il=hY[im].siteConfig;}else{il=z;}return il;}function hf(ir,it,ip,im){var iq=dh(true);R(iq,l);var il=new I.Balloon({element:iq,forceEmbedBalloonInIframe:false,positionHelper:fH,highlighter:ed,insideouter:en});il.SetContentHTML(ir);il.SetConfiguration(I.getSiteConfig().BalloonSettings);il.SetType(hs.Popup);il.SetSettings(ip);il.SetFixedSize(it,0);il.Show();var io=mtjQuery(il.getBalloonDiv());io.removeClass("walkme-custom-step-0");mtjQuery("*",io).removeClass("walkme-custom-step-0");im(io);}function dk(im){var il=mtjQuery("<div></div>");il.append(im);return il;}function he(iq,ip){var io=I.getSiteConfig();var im=dk(io.SafeStartPopupText);var il={popupStepButtons:[{id:0,name:io.RedirectButtonText,action:5},{id:1,name:io.StayButtonText,action:6}]};hf(im,400,il,function(ir){U(ir,iq,ip);});}function U(il,io,im){mtjQuery(".walkme-action-redirect",il).click(function(){gu(io,gt.RedirectClicked,im);});mtjQuery(".walkme-action-stay",il).click(function(){hp(im);});mtjQuery(".walkme-action-close",il).attr("onclick","").unbind("click");mtjQuery(".walkme-action-close",il).click(function(){hp(im);});}function gG(io,il,im){if(il!=undefined){gH(af._currentPlayGUID,io,il,im);}}function gu(iq,io,ip){var im=K[ip];var il=function(){bt(iq,ip);};fA(il,cg);gG(io,im.Id,il);}function hp(im){var il=K[im].Id;gG(gt.StayClicked,il);aJ();}function bt(im,il){o=0;n=ho.WAITING_FOR_REDIRECT;p=il;hD();fR(im,true);aJ();}function aJ(){I.releaseBalloons();}function gH(iq,it,il,io,ip){try{if(y.length>0){var ir=mtjQuery.ajax({url:y+"/Statistics/UpdatePlaySummeryWithSafeStartInfo?jsoncallback=?",dataType:"json",data:{playGuid:iq,safestartStatus:it,domain:window.location.host,source:cr(),tutorialId:il,timestamp:cG()},timeout:10000});ir.complete(function(iu){if(io){io(iu);}});ir.success(function(iu){});ir.error(function(iu,iv,iw){_makeTutorial.lib_error(iu,"Redirection Error: "+iv);if(ip){ip(iu,iv,iw);}});a9("Sent SafeStart update With Falg "+it+" to server at "+new Date().toString());}}catch(im){_makeTutorial.lib_error(im);}}function hb(iq){var ip=ds(iq.Id);var im=ip.BalloonSettings;var il=dq(iq.Settings,"cantPlayAlert",ip.TutorialCantPlayText);il=I.parseBBCode(il);var io="<h1 class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+im.Font+";color: "+im.HeaderColor+"; font-size: 21px; border: none; margin: 10px; word-wrap: break-word;'>"+il+"</h1>";io+="<div style='float: right'>";io+=cu("walkme-custom-first-step-not-available-ok-button mt-custom-first-step-not-available-ok-button CUSTOM-TUTORIAL-ID","OK",im);io+="</div>";fE("first-step-not-available",io,420,iq.TutorialId,T);}function T(il){mtjQuery(".walkme-custom-first-step-not-available-ok-button",il).click(fD);}var fJ=function(iq,il,im,io,ip){fX();fU();I.releaseBalloons();n=ho.RUNNING;p=iq;o=il-1;af._currentPlayGUID=im;D=io;E=ip;};this.lib_error=function e1(io,ip){try{var iq;var il="N/A";if(arguments.callee.caller){il=arguments.callee.caller.name;}if(io.message){iq="File : "+io.fileName+"\n - Function : "+il+"\n - Line : "+io.lineNumber+"\n - Msg : "+io.message;}else{iq="Function : "+il+"\n - "+ip;}if(bc){alert("Dev mode alert: "+iq);}else{ae(iq,1);}a9("Error: "+iq);}catch(im){}};this.executeTutorialNextStep=function bQ(){if(ck.isLoadingFrames()){fA(I.executeTutorialNextStep,200);return;}if(bR){e9("executeTutorialNextStepNotFinished - skipping this executeTutorialNextStep");return;}if(h5){h5=false;e9("executeTutorialNextStep: waiting for other window");a9("Waiting for other window...");h4();return;}if(bs){e9("executeTutorialNextStep: not executing, dontContinueTutorial=true");return;}if(cE().Steps.length-1==o){I.tutorialFinished();return;}bR=true;fA(function(){o++;if((o>0)&&(!eU(cF(o-1).End,hv.NOTHING))){I.releaseBalloons();}bR=false;I.executeCurrentStep();},c9()*1000);};function h4(){hB.refreshGetData();fA(function(){var il=hB.getData(h3,undefined,cE().userGuid);if(il==1){a9("Other window finished. Resuming walk-thru here.");hB.saveData(h3,0,bi,cE().userGuid);gg();}else{h4();}},500);}this.executeCurrentStep=function bP(){var il=cF(o);bS(il);};var cF=function(il){return cE().Steps[il];};function eU(im,ip){if(typeof(im)=="number"){return(im==ip);}var io=im.split(",");for(var il=0;il<io.length;il++){if((ip+"")==io[il]){return true;}}return false;}function fL(il){if(!et()){A.push({tutorialIndex:p,stepIndex:il!=undefined?il:o+1,playGuid:af._currentPlayGUID,stepPlayHistory:D,stepPlayStack:E});}}var et=function et(){return cE().Steps.length<=(o+1);};var dJ=function dJ(il){var im=dM(il);return K[im];};function dE(im){var io=-1;for(var il=0;il<F.length;il++){if(F[il].Id==im){io=il;break;}}return io;}function dD(il){var im=dE(il);if(im>=0){return F[im];}return null;}var dP=function dP(im){var il=fc(im,function(io){return dJ(io).Steps[0];});return il;};function bH(im){var il=fc(im,function(ip){a9("Check walk-thru: "+ip.TutorialId+" ("+dT(ip.TutorialId)+")");var io=I.findElement(ip);if(io){a9("First step found.");}else{a9("First step not found.");}return{step:ip,element:io};});il=bW(il,function(io){return io.element;});return fc(il,function(io){return io.step;});}function bf(io){try{a9("Multiple branch: Going through all walk-thrus.");var ip=dP(io);var im=bH(ip);if(im.length==1){return im[0].TutorialId;}else{if(im.length>1){e9("can't decide which tutorial to play");a9(im.length+" walk-thrus match. Cannot choose which walk-thru to start.");}else{return null;}}}catch(il){I.lib_error(il);}}var c3=function c3(){if(A&&A.length>0){return A.pop();}else{return null;}};function da(){return db(p,o,0);}function db(im,il,iq){if(K[im].Steps.length>(il+1)){var io=K[im].Steps[il+1];io.TutorialIndex=im;return io;}else{if(A&&(A.length>iq)){var ip=A[A.length-1-iq];return db(ip.tutorialIndex,ip.stepIndex-1,iq+1);}else{return null;}}}function c9(){var il=da();if(il==null){return 0;}else{return il.Delay;}}this.tutorialFinished=function hX(){I.releaseBalloons();n=ho.NOT_RUNNING;hD();gE("WalkthruCompleted");fn("TutorialCompleted");var im=c3();if(im){fJ(im.tutorialIndex,im.stepIndex,im.playGuid,im.stepPlayHistory,im.stepPlayStack);I.executeTutorialNextStep();}else{k.loseOwnership();}var il=cE();J.updateTutorialCompleted(il.TutorialId);hL.handleSurveyPlay(il,hK.WalkThruCompleted);};function hm(){var il=cE();hL.handleSurveyPlay(il,hK.WalkThruInterrupted,I.executeTutorialNextStep);}this.checkRepeatCookie=function aA(il,im){var io={shouldStart:true,repeatCookieExpiry:-1};if(im=="always"){}else{if(hB.getData(il)==1){io.shouldStart=false;}else{if(im=="visit"){io.repeatCookieExpiry=0;}else{if(im=="once"){io.repeatCookieExpiry=60*60*24*365*10;}else{I.lib_error(new Error("checkRepeatCookie bad value: "+im));}}}}return io;};function eQ(il){return(il.Type&&il.Type==hs.Popup);}function eR(il){if(il.Type!=hs.Popup){return false;}return dq(il.Settings,"popup-play-condition",0)==1;}function c5(im){for(var il=0;il<x.length;il++){if(x[il].Id==im){return x[il];}}}this.getLauncherAction=function c4(iq){var im={none:io,playWt:it,openMenu:ir};if(w[iq]!=undefined){return w[iq];}else{var ip=c5(iq);var il=dq(ip.Settings,"action",null);if(!il){a9("No action core. aborting...");return null;}w[iq]=new im[il.actionType](il.arguments,ip);return w[iq];}function ir(iv){var iu=this;this.doAction=function(){try{if(window.WalkMePlayerAPI!=undefined){WalkMePlayerAPI.toggleMenu();}}catch(iw){a9(ci("Failed opening menu. Exception: {0}",hU(iw)));}};}function it(iu){this.isValid=function(){return true;};this.doAction=function(){try{var iy=dw(iu.StepId,iu.wtId);if(iy==-1){throw ci("Step with id: {0} was not found in walkthru with id {1}",iu.StepId,iu.wtId);}else{WalkMeAPI.startWalkthruById({id:parseInt(iu.wtId),fromStep:iy,playInitiator:hr.LAUNCHER});}}catch(iv){var iw="Failed starting walkthru with id {0}, starting from step {1}. Exception is: {2}";var ix=ci(iw,iu.wtId,iu.StepId,hU(iv));a9(ix);}};}function io(iu){this.isValid=function(){return true;};this.doAction=function(){};}};function co(ix){var im={redirect:iv,refresh:iw,branchWt:io,stopWt:iz,playStep:iq,openPlayerMenu:it,waitForCond:iA,delay:ip,passOwnership:iu};if(C[ix.Id]!=undefined){return C[ix.Id];}else{var il=dq(ix.Settings,"action",null);if(!il){a9("No action core. aborting...");return null;}C[ix.Id]=new im[il.actionType](il.arguments,ix);return C[ix.Id];}function ir(iC){a9("Checking condition...");if(iC){try{return I.evaluateConditionTree(iC);}catch(iD){}}return true;}function iv(iC){this.isValid=function(){return true;};this.doAction=function(){hw();if(!fR(iC.redirectUrl,true)){hw();I.executeTutorialNextStep();}};}function io(iC,iD){this.isValid=function(){return iB(iC.wtId);};this.doAction=function(){var iF=iC.wtId;if(iC.returnToWt==1){var iE=dw(iC.StepId,iD.TutorialId);fb([iF],iE,false);}else{fb([iF],iE,true);}};this.getGoToData=function(){var iE=dM(iC.wtId);return{tutorialIndex:iE,stepIndex:0};};}function iz(iC){this.isValid=function(){return true;};this.doAction=function(){hw();I.stopTutorial();};}function iq(iC,iD){this.isValid=function(){return iy(iC.StepId,iD.TutorialId);};this.doAction=function(){var iE=iC.StepId;var iF=dw(iE,iD.TutorialId);hw();if(o<iF){bV(p,o+1,iF,ht.SkippedByActionStep);}o=iF;I.executeCurrentStep();};this.getGoToData=function(){var iE=iC.StepId;var iF=dw(iE,iD.TutorialId);var iG=dM(iD.TutorialId);return{tutorialIndex:iG,stepIndex:iF};};}function it(iC){this.isValid=function(){return window.WalkMePlayerAPI!=undefined;};this.doAction=function(){try{hw();WalkMePlayerAPI.toggleMenu();}catch(iD){}I.executeTutorialNextStep();};}function iA(iC){this.isValid=function(){return true;};this.doAction=function(){n=ho.WAITING_FOR_CONDITION;hD();if(ir(iC.condition)){hw();I.executeTutorialNextStep();}else{fA(function(){I.executeCurrentStep();},500);}};}function ip(iC){this.isValid=function(){return true;};this.doAction=function(){hD();fA(function(){hw();I.executeTutorialNextStep();},iC.duration*1000);return true;};}function iw(){this.isValid=function(){return true;};this.doAction=function(){hw();hD();new ia(function(){location.reload(true);},200);};}function iB(iD){for(var iC=0;iC<K.length;iC++){if(K[iC].TutorialId==iD){return true;}}return false;}function iy(iC,iD){return dw(iC,iD)!=-1;}function iu(iC,iE){this.isValid=function(){return true;};this.doAction=function iD(){if(ir(iC.condition)){hw();I.executeTutorialNextStep();}else{if(!k.enabled()){a9("Reached pass ownership step but the feature is not supported, the next step will not be executed.");I.tutorialFinished();return;}n=ho.PASSING_OWNERSHIP;o++;hD();var iF={stepId:iE.Id,tutorialId:iE.TutorialId};k.switchOwner(iF);}};}}function eN(im){var il=im;if(D.length>1){il=cF(D[D.length-2].Idx);}return(eU(im.End,hv.NOTHING)||eU(il.End,hv.NOTHING));}var bS=function bS(iG){a9("Processing step #"+(iG.StepIndex+1)+". Step title: "+iG.StepTitle);if(n!=ho.WAITING_FOR_STICKY_ELEMENT&&n!=ho.WAITING_FOR_ELEMENT){af.auditStep(iG,ht.SupposedToShow,cE().Steps.length);}var iD=de(iG);var iC=ay(iG);if((!iC)&&((iD==fx.PLAY_CONDITION)||((iD==fx.BOTH)&&(n!=ho.WAITING_FOR_STICKY_ELEMENT)))){a9("Play step condition is false. Skipping step.");af.auditStep(iG,ht.SkippedByCondition,cE().Steps.length);I.executeTutorialNextStep();return;}if(eR(iG)){var iv=ax(p,iG.StepIndex,0,1);if(iv==-1){a9("Keep looking for element after popup.");n=ho.WAITING_FOR_ELEMENT;fA(function(){_makeTutorial.executeCurrentStep();},500);hD();return;}else{if(iv==-2||iv==-5){var iz="Popup play condition isn't met, skipping the popup.";if(iv==-5){iz="Loop detecetd";}a9(iz);af.auditStep(iG,ht.SkippedNotFound,cE().Steps.length);I.executeTutorialNextStep();return;}}}var it=undefined;if((!iC)&&(n==ho.WAITING_FOR_STICKY_ELEMENT)){a9("Sticky PlayCondition isn't met.");it=false;}else{it=I.findElement(iG);}if(!it){a9("Element not found.");if(n==ho.WAITING_FOR_STICKY_ELEMENT){a9("Step was sticky. Keep looking for the element.");n=ho.WAITING_FOR_STICKY_ELEMENT;fA(function(){_makeTutorial.executeCurrentStep();},500);hD();}else{if(!(iG.IsSkippable||dq(iG.Settings,"skipNotExists",false))){a9("Keep looking for the element.");n=ho.WAITING_FOR_ELEMENT;fA(function(){_makeTutorial.executeCurrentStep();},500);hD();}else{if(eq(iG)){a9("Action step isn't valid. Skipping to next step.");af.auditStep(iG,ht.NonValidActionStep,cE().Steps.length);}else{a9("Skippable step. Skip to next step.");af.auditStep(iG,ht.SkippedNotFound,cE().Steps.length);}I.executeTutorialNextStep();}}}else{a9("Element found:");a9(it);gE("BeforeNewStepShown");fn("BeforeNewStepShown");var iE=E[E.length-1]?E[E.length-1].Idx:null;V({Idx:iG.StepIndex,Id:iG.Id});if(dq(iG.Settings,"fake",false)){a9("This is a fake step. Continue to next step.");hD();af.auditStep(iG,ht.FakeFound,cE().Steps.length);I.executeTutorialNextStep();return;}var iu=false;n=ho.RUNNING;if(eq(iG)){fA(function(){co(iG).doAction();},100);return;}R(it,l);var iH=iG.StepTitle;var io=iG.StepText;var ip=cF(o);var iq=1000;var ix=ip.LinkedTutorialIds?true:false;if(ix){var iy=ip.LinkedTutorialIds.split(";");var iI=eW(iy);if(iI){a9("This is a branched step. Branched walk-thru's: "+ip.LinkedTutorialIds);d7(it,["click","mousedown"],iy,iq);}else{I.lib_error(new Error("can't find linked tutorial id "+ip.LinkedTutorialIds));a9("Branch walk-thru id, not found: "+ip.LinkedTutorialIds);ix=false;}}var iA=false;var ir=false;var il=-1;var iB=da();var iw=(iB==null);if(eU(ip.End,hv.NEXT_BUTTON)){n=ho.WAITING_FOR_NEXT_BUTTON_CLICK;if(iw){ir=true;}else{if(iB.IsSkippable||dq(iB.Settings,"skipNotExists",false)||((de(iB)!=fx.STICKY_CONDITION)&&(!ay(iB)))||dq(iB.Settings,"fake",false)){if(ax(iB.TutorialIndex,iB.StepIndex)==-2){ir=true;}else{iA=true;}}else{iA=true;}}}if(eU(ip.End,hv.NOTHING)){if(!iw){iu=true;}}else{if(eU(ip.End,hv.HOVER)){d8(it,iG,["mouseenter"],iw,500);}else{if(eU(ip.End,hv.CLICK)&&!ix){d8(it,iG,["focus","click","mousedown","mouseup"],iw,iq);}else{if(eU(ip.End,hv.KEY_PRESSED)){d8(it,iG,["keydown","paste","change"],iw,2000);}else{if(eU(ip.End,hv.PAGE_CHANGED)){n=ho.WAITING_FOR_PAGE_CHANGE;bs=true;}else{if(eU(ip.End,hv.DURATION)){ip.durationHandler=fA(function(){hw();I.executeTutorialNextStep();},ip.Duration*1000);}}}}}}if((o>0)&&(eU(ip.End,hv.NEXT_BUTTON))&&(!er(iE))){il=ax(p,o-1,0,-1);if(il>=0){var iF=cF(il);if(eU(iF.End,hv.NEXT_BUTTON)){}else{il=-1;}}v=il;}if(dq(iG.Settings,"waitOtherWindow",false)){h5=true;}var im=new I.Balloon({element:it,forceEmbedBalloonInIframe:false,positionHelper:fH,dontShowIoBalloon:eN(iG),highlighter:ed,insideouter:en,isFirstStep:eD()});im.SetText(iH,io,dy());im.SetEnd(iG.End);im.color=iG.Configuration.Color?iG.Configuration.Color:bh;im.SetConfiguration(iG.Configuration);im.SetSettings(iG.Settings);im.SetPosition(iG.Position);im.SetStepId(iG.Id);im.SetTutorialId(iG.TutorialId);im.SetType(iG.Type);if(iA){im.AddNextButton();}if(ir){im.AddDoneButton();}if(il>=0){im.AddBackButton();}im.Show(true,function(){if(!bC(it,"cleanUp")){hD();gE("NewStepShown");fn("NewStepShown");af.auditStep(iG,ht.Shown,cE().Steps.length);im.SetTimeoutOn();if(iu){hw();I.executeTutorialNextStep();}}});}};function eD(){return eu(D)&&D.length<2;}function dy(){var ip=z.StepsInfoText;var io=K[p].Steps;var iq=0;var im=0;for(var il=0;il<io.length;il++){if(eV(io[il])){iq++;if(il<=o){im++;}}}if(eC("floatingsubtext")){ip=ip.replace("{0}",hF+im+hE);ip=ip.replace("{1}",hH+iq+hG);}else{ip=ip.replace("{0}",im);ip=ip.replace("{1}",iq);}return ip;}function eV(il){return !((il.Type==hs.Action)||(parseInt(dq(il.Settings,"isInvisible",0)))||(parseInt(dq(il.Settings,"fake",0))));}function er(im){if(im!=null){var il=cF(im);return eq(il);}return false;}function eq(il){if(il.Type&&il.Type==hs.Action){return true;}return false;}function eW(im){var io=fc(im,dM);var il=eh(-1,io);return((il==undefined)||(il==-1));}function de(il){return dq(il.Settings,fw,fx.PLAY_CONDITION);}function ay(iq){var ip=dq(iq.Settings,"skipStepCond","");if(ip.length>0){try{if(I.evaluateCondition(ip)){return false;}else{return true;}}catch(il){return true;}}var im=dq(iq.Settings,"PSCTEnabled",0);if(im==1){var io=dq(iq.Settings,"PSCT","");if(io!=""){try{return I.evaluateConditionTree(io);}catch(il){return false;}}else{return true;}}else{if(eq(iq)&&dq(iq.Settings,"whenToFire","")=="never"){return false;}else{return true;}}}function gE(ip,io){try{var im={Type:ip,WalkthruId:cE().TutorialId,StepIndex:o};if(io){im.ExtraData=io;}walkme_event(im);}catch(il){}}function fn(ip,io){try{var im={Type:ip,TutorialId:cE().TutorialId,StepIndex:o};if(io){im.ExtraData=io;}mt_event(im);}catch(il){}}function gF(ip,io){try{var im={Type:ip,WalkthruId:cE().TutorialId,StepIndex:o};if(io){wmjQuery.extend(im,io);}walkme_automation_event(im);}catch(il){}}var dM=function dM(im){var io=-1;for(var il=0;il<K.length;il++){if(K[il].TutorialId==im){io=il;break;}}return io;};function du(im,io){var ip=dM(io);if(ip>-1){var il=dv(im,K[ip]);if(il){return il;}}return null;}var dw=function dw(im,io){var il=du(im,io);if(il){return il.StepIndex;}return -1;};var dv=function dv(im,ip){var io=ip.Steps;for(var il=0;il<io.length;il++){if(io[il].Id==im){return io[il];}}return null;};this.resumeSplit=function gj(){try{var ip=1000;var io;var im;if(B.length==1){im=B[0];}else{im=bf(B);}if(!im){a9("Try again in "+ip+"ms.");fA(function(){_makeTutorial.resumeSplit();},ip);}else{io=dM(im);fA(function(){I.setPlayInitiator(hr.BRANCHING);e8(io,0);},ip);hD();}}catch(il){I.lib_error(il);}};function fb(io,il,im){n=ho.WAITING_FOR_SPLIT;if(im!=true){fL(il);}B=io;hD();hw();I.resumeSplit();}var d7=function(il,im,iu,iv){n=ho.WAITING_FOR_ELEMENT_EVENT;for(var ip=0;ip<im.length;ip++){il.unbind(im[ip]+".mt");}var iq=function(){if(h1){h1.clear();}for(var iw=0;iw<im.length;iw++){il.unbind(im[iw]+".mt");}return false;};var io=function(iw){a9("Clicked the branched walk-thru.");iq();fb(iu);};var it=gn(io);var ir=gn(iq);for(var ip=0;ip<im.length;ip++){e2(il,im[ip]+".mt",function(iw){it(iw);});}bD(il,"eventReleaseFunction",function(){return ir();});};var gn=function(il){var im=false;function io(ip,iq){var ir;if(!im){ir=il(ip,iq);im=true;}return ir;}return io;};var d8=function(il,it,im,iq,iu){n=ho.WAITING_FOR_ELEMENT_EVENT;var io=function(iw,iv){if(h1){h1.clear();}I.releaseBalloons();for(var ix=0;ix<im.length;ix++){il.unbind(im[ix]+".mt");if(im[ix]=="click"){if(I.shouldHandlePageAsFramesets()){ck.checkIfAnyFrameIsUnloaded(iu);}if(iw!=null){eg=g6(mtjQuery(iw.target));}}}n=ho.RUNNING;hD();hw(iv==undefined);if(iv!=undefined){o=iv;}if(iq&&(iv==undefined)){_makeTutorial.tutorialFinished();}else{fA(function(){_makeTutorial.executeTutorialNextStep();},iu);}return true;};var ir=gn(io);for(var ip=0;ip<im.length;ip++){e2(il,im[ip]+".mt",function(iv){ir(iv);});}bD(il,"eventReleaseFunction",function(iv){return ir(null,iv);});h0(il);};function g6(im){if(mtjQuery.browser.msie){var il=false;if(im[0].nodeName.toLowerCase()=="a"){il=im;}else{var io=im.parents("a");if(io.length>0){il=mtjQuery(io[0]);}}if(il){if(il.attr("href")){if(il.attr("href").indexOf("javascript:")==0){return true;}}}}return false;}function h0(im){var io=false;try{im[0].tagName;}catch(il){io=true;e9("verifyEventNotRemoved: element destroyed. Garbage collecting");bA();}if(!io){if(im.width()<=0){io=true;}}if(!io){h1=fA(function(){h0(im);},200);}else{a9("The element was removed.");if(dq(cE().Steps[o].Settings,"sticky",0)){e9("Sticky - keep looking for element (verifyEventNotRemoved)");a9("Sticky - keep looking for the element.");I.releaseBalloons();n=ho.WAITING_FOR_STICKY_ELEMENT;I.executeCurrentStep();}else{if(cE().Steps[o].IsSkippable){a9("Skippable - skip to next step.");I.executeTutorialNextStep();}else{e9("verifyEventNotRemoved: Event removed. Pausing tutorial.");a9("Stop walk-thru.");I.releaseBalloons();n=ho.PAUSED;gE("WalkthruStopped");fn("TutorialStopped");}}}}this.showStepForRecorder=function hg(iq,io){var ip=gD(iq);ce(ip,0,z);var im=I.findElement(ip);e9("element:");e9(im);if(!im){return false;}R(im,l);ed.enableMonitor(false);var il=new I.Balloon({element:im,forceEmbedBalloonInIframe:io,positionHelper:fH,highlighter:ed,insideouter:en});il.color=ip.Configuration.Color?ip.Configuration.Color:bh;il.SetConfiguration(ip.Configuration);il.SetSettings(ip.Settings);il.SetText(ip.StepTitle,ip.StepText,"");il.SetPosition(ip.Position);il.SetType(ip.Type);il.SetStepId(ip.Id);il.Show(true,function(){il.SetTimeoutOn();});ed.enableMonitor(true);return true;};this.elementExistsForRecorder=function bE(ip){try{var io=gD(ip);var im=I.findElement(io);if(im){return true;}}catch(il){I.lib_error(il);}return false;};this.showAllLaunchers=function g8(){try{if(ck.isLoadingFrames()){e5(I.showAllLaunchers,200);return;}for(var io=0;io<x.length;io++){var il=x[io];var ip=hc(il);a9(ci("willDrawLauncher={0} for launcher with id {1}",ip,il.Id),1);ea(il,ip);}}catch(im){I.lib_error(im);}};function ea(im,ip){var il=dq(im.Settings,ep,false);if(il){var io=parseInt(dq(im.Settings,hx,null));if(io==hy.soft&&ip){return;}fS(im,io);}}function fS(im,iq){var ip=function(ir){return hc(ir);};var il=function(ir){return wmjQuery(".walkme-launcher-id-"+ir.Id).length>0;};var io=function(ir){return !ir.isDrawingInProgress;};hz.registerSticky({identifier:im.Id,stickinessType:iq,redrawFunction:bL(ip,im),isDrawnFunction:bL(il,im),shouldDrawFunction:bL(io,im)});}function bL(io){var im=function(){var iq=arguments;return function ir(){return io.apply(null,iq);};};var il=hi(arguments,0);var ip=im.apply(null,il);return ip;}function hi(il,io){var ip=[];for(var im=0;im<il.length;im++){if(io!=im){ip.push(il[im]);}}return ip;}function cH(il){var im=[];wmjQuery.each(il,function(io){im.push(io);});return im;}function cJ(il){var im=[];wmjQuery.each(il,function(io){im.push(il[io]);});return im;}function hc(ir,il){ir.isDrawingInProgress=true;var io=dq(ir.Settings,"PlayLauncherConditionTree",null);if(io){var im=true;im=I.evaluateConditionTree(io);if(!im){ir.isDrawingInProgress=false;return false;}}var iq=I.findElement(ir.IdentifySettings);if(!iq){ir.isDrawingInProgress=false;return false;}R(iq,m);var it=ir.Settings.action.actionType!="none";var ip=new bu({element:iq,settings:ir.Settings,lib:I,position:ir.Position,launcherId:ir.Id,positionHelper:fH,addFunctionality:it,cdnServer:i});var iu=function(iv){return function(){iv.show(function(){iv.setTimeoutOn();if(il){il();}ir.isDrawingInProgress=false;});};}(ip);d6(ir,iu);return true;}this.viewLauncherForRecorder=function h2(ir,it,il){try{var iq=gD(ir);var ip=I.findElement(iq.IdentifySettings);if(!ip){il();return;}R(ip,m);var im=new bu({element:ip,settings:iq.Settings,lib:I,position:iq.Position,launcherId:iq.Id,isCapturingMode:false,positionHelper:fH,cdnServer:i});var iu=function(){im.show(function(iv){im.setTimeoutOn();il(false,iv);});};if(it){d6(iq,iu);}else{iu();}}catch(io){I.lib_error(io);}};function d6(io,ip){var im=dq(io.Settings,"hasDelay",false);if(im){var il=dq(io.Settings,"delayInSeconds",0);e5(ip,il*1000);}else{ip();}}this.showCapturedLauncherForRecorder=function ha(iq){try{var ip=gD(iq);var ir={score:-1};var io=I.findElement(ip.IdentifySettings,null,ir);if(!io){return false;}R(io,m);var il=new bu({element:io,settings:ip.Settings,html:ip.html,lib:I,position:ip.Position,launcherId:ip.Id,isCapturingMode:true,positionHelper:fH,cdnServer:i});ed.enableMonitor(false);il.show(function(){ed.enableMonitor(true);il.setTimeoutOn(100);var it=I.shouldHandlePageAsFramesets()?cL(io):document;window.top.document.CaptureLauncherHandler.postShowLauncher(io,it,ir.score);});}catch(im){I.lib_error(im);}};this.showCaptureBallonForRecorder=function g9(ir,it,io,iq){ce(ir,0,z);var ip={score:-1};var im=I.findElement(ir,null,ip);e9("element:");e9(im);if(!im){return false;}R(im,l);ed.enableMonitor(false);var il=new I.Balloon({element:im,forceEmbedBalloonInIframe:false,positionHelper:fH,highlighter:ed,insideouter:en});il.SetFixedSize(it,io);il.SetHTML(ir.StepText);il.SetPosition(ir.Position);il.CaptureBallon(true);il.color=ir.Configuration.Color?ir.Configuration.Color:bh;il.SetConfiguration(ir.Configuration);il.SetSettings(ir.Settings);il.SetStepId(ir.Id);il.Show(true,function(){ed.enableMonitor(true);window.top.document.CaptureBalloonHandler.postBallonShow(im,document,ip.score,iq);});return true;};var R=function R(im,io){var il=new Array();il.element=im;io.push(il);bD(im,"cleanUp",false);};function cE(){return K[p];}function hD(){var il=undefined;var ip=undefined;var ir=undefined;var im=cE();var io=im?im.TutorialId:-1;var it=im?im.userGuid:L;if((n==ho.RUNNING)||(n==ho.WAITING_FOR_PAGE_CHANGE)){il=o+1;if(im.Steps.length<=(o+1)){ip=1;}}else{if(n==ho.WAITING_FOR_SPLIT){ir=B;}else{il=o;}}var iq=cC(io,il,ip,ir);hB.saveData(fv,iq,bi,it);}function cC(im,il,io,iq){var ip={};ip[a6]=im;ip[a4]=n;ip[a5]=il;ip[a3]=af._currentPlayGUID;ip[hj]=A;ip[hW]=io;ip[hq]=D;ip[hk]=iq;return ip;}function f7(){for(var im=0;im<b.length;im++){var il=b[im];hB.removeData(fv,il);}}function gg(){for(var io=0;io<b.length;io++){var il=b[io];var im=gh(il);if(im){return il;}}return false;}function gh(iv){try{var iu=hB.getData(fv,{},iv);var ip=iu[a6];var il=iu[a4];var im=iu[a5];var iq=iu[a3];A=bk(iu[hj],[]);var it=bk(iu[hW],0);D=bk(iu[hq],[]);ip=eP(ip)?parseInt(ip):-1;p=dM(ip);n=eP(il)?parseInt(il):-1;o=eP(im)?parseInt(im):-1;if(iq){af._currentPlayGUID=iq;}var io=(p>-1&&o>-1&&cE()&&cE().Steps[o]);if(n==ho.WAITING_FOR_PAGE_CHANGE&&io){o--;hw(true);o++;}e9("isTutorialFinished: "+it);if((it==1)&&((n==ho.RUNNING)||(n==ho.WAITING_FOR_PAGE_CHANGE)||(n==ho.PASSING_OWNERSHIP))){I.tutorialFinished();}else{e9("Continue from cookie: currentTutorial: "+p+" -- currentState: "+n+" -- currentStep: "+o+" -- currentPlayGUID: "+af._currentPlayGUID+" -- currentUserGUID: "+iv);if(io&&((n==ho.RUNNING)||(n==ho.WAITING_FOR_ELEMENT)||(n==ho.WAITING_FOR_STICKY_ELEMENT)||(n==ho.WAITING_FOR_PAGE_CHANGE)||(n==ho.WAITING_FOR_CONDITION)||(n==ho.PASSING_OWNERSHIP))){fA(function(){_makeTutorial.executeCurrentStep();},cE().Steps[o].Delay*1000);}else{if(io&&(n==ho.WAITING_FOR_REDIRECT)){e8(p,0,false,af._currentPlayGUID);}else{if(io&&(n==ho.WAITING_FOR_OWNERSHIP)){_makeTutorial.startNewTutorial(p,0,false);}else{if(io&&((n==ho.WAITING_FOR_ELEMENT_EVENT)||(n==ho.WAITING_FOR_NEXT_BUTTON_CLICK))){if(dq(cE().Steps[o].Settings,"sticky",0)){e9("Sticky - keep looking for element");n=ho.WAITING_FOR_STICKY_ELEMENT;fA(function(){_makeTutorial.executeCurrentStep();},cE().Steps[o].Delay*1000);}else{if(cE().Steps[o].IsSkippable){if(cE().Steps.length==(o+1)){I.tutorialFinished();}else{o++;n=ho.RUNNING;fA(function(){_makeTutorial.executeCurrentStep();},cE().Steps[o].Delay*1000);}}else{n=ho.PAUSED;}}}else{if(n==ho.WAITING_FOR_SPLIT){B=bk(iu[hk],[]);I.resumeSplit();}else{gf();e9("Invalid cookie data. Not running tutorial. (userGuid : "+iv+")");return false;}}}}}}return true;}catch(ir){I.lib_error(ir);return false;}}function dK(ip,il){var io=Array();if(!ip.Conditions){return io;}for(var im=0;im<ip.Conditions.length;im++){if(ip.Conditions[im].GroupType==il){if((ip.Conditions[im].IsEnabled==undefined)||(ip.Conditions[im].IsEnabled==true)){io.push(ip.Conditions[im]);}}}return io;}function dL(io,ip){var im=Array();if(!io.Conditions){return im;}for(var il=0;il<io.Conditions.length;il++){if(io.Conditions[il].Type==ip){if((io.Conditions[il].IsEnabled==undefined)||(io.Conditions[il].IsEnabled==true)){im.push(io.Conditions[il]);}}}return im;}function eE(il){if(dL(il,aP.FIRST_STEP_MUST_EXIST).length>0){return true;}else{return false;}}this.canShowTutorialForEditor=function ap(im){var il=gD(im);return I.canShowTutorial(il);};this.canShowTutorial=function ao(it){if(it.IsVisible==false){return false;}var im=dL(it,aP.URL);var il=false;for(var ir=0;ir<im.length;ir++){if(aw(it,im[ir])){il=true;break;}}if((im.length>0)&&!il){return false;}var ip=dq(it.Settings,"DOCTEnabled",0);if(ip==1){var io=dq(it.Settings,"DOCT","");if(io!=""){try{if(!I.evaluateConditionTree(io)){return false;}}catch(iq){}}}if(eE(it)){if(it.Steps.length==0){return false;}else{return I.findElement(it.Steps[0]);}}return true;};this.evaluateCondition=function bN(im){var il=new aL();im=im.replace(/&quot;/gi,'"');im=im.replace(/&apos;/gi,"'");im=im.replace(/&#39;/gi,"'");im=im.replace(/&amp;/gi,"&");il.setExpression(im);return il.evaluate();};this.evaluateConditionTree=function bO(il){var im=aQ.evaluate(il);return im;};var aw=function(im,il){switch(il.Type){case aP.URL:if(eL(il.Content)){return true;}else{return false;}break;default:I.lib_error(new Error("Invalid condition type: "+il.Type));}};this.runTutorialsActionConditions=function gr(){};function gp(){for(var il=0;il<K.length;il++){if(gq(il)){return;}}}function gq(iu){var it=K[iu];var im=dq(it.Settings,"ASEnabled",0);if(im){var il=dq(it.Settings,"ASCTEnabled",0);if(il==1){var io=dq(it.Settings,"ASCT","");if(io!=""){try{if(I.evaluateConditionTree(io)){return d5(iu);}else{return false;}}catch(iq){}}}else{return d5(iu);}}var ip=dK(it,aN.Action);for(var ir=0;ir<ip.length;ir++){if(gm(iu,it,ip[ir])){return true;}else{}}return false;}function cs(il){return"wm-ASRep-"+il.TutorialId;}function d5(iu){var it=K[iu];var io=cs(it);var il=dq(it.Settings,"ASRep","visit");var im=I.checkRepeatCookie(io,il);if(!im.shouldStart){return false;}var ip=aE(iu);var iq=aD(iu,false);var iv=K[iu].IsWelcomeStep;var ir=ax(iu,ip)>=ip;if(!(n==ho.RUNNING&&o==ip)&&((iq&&iv)||(ir&&!iq))&&((n==ho.PAUSED||n==ho.NOT_RUNNING||ax(p,o)<0))){if(im.repeatCookieExpiry>=0){hB.saveData(io,1,im.repeatCookieExpiry);}I.setPlayInitiator(hr.AUTOSTART);e8(iu);return true;}return false;}function gm(io,im,il){switch(il.Type){case aP.AUTO_START:if(eL(il.Content)){return d5(io);}break;}return false;}var eL=function(ir){var iq="regexp:";var io="js:";var ip;var il;if(hn(ir,io)){ir=ir.substr(io.length);ir=mtjQuery("<div/>").html(ir).text();il=dZ();try{return _makeTutorialEv.Ev("var url ='"+il+"';"+ir);}catch(im){return false;}}else{if(hn(ir,iq)){ir=ir.substr(iq.length);il=dZ();try{ip=il.match(ir);}catch(im){return false;}}else{ir=ir.replace(new RegExp("[*]","g"),".*");ir=ir.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&");il=gd(dZ());ir=gd(ir);il=il.toLowerCase();ir=ir.toLowerCase();try{ip=il.match(ir);}catch(im){return false;}}}if(ip==null){return false;}if(ip[0]==il){return true;}else{return false;}};var fu=function(il){if(il.length==0){return il;}if(il.charAt(0)=="/"){return window.location.protocol+"//"+window.location.hostname+((window.location.port)?":"+window.location.port:"")+il;}else{return il;}};var gd=function(il){il=il.replace("http://","");il=il.replace("https://","");il=il.replace("www.","");if(il.charAt(il.length-1)=="/"){il=il.substr(0,il.length-1);}return il;};function aE(it){var ir=K[it];var im=dL(ir,aP.SKIP_FIRST_STEP);for(var iq=0;iq<im.length;iq++){var il=im[iq];if(eL(il.Content)){var io=il.ExtraData;var ip=io?(io-1):1;a9("The walk-thru has a skip step condition ("+il.Content+") which is true. Skipping to: "+ip);return ip;}}return 0;}function aD(ip,im){var io=K[ip];var il=dL(io,aP.REDIRECT);if(il.length==0){return false;}return az(il[0],im);}function az(il,im){return fR(il.Content,im);}function fR(iq,im){if(iq&&iq.indexOf("http")!=0&&iq.indexOf("/")!=0){return false;}iq=bg(iq,["&"]);var il=gd(window.location.href);var ip=fu(iq);var io=gd(ip);if(il==io){return false;}else{if(im){hd(ip);}return true;}}this.checkShowOnlyInUrl=function aC(){var im=true;var il=dq(z.Settings,bq,null);if(il){im=I.evaluateConditionTree(il);}else{if((z.ShowInUrl!=null)&&(z.ShowInUrl.length!=0)){im=(eL(z.ShowInUrl));}}if(!im){a9("Display on URL condition failed. Not showing player.");}return im;};function hw(io){io=bk(io,true);var iq=cD();if(io){af.auditStep(iq,ht.Performed,cE().Steps.length);var ip=dq(iq.Settings,"postStepUserFunc",false);if(ip){try{ip=ip.replace(/&quot;/gi,'"');ip=ip.replace(/&apos;/gi,"'");ip=ip.replace(/&#39;/gi,"'");ip=ip.replace(/&amp;/gi,"&");var im=mtjQuery.parseJSON(ip);a9("Invoking user function: "+ip);eo(im);}catch(il){a9("Error invoking user function:");a9(il);}}aB(iq);}else{af.auditStep(iq,ht.MovedBack,cE().Steps.length);}}function aB(im){var il=dq(im.Settings,"resumeOtherWindow",false);if(il){hB.saveData(h3,1,bi,cE().userGuid);}}function cd(im,il){if((im[il]=="")||(im[il]=="transparent")){if(wmjQuery.browser.msie){im[il]="#00000000";}else{im[il]="transparent";}}}function cu(ip,io,iq,ir){iq=I.FixConfiguration(iq);iq.ButtonBorderColor=iq.ButtonBorderColor?iq.ButtonBorderColor:"#6c84a6";var il;if(z.Direction=="rtl"){il="right";}else{il="left";}cd(iq,"ButtonBgColor");cd(iq,"ButtonBgColor2");var im="CSS-RESET "+((iq.ButtonBgColor==iq.ButtonBgColor2)?"background-color:"+iq.ButtonBgColor+";":"background:-moz-linear-gradient(top, "+iq.ButtonBgColor+", "+iq.ButtonBgColor2+");background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+iq.ButtonBgColor+"), color-stop(100%,"+iq.ButtonBgColor2+"));background:-webkit-linear-gradient(top, "+iq.ButtonBgColor+" 0%,"+iq.ButtonBgColor2+" 100%);background:-o-linear-gradient(top, "+iq.ButtonBgColor+" 0%,"+iq.ButtonBgColor2+" 100%);background:-ms-linear-gradient(top, "+iq.ButtonBgColor+" 0%,"+iq.ButtonBgColor2+" 100%);background:linear-gradient(to bottom, "+iq.ButtonBgColor+" 0%,"+iq.ButtonBgColor2+' 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="'+iq.ButtonBgColor+'", endColorstr="'+iq.ButtonBgColor2+'",GradientType=0 );')+"border: 1px solid "+iq.ButtonBorderColor+";color:"+iq.ButtonTextColor+"; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal;font-family: Arial; margin-"+il+": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static;overflow: visible;-moz-box-shadow: 0 0 "+iq.ButtonShadowWidth+"px rgba(0, 0, 0, 0.4);-webkit-box-shadow: 0 0 "+iq.ButtonShadowWidth+"px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "+iq.ButtonShadowWidth+"px rgba(0, 0, 0, 0.4); -moz-border-radius:"+iq.BalloonButtonRadius+"px;-webkit-border-radius:"+iq.BalloonButtonRadius+"px;border-radius:"+iq.BalloonButtonRadius+"px;";if((iq.ButtonBgColor!=iq.ButtonBgColor2)&&(wmjQuery.browser.msie)){im+="border-radius: 0px;";}im=im.replace(/CSS-RESET/g,a0);im+=(ir?ir:"");return"<button class='"+ip+"' type='button' style='"+im+"'>"+io+"</button>";}this.createNewBalloon=function aX(){return new I.Balloon({positionHelper:fH});};this.FixConfiguration=function cc(il){il.BalloonColor2=(il.BalloonColor2!=undefined)?il.BalloonColor2:il.Color;il.ButtonBgColor2=(il.ButtonBgColor2!=undefined)?il.ButtonBgColor2:il.ButtonBgColor;il.BalloonBorderWidth=(il.BalloonBorderWidth!=undefined)?parseInt(il.BalloonBorderWidth):1;il.BalloonButtonRadius=(il.BalloonButtonRadius!=undefined)?parseInt(il.BalloonButtonRadius):15;il.ButtonShadowWidth=(il.ButtonShadowWidth!=undefined)?parseInt(il.ButtonShadowWidth):0;il.BalloonRadius=(il.BalloonRadius!=undefined)?parseInt(il.BalloonRadius):15;il.FooterTextColor=(il.FooterTextColor!=undefined)?il.FooterTextColor:il.HeaderColor;return il;};function d9(il){if(il.Type==hs.Popup&&il.LinkedTutorialIds&&eW(il.LinkedTutorialIds.split(";"))){fb(il.LinkedTutorialIds.split(";"));return true;}else{return false;}}function Q(il){mtjQuery(".walkme-action-close, .walkme-action-cancel",il).click(function(im){ie(im);});mtjQuery(".walkme-action-next, .walkme-action-start",il).click(function(im){fk();});mtjQuery(".walkme-action-back",il).click(function(im){ah();});mtjQuery(".walkme-action-done",il).click(function(im){br();});mtjQuery(".walkme-custom-bbcode-survey",il).click(function(im){hm();});mtjQuery(".walkme-action-start-wt",il).each(function(im){mtjQuery(this).click(function(io){var ip=parseInt(mtjQuery(this).attr("data-walkthru-id"));WalkMeAPI.startWalkthruById({id:ip,fromStep:0,playInitiator:hr.BBCODE});});});}function ah(){gE("BackButtonClicked");fn("BackButtonClicked");var il=cF(o);if(il.durationHandler){il.durationHandler.clear();il.durationHandler=null;}E.pop();var im=an(v-1);if(!im){n=ho.RUNNING;I.releaseBalloons();hw(false);o=v-1;I.executeTutorialNextStep();}}function fk(){gE("NextButtonClicked");fn("NextButtonClicked");var il=cF(o);if(il.durationHandler){il.durationHandler.clear();il.durationHandler=null;}var im=an();if(!im){n=ho.RUNNING;I.releaseBalloons();if(!d9(il)){hw();I.executeTutorialNextStep();}}}function br(){gE("DoneButtonClicked");fn("DoneButtonClicked");var il=cF(o);if(il.durationHandler){il.durationHandler.clear();il.durationHandler=null;}if(!d9(il)){var im=an();if(!im){hw();I.tutorialFinished();}}}function an(ip){var im=Array();for(var io=0;io<l.length;io++){var il=bC(l[io].element,"eventReleaseFunction");if(il){im.push(il);}}if(im.length==0){return false;}var iq=false;for(var io=0;io<im.length;io++){if(im[io](ip)){iq=true;}}return iq;}function dS(){try{return K[0].UserId;}catch(il){return -1;}}function dB(il,io){try{if(io.getComputedStyle){return io.getComputedStyle(il,null);}else{return il.currentStyle;}}catch(im){return null;}}function am(im,ir){var il=im;var iq=dB(im,ir);while(iq&&iq.position=="static"){il=il.parentNode;iq=dB(il,ir);}var io=I.getBodyInheritedMargin();var ip={top:io.top,left:io.left};if(iq){ip.top+=parseInt(iq.marginTop.replace("px",""));ip.left+=parseInt(iq.marginLeft.replace("px",""));ip.top+=parseInt(iq.borderTopWidth.replace("px",""));ip.left+=parseInt(iq.borderLeftWidth.replace("px",""));il=il.parentNode;iq=dB(il,ir);while(iq){ip.top+=parseInt(iq.marginTop.replace("px",""));ip.left+=parseInt(iq.marginLeft.replace("px",""));ip.top+=parseInt(iq.paddingTop.replace("px",""));ip.left+=parseInt(iq.paddingLeft.replace("px",""));ip.top+=parseInt(iq.borderTopWidth.replace("px",""));ip.left+=parseInt(iq.borderLeftWidth.replace("px",""));il=il.parentNode;var iq=dB(il,ir);}}return ip;}var dc=function(ip,im,iv){try{var il=im.body;var iq=im.documentElement;var iu=il.scrollTop||iq.scrollTop;var ir=il.scrollLeft||iq.scrollLeft;var it=am(il,iv);iu-=it.top;ir-=it.left;return{top:Math.round(iu),left:Math.round(ir)};}catch(io){I.lib_error(io);}};this.getBodyInheritedMargin=function cw(){var io={top:0,left:0};var im=false;var il=mtjQuery("body").find("div").filter(function(){if(im){return false;}var ip=mtjQuery(this);if(ip.css("position")!="relative"){return false;}var iu=null;var iv=null;var it=parseInt(ip.css("margin-top"));var iw=(it!=0)&&(parseInt((iv=ip.position()).top)==(-1)*parseInt((iu=ip.offset()).top));var iq=false;if(!iw){var ir=parseInt(ip.css("margin-left"));iq=(ir!=0)&&(parseInt(iv!=null?iv.left:ip.position().left)==(-1)*parseInt(iu!=null?iu.left:ip.offset().left));}im=(iw||iq)&&X(ip);return im;}).eq(0);if(il.length>0){io={top:parseInt(il.css("margin-top")),left:parseInt(il.css("margin-left"))};}return io;};function X(il){var im=true;il.parentsUntil("html").each(function(io,ip){if(mtjQuery(ip).css("position")!="relative"){im=false;}});return im;}var S=function(io,ip){var il=parseInt(dq(ip,"leftOffset",0));var im=parseInt(dq(ip,"topOffset",0));io.top=io.top+im;io.left=io.left+il;io.right=io.right+il;io.bottom=io.bottom+im;return io;};function gW(it,ip,io){it.css("border",""+ip.BalloonBorderWidth+"px solid "+ip.BorderColor);cd(ip,"Color");cd(ip,"BalloonColor2");var il=(ip.BalloonColor2!=undefined)?ip.BalloonColor2:ip.Color;var im=(ip.BalloonRadius!=undefined)?ip.BalloonRadius:15;var iu=""+im+"px";it.css("-moz-border-radius",iu);it.css("-webkit-border-radius",iu);it.css("border-radius",iu);if(ip.Color==il){it.css("background",ip.Color);}else{it.css("background","-moz-linear-gradient(top, "+ip.Color+", "+il+")");it.css("background","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+ip.Color+"), color-stop(100%,"+il+"))");it.css("background","-webkit-linear-gradient(top, "+ip.Color+" 0%,"+il+" 100%)");it.css("background","-o-linear-gradient(top, "+ip.Color+" 0%,"+il+" 100%)");it.css("background","-ms-linear-gradient(top, "+ip.Color+" 0%,"+il+" 100%)");it.css("background","linear-gradient(to bottom, "+ip.Color+" 0%,"+il+" 100%)");it.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='"+ip.Color+"', endColorstr='"+il+"',GradientType=0 )");if(it.css("background-image").indexOf("gradient")==-1){it.css("background-image","url('"+i+"/player/resources/images/spacer.gif')");it.css("background-repeat","repeat");}if(!eH()){it.css("border-radius","0px");}}if(!io){var iq="0px 0px";switch(parseInt(ip.Position)){case fG.Top:iq="-3px -3px";break;case fG.Right:iq="4px -4px";break;case fG.Bottom:iq="4px 4px";break;case fG.Left:iq="-4px 4px";break;}var ir=" 3px rgba(0, 0, 0, 0.2)";it.css("-moz-box-shadow",iq+ir);it.css("-webkit-box-shadow",iq+ir);it.css("box-shadow",iq+ir);}}var dp=function(il){var io=il.body.scrollTop?il.body.scrollTop:il.documentElement.scrollTop;var im=il.body.scrollLeft?il.body.scrollLeft:il.documentElement.scrollLeft;return{Top:io,Left:im};};this.decideWhereToPopForCaptureBalloon=function be(ir,il){try{var ip=ir[0];var iw=ip.getBoundingClientRect();var io=cL(ir);var ix=dc(ip,io,window);var im={width:250,height:115};var iz=mtjQuery(document);iz.height=iz.height();iz.width=iz.width();iz.top=0;iz.left=0;var iu=iz;var it=cK(iw,ix);var iv=ac+1;var iy=bd(it,im,il,iv,iu,true);return iy;}catch(iq){I.lib_error(iq);}};function bd(ip,il,im,iE,io,iB){var iq=ip.left+ip.width/2;var ir=ip.top+ip.height/2;var it=ip.bottom+il.height+iE<io.height+io.top;var iw=ip.left-il.width-iE>io.left;var iz=ip.right+il.width+iE<io.width+io.left;var iA=ip.top-il.height-iE>io.top;var iu=iq-(il.width/2)>io.left;var iv=iq+(il.width/2)<io.width+io.left;var iy=ir-(il.height/2)>io.top;var ix=ir+(il.height/2)<io.height+io.top;var iG;var iF;if(im==fG.Top||im==fG.Bottom){var iH;var iC;if(iu&&iv){iC=iq-il.width/2;iF=fF.Center;}else{if(!iu){iC=ip.left;iF=fF.Start;}else{if(!iv){var iD=(io.width+io.left)-ip.right;iC=(ip.right-il.width)+iD-1;iF=fF.End;}}}if(im==fG.Top){iH=ip.top-il.height-iE;iG=fG.Top;}else{iH=ip.bottom+iE;iG=fG.Bottom;}if(iB){if((iA&&im==fG.Top)||(im==fG.Bottom&&!it)){iH=ip.top-il.height-iE;iG=fG.Top;}else{iH=ip.bottom+iE;iG=fG.Bottom;}}return{top:iH,left:iC,positionType:iG,positionOffset:iF};}else{if(im==fG.Right||im==fG.Left){var iH;var iC;if(ix&&iy){iH=ir-il.height/2;iF=fF.Center;}else{if(!ix){iH=ip.top-11;iF=fF.End;}else{if(!iy){iH=ip.top-11;iF=fF.Start;}}}if(im==fG.Left){iC=ip.left-il.width-iE;iG=fG.Left;}else{iC=ip.right+iE;iG=fG.Right;}if(iB){if((iw&&im==fG.Left)||(im==fG.Right&&!iz)){iC=ip.left-il.width-iE;iG=fG.Left;}else{iC=ip.right+iE;iG=fG.Right;}}return{top:iH,left:iC,positionType:iG,positionOffset:iF};}}}var cL=function(ip){var im=document;try{if(ip.data("iframe")){im=ip.data("iframe")[0];var il=im.contentWindow?im.contentWindow.document:null;im=im.contentDocument||il;}}catch(io){}return im;};function P(iq,im,ip,ir,it,io){var il=mtjQuery(im[0].ownerDocument.createElement("div"));il.addClass("walkme-custom-balloon-outer-div");il.addClass("mt-custom-balloon-outer-div");il.addClass("walkme-custom-walkthru-"+it);il.css("display","none");il.css("direction","ltr");gW(il,ip,io);mtjQuery(im.append(il));il.html(iq);return il;}var O=function(im,ip,io){var il=mtjQuery(im[0].ownerDocument.createElement("div"));il.css("display","none");mtjQuery(im.append(il));return il;};function cK(iq,ip){var io=iq.left+ip.left;var it=iq.top+ip.top;var iu=iq.right-iq.left;var im=iq.bottom-iq.top;var ir=iq.right+ip.left;var il=iq.bottom+ip.top;return{top:it,left:io,width:iu,height:im,right:ir,bottom:il};}var fm=function fm(im,io){var il=0.5;if(im==fF.Start){il=1;}else{if(im==fF.End){il=0;}}if(io==2||io==3){il=1-il;}return il;};function bv(io,ip,iq,ir,iw,it){var il=new a1(iw,it);il.color=ir;var iv=io.top;var iu=io.left;if(ip.positionType==fG.Bottom){}if(ip.positionType==fG.Right){}il.point_direction=ip.positionType;il.angle=fm(ip.positionOffset,il.point_direction);var im=il.Generate(iq[0].ownerDocument);im.css("top",iv+"px");im.css("left",iu+"px");im.css("display","none");mtjQuery(iq.append(im));return im;}var gZ=function(il,im){il.css("position","absolute");il.css("z-index",im);il.addClass("SkipThisFixedPosition");};var gM=function(il,im){il.css("background-color","red");gZ(il,im);il.css("display","inline");};function bo(io){var im=bC(io,"launcherDivs");if(im){for(var ip=0;ip<im.length;ip++){var il=im[ip];if(il){bn(il);}}}ed.unhighlightElement(io,"launcher");}function bm(iq,it){var ir=bk(bC(iq,"isCapture"),false);var ip=new Z();var iv=I.getSiteConfig();var il=!ir&&!it&&eu(iv.BalloonSettings)&&eu(iv.BalloonSettings.Animation)&&iv.BalloonSettings.Animation.Id!=Y;ip.disableAnimation();var io=bC(iq,"balloonDiv");var im=ct(iq);var iu=mtjQuery("#walkme-popup-background");ed.unhighlightElement(iq,"balloon");en.unhighlightElement(iq,"balloon");ip.destroy(io,im,iu,bn);}function ct(ip){var im=mtjQuery([]);var il=["arrowDiv","arrowDiv2"];for(var iq=0;iq<il.length;iq++){var io=bC(ip,il[iq]);if(io&&io.length>0){im=im.add(io);}}return im;}function fZ(il){fY(il,bm);}function f0(il){fY(il,bo);}function fY(io,il){try{var ip=bC(io,"elementDisplayTimeout");if(ip){ip.clear();}bD(io,"elementDisplayTimeout",null);bD(io,"eventReleaseFunction",null);il(io);bD(io,"cleanUp",true);}catch(im){e9("releaseElement failed: "+im);bA();}}function bn(il){var im=mtjQuery("iframe",il);if(im.length==0){il.remove();}else{im.attr("src","");new ia(function(){im.hide();im.remove();il.remove();},1);}}var cW=function(il){var im=il.offset().top;if(il.data("iframe")){return im+cW(il.data("iframe"));}else{return im;}};var ey=function ey(iu,it,iq,ir,ip,io,il,im){return(iq<=il&&(iu>=ip)&&(ir>=im)&&(it<=io));};var cN=function cN(il,io){var im=il.data("iframe");if(!io){io=[];}if(im){io.push(im);cN(im,io);}return io;};function bF(il){var im=cN(il);var iq={top:0,left:0};for(var io=0;io<im.length;io++){var ip=im[io].offset();iq.top+=ip.top;iq.top-=im[io][0].contentWindow.document.body.scrollTop||im[io][0].contentWindow.document.documentElement.scrollTop;iq.left+=ip.left;iq.left-=im[io][0].contentWindow.document.body.scrollLeft||im[io][0].contentWindow.document.documentElement.scrollLeft;}return iq;}function ez(il){var io=bF(il);io.top+=il.offset().top;io.left+=il.offset().left;var ip=cU(mtjQuery(window));var iu=(ip.top()-0);var ir=(ip.left()-0);var iq=(ip.height()-0)+(ip.top()-0);var it=(ip.width()-0)+(ip.left()-0);var im=ey(io.top,io.left+il.width(),io.top+il.height(),io.left,iu,it,iq,ir);return im;}var cU=function(im){var io;if(im.data("iframe")){io=mtjQuery(im.data("iframe"));}else{io=mtjQuery(window);}var il=cL(im);io.left=function(){return dp(il).Left;};io.top=function(){return dp(il).Top;};return io;};var ik=function(im){var il=new Array();mtjQuery.each(im.split("/"),function(io,it){if(io==0){}else{var iq=it.indexOf("[");var ir=it.substring(0,iq);var ip=it.substring(iq+1,it.length-1);il[io-1]=new Array(2);il[io-1]["tag"]=ir;il[io-1]["index"]=ip;}});return il;};var bZ=function(im){var il=false;mtjQuery.each(im,function(io,ip){if(io==0){il=mtjQuery(document).children(ip.tag).eq(ip.index-1);}else{il=mtjQuery(il).children(ip.tag).eq(ip.index-1);}if((ip.tag=="iframe")||(ip.tag=="frame")){if(im.length>io+1){il=c1(il);}else{}}if((il.length==0)||(!il.get(0))){il=false;return;}});return il;};function cM(ip){if(ip.length==1){return null;}for(var il=ip.length-2;il>=0;il--){if((ip[il]["tag"]=="iframe")||(ip[il]["tag"]=="frame")){break;}}if(il<=0){return null;}var io=ip.slice(0,il+1);var im=bZ(io);if(!mtjQuery(im).is(":mt_visible")){im=false;}if(im){return im;}else{return b0(ip,null);}}function b0(it,io){for(var ip=0;ip<=it.length-1;ip++){if((it[ip]["tag"]=="iframe")||(it[ip]["tag"]=="frame")){break;}}if(ip>=it.length-1){return io;}var iq=it.slice(0,ip+1);var il=it.slice(ip+1);var im;if(io){im=mtjQuery("iframe,frame",c1(io));}else{im=mtjQuery("iframe,frame");}im=im.filter(":mt_visible");if(im.length==0){return false;}var ir=fh(im,function(iv){var iu=al(iv);return ij(d1(new ii(),iu,iu.length-1,iq,iq.length-1));});return b0(il,mtjQuery(ir));}var cV=function(io){if(io.length==1){return null;}for(var im=io.length-2;im>=0;im--){if((io[im]["tag"]=="iframe")||(io[im]["tag"]=="frame")){break;}}if(im<=0){return io;}var il=io.slice(im+1);return il;};var ih=function ih(io){var im="";for(var il=0;il<io.length;il++){im=im+"/"+io[il]["tag"]+"["+io[il]["index"]+"]";}return im;};this.getElementText2=function cS(io,il,ir){if(ir[0]>0){if(io&&((io.nodeType===3)||(io.nodeType===4))){var it=f5(io.nodeValue);it=it.toLowerCase();if(it){il.push(it);ir[0]--;}}else{if(io&&io.nodeType===1&&!io.tagName.match(/^(script|style)$/i)){var im=io.childNodes;for(var ip=0,iq=im.length;ip<iq;ip++){cS(im[ip],il,ir);}}}}};this.getElementTextArray=function cT(im){var il=new Array();this.getElementText2(im,il,[3]);return il;};var f5=function f5(il){il=il.replace(new RegExp(String.fromCharCode(160),"g")," ");il=il.replace(new RegExp(String.fromCharCode(10),"g"),"");il=il.replace(new RegExp(String.fromCharCode(13),"g"),"");il=il.replace(new RegExp(String.fromCharCode(9),"g"),"");il=il.replace(new RegExp(" ","g"),"");il=mtjQuery.trim(il);il=il.substring(0,fe);return il;};this.getElementText=function cR(il){var im=I.getElementTextArray(il[0]);var io=im?im[0]:"";return io;};var e2=function(il,im,io){il.bind(im,io);a7.push({element:il,eventName:im});};function ia(im,io,ip,il){ip=ip||window;var iq=this;var ir=function(){iq.clear();im.apply(ip,il||arguments);};this.id=setTimeout(ir,io);d2[hR+this.id]=this.id;}ia.prototype.id=null;ia.prototype.cleared=false;ia.prototype.clear=function(){if(this.cleared){return;}fq(this.id);this.cleared=true;delete d2[hR+this.id];this.id=null;};function h8(im,io,ip,il){ip=ip||window;var iq=function(){im.apply(ip,il||arguments);};this.id=setInterval(iq,io);d2[hR+this.id]=this.id;}h8.prototype.id=null;h8.prototype.cleared=false;h8.prototype.clear=function(){fq(this.id);this.cleared=true;delete d2[hR+this.id];this.id=null;};function fA(il,im){var io=new ia(il,im);fB.push(io);return io;}function e5(il,im){var io=new ia(il,im);e6.push(io);return io;}function fz(il,io){var im=new h8(il,io);fB.push(im);return im;}function f3(io){for(var im=0;im<io.length;im++){try{io[im].clear();}catch(il){}}io.length=0;}I.releaseLibTimeouts=function f2(){f3(e6);};function fX(){f3(fB);}function fV(){fX();I.releaseLibTimeouts();}function fU(){for(var im=0;im<a7.length;im++){try{a7[im]["element"].unbind(a7[im]["eventName"]);}catch(il){}}a7=new Array();}this.mt_log=function fi(il){e9(il);};function e9(){}function a9(ip,io){io=bk(io,1);var il=aT.getCookie("walkmeCustomerLogs");if(eP(il)){il=parseInt(il);if(il>=io){try{fa(ip);}catch(im){}}}}function fa(ip){if(window.console){console.log(ip);}else{try{var il=cA();var iq=new Date();var io=hU(ip);il.find("#walkme-console-messages").prepend('<li style="padding: 2px 5px; border-bottom: 1px solid #afafaf"><span style="float: left; color: #afafaf; margin-right: 5px;">'+hZ(iq.getHours())+":"+hZ(iq.getMinutes())+":"+hZ(iq.getSeconds())+" </span>"+io.substring(1,io.length-1)+"</li>");}catch(im){}}}function hZ(il){return il<10?"0"+il:il;}function cA(){var im=mtjQuery("#walkme-console-box");if(im.length===0){var io=dI();im=mtjQuery('<div id="walkme-console-box"></div>');var ip=mtjQuery('<div style="display: none;">Walkme Console: [ </div>');var ir=mtjQuery('<button type="button" title="Toggle the walkme debug console">Walkme Console</button>');var iq=mtjQuery('<ul id="walkme-console-messages"></ul>');var il=mtjQuery('<a href="#">clear</a>');ip.append(il);ip.append(" ]");ip.append(iq);im.append(ip);im.append(ir);io.append(im);ir.click(function(){ip.slideToggle("fast",function(){var it=mtjQuery(this).is(":visible")?"Close Console":"Walkme Console";ir.text(it);});});il.click(function(){iq.empty();});ip.css({margin:"15px 60px 5px 15px",padding:"5px",border:"1px solid red","background-color":"#FFC",color:"#000"});ir.css({border:"1px solid red","background-color":"#FFFFCC","margin-left":"15px",width:"120px"});im.css({position:"fixed","z-index":"2147483631","font-family":"Arial",bottom:"10px",left:"10px",width:"100%","text-align":"left"});iq.css({"background-color":"white",border:"1px solid black",height:"260px","list-style-type":"none",padding:"0","overflow-y":"auto",margin:"5px 0 0"});}return im;}this.enableCustomerLogs=function bK(il){var im;if(il===true){im=1;}else{if(il>0){im=il;}else{im=0;}}aT.setCookie("walkmeCustomerLogs",im.toString(),60*60*24);};function dT(im){for(var il=0;il<K.length;il++){if(K[il].TutorialId==im){return K[il].Name;}}return"";}var eP=function(il){if(typeof il=="boolean"){return false;}return !isNaN(il-0);};var fl=function(il){if(il){return il.replace(/\n/g,"<br/>");}else{return"";}};var gs=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);};var cn=function(){return(gs()+gs()+"-"+gs()+"-"+gs()+"-"+gs()+"-"+gs()+gs()+gs());};this.isQuirksMode=function eS(im){var il=((im&&im.ownerDocument)?im.ownerDocument:document);if((il.compatMode=="BackCompat")&&mtjQuery.browser.msie){return true;}else{return false;}};function es(){return !y||eC("noAudit");}function cG(){var il=new Date();return il.getTime();}function cD(){return cE().Steps[o];}function cr(){return s;}this.setAuditSource=function gK(il){var im=hh[il];s=im!=undefined?im:parseInt(il);};this.sendWidgetOpenLogToServer=function gI(){if(es()){return true;}var ip=dS();var il=cx();var im=dd();var io=cr();mtjQuery.getJSON(y+"/Statistics/AddWidgetOpen?jsoncallback=?",{userId:ip,fullUrl:window.location.href,source:io,browser:il,os:im},function(iq){});};function dN(im){for(var il=0;il<K.length;il++){if(K[il].TutorialId==im){return il;}}return -1;}function dR(){return navigator.userAgent;}function cx(){var io=dR();var il="Unknown";var im="";var ir=-1;if((ir=io.indexOf("Opera"))!=-1){il="Opera";if((/Version\/(\S+)/).test(io)){im=RegExp["$1"];}else{var it=Math.max(io.lastIndexOf(" "),io.lastIndexOf("/"));im=io.substring(it+1);}}else{if((ir=io.indexOf("MSIE"))!=-1){il="IE";ir+=5;var iq=io.substring(ir).indexOf(".");im=io.substring(ir,(ir+iq));}else{if((ir=io.indexOf("Chrome"))!=-1){il="Chrome";im=io.substring(ir+7,io.lastIndexOf(" "));}else{if(ir=io.indexOf("Safari")!=-1){il="Safari";if(/Version\/(\S+)/.test(io)){im=RegExp["$1"];}}else{if(/Firefox\/(\S+)/.test(io)){il="Firefox";im=RegExp["$1"];}else{if((nameOffset=io.lastIndexOf(" ")+1)<(ir=io.lastIndexOf("/"))){il=io.substring(nameOffset,ir);im=io.substring(ir+1);}}}}}}var ip=il+" "+im;return ip.substring(0,21);}function dd(){var il=dR();var im="Unknown";if(il.indexOf("Win")!=-1){im="Windows";}if(il.indexOf("Mac")!=-1){im="MacOS";}if(il.indexOf("X11")!=-1){im="UNIX";}if(il.indexOf("Linux")!=-1){im="Linux";}if(il.indexOf("Android")!=-1){im="Android";}if((il.indexOf("iPad")!=-1)||(il.indexOf("iPod")!=-1)||(il.indexOf("iPhone")!=-1)){im="iOS";}return im;}function ae(ip,il){try{if(es()){return true;}d++;if(d>5){return;}var io=ci("_currentTutorial={0};_currentStep={1};_currentState={2};_currentPlayGUID={3};_isInRecorder={4};_userGuid={5};LibVersion={6};UA={7};",p,o,n,af._currentPlayGUID,t,L,I.SVNRevision,navigator.userAgent);mtjQuery.getJSON(y+"/Statistics/LogError?jsoncallback=?",{source:1,code:il,message:ip,extraData:io},function(iq){});}catch(im){}}var fd=function(il,im){var ir=null;if(il.length>0){var iq=im(il[0]);ir=il[0];for(var ip=1;ip<il.length;ip++){var io=im(il[ip]);if(io>iq){iq=io;ir=il[ip];}}}return ir;};var fh=function(il,im){var ir=null;if(il.length>0){var iq=im(il[0]);ir=il[0];for(var ip=1;ip<il.length;ip++){var io=im(il[ip]);if(io<iq){iq=io;ir=il[ip];}}}return ir;};function c8(il){switch(il){case 0:return 0;case 1:return 1.45;case 2:return 3;default:return 1.45;}}function dh(io){var il=dI();if(il.length==0){return false;}var im=mtjQuery("#walkme-popup-element",il);if(im.length<=0||io){var ip="walkme-popup-element";if(io){ip+="-"+im.lentgh;}im=mtjQuery(il[0].ownerDocument.createElement("div"));im.attr({id:ip});im.css("width","0px;");im.css("height","0px;");mtjQuery(il.append(im));}return im;}this.getElementStrength=function cP(im){var io={score:-1};var ip=gD(im);ce(ip,0,{BalloonSettings:{}});var il=I.findElement(ip,null,io);if(il){return io.score;}return null;};this.findElement=function bY(it,ip,iq){try{if(eQ(it)){return dh();}if(eq(it)){return co(it).isValid();}var io=it.ElementDescription;var iu=c8(it.StepSensitivity);e9(it);var im=false;var iv=dH(it,ip);if(it.IsJquerySelector){if(iv.length>0){return iv[0];}}aK(iv,"red");iv=bI(iv,it);aK(iv,"yellow");var ir=dn(it);var iw=fc(iv,function(iy){return[dm(ir,iy,io),iy];});var ix=fd(iw,function(iy){return iy[0];});if(ix&&(ix[0]>iu)){im=ix[1];aK([im],"green");if(iq){iq.score=ix[0];}}else{if(ix){aK([ix[1]],"black");if(iq){iq.score=ix[0];}}}return im;}catch(il){I.lib_error(il);}};function bI(iq,ip){var im=cX(ip);function io(ir){for(var it=0;it<im.length;it++){if(im[it](ir,ip.ElementDescription)){return false;}}return true;}var il=bW(iq,io);return il;}var cX=function(im){var il=[];if(im.IsJquerySelector||im.IsIdentifyByText||eO(im.ElementDescription["data-walkmeid"])){return il;}if(!im.IsIgnoreId){il.push(bG);}return il;};function bG(il,im){var io=il.attr("id");if(io&&io.length>0&&io.length<30){if(io!=im.elementId){return true;}}}function bM(il,im){return il.length>=im.length&&il.lastIndexOf(im)+im.length==il.length;}function hn(il,im){return il.indexOf(im)==0;}var dt=function(im,il){var io=im/il;if(io>1){io=1/io;}var ip=Math.pow(io,4);return ip;};var gz=function gz(il,im){var ir=["div","table","tr","td","tbody","th"];if(eh(im.extended.elementType,ir)==-1){return 0;}else{var ip=il.width();var io=il.height();if(ip*io!=0){var iu=dt(ip,im.elementWidth)/2;var iq=dt(io,im.elementHeight)/2;var it=iu+iq;return(it>=0.6)?it:0;}return 0;}};var gB=function gB(il,im){var io=mtjQuery(il).text();io=mtjQuery.trim(io);descriptionText=mtjQuery.trim(im.elementText);if(io.length>0&&(io==descriptionText)){return 1;}return 0;};var gy=function(il,im){function io(ip,iq){if(iq[im]&&ip.attr(il)&&iq[im].length>0&&ip.attr(il)==iq[im]){return 1;}return 0;}io.attributeName=il;return io;};var gC=function gC(im,io){var il=ak(im[0],io);if(il.NumNodeRemove>ig){return 0;}var ip=1-(il.NumNodeRemove+il.SumNodeDiff/10)*0.1;return ip<0?0:ip;};var gA=function gA(io,ip){if(ip.textArray===undefined){gB(io,ip);}var ir=I.getElementTextArray(io[0]);var im=ip.textArray;if(ir&&im){var il=im[0];var iq=ir[0];il=bg(il,["&",'"',"'",">","<"]);return(il==iq)?1:0;}return 0;};var eu=function eu(il){return(il!=null)&&(il!=undefined);};function eO(il){return((il!=undefined)&&(il.length>0));}var gw=function gw(ip,iq){var il=iq.relativeLeft;var ir=dj(ip);var io=Math.abs(il-ir);var iv=iq.centeredElementWidth;if(iv){var iu=iv/5;iu=(iu<30)?30:iu;if(io>iu){return 0;}else{var ix=1-(io/20);var im=iq.elementAbsY;var it=mtjQuery(ip).offset().top;var io=Math.abs(im-it);var iy=1-(io/20);var iz=0.3;if(ix>0.9){iz=0.9;}var iw=(ix*(1-iz))+iy*iz;return(iw<0)?0:iw;}}return 0;};function ii(){this.NumNodeRemove=0;this.NumNodeDiff=0;this.SumNodeDiff=0;}var aI=function aI(il){var im=new ii();im.NumNodeRemove=il.NumNodeRemove;im.NumNodeDiff=il.NumNodeDiff;im.SumNodeDiff=il.SumNodeDiff;return im;};var ff=new ii();ff.NumNodeRemove=10000;var ij=function ij(il){return il.NumNodeRemove+il.NumNodeDiff/4+il.SumNodeDiff/10;};function f6(il){if((il[0]["tag"]=="html")&&(il[1]["tag"]=="body")){return il.slice(2);}else{if((il[0]["tag"]=="html")&&(il[1]["tag"]!="body")){return il.slice(1);}else{I.lib_error(false,"Fatal in removeBodyAndHtmlFromXpathArray: "+ih(il));}}}var ak=function(io,ip){var iq=f6(al(io));var il=ip.extended.xpathArrayToIframeNoBodyAndHtml;var im=d1(new ii(),iq,iq.length-1,il,il.length-1);return im;};var d1=function d1(iy,il,ip,ir,iv){if(Math.abs(ip-iv)>ig){return ff;}if(iy.NumNodeRemove>ig){return ff;}if(ip<0){iy.NumNodeRemove+=iv+1;if(iy.NumNodeRemove>ig){return ff;}else{return iy;}}if(iv<0){iy.NumNodeRemove+=ip+1;if(iy.NumNodeRemove>ig){return ff;}else{return iy;}}var iq=il[ip]["tag"];var io=il[ip]["index"];var iw=ir[iv]["tag"];var iu=ir[iv]["index"];var iE=(iq==iw);var iD=(io==iu);if(iE&&iD){return d1(iy,il,ip-1,ir,iv-1);}var iB=aI(iy);iB.NumNodeRemove++;var im=d1(iB,il,ip-1,ir,iv-0);var it=d1(iB,il,ip-0,ir,iv-1);var ix;if(!iE){ix=ff;}else{var iz=Math.abs(io-iu);var iA=aI(iy);if(iz>0){iA.NumNodeDiff++;iA.SumNodeDiff+=iz;}ix=d1(iA,il,ip-1,ir,iv-1);}var iC=fh([im,it,ix],ij);return iC;};var al=function(il){var ir=new Array();var im=0;for(;il&&il.nodeType==1;il=il.parentNode){var io=1;if(cQ(il)!="HTML"){var iq=il.parentNode.childNodes;for(var ip=0;ip<iq.length;ip++){if(iq[ip]==il){break;}if(iq[ip].tagName==il.tagName){io++;}}if(ip==iq.length){I.lib_error(false,"calculateElementXPathArray - not supposed to get here!");}}ir[im]=new Array(2);ir[im]["tag"]=il.tagName.toLowerCase();ir[im]["index"]=io;im++;}gk(ir);return ir;};function gk(il){var im=0;var io=il.length-1;while(im<io){var ip=il[im];il[im]=il[io];il[io]=ip;im++;io--;}}var hI=function(im){var io=0;for(var il=0;il<im.length;il++){io+=im[il];}return io;};var gx=function(il,im){this.func=il;this.weight=im;};var dm=function(iq,il,im){var io=false;var ip=fc(iq,function(it){if(io){return 0;}if(it.weight==0){return 0;}var iu=it.func(il,im);if(iu==gv){io=true;}return iu*it.weight;});var ir;if(io){aK([il],"pink");ir=gv;}else{ir=hI(ip);}return ir;};var dn=function(im){var il=[];if(im.IgnorePosition==0){il.push(new gx(gw,1));}il.push(new gx(gC,1),new gx(gz,0.7),new gx(gy("src","src"),3),new gx(gy("alt","alt"),1),new gx(gy("class","class"),0.7),new gx(gy("style","style"),0.5),new gx(gy("colspan","colspan"),0.3),new gx(gy("cellpadding","cellpadding"),0.3),new gx(gy("cellspacing","cellspacing"),0.3),new gx(gy("border","border"),0.3),new gx(gy("dir","dir"),0.3),new gx(gy("width","width"),0.3),new gx(gy("value","value"),10),new gx(gy("data-walkmeid","data-walkmeid"),1000),new gx(gy("href","href"),3));if(!im.IsIgnoreId){il.push(new gx(gy("id","elementId"),10));il.push(new gx(gy("name","elementName"),8));}if(!im.IsIgnoreText){il.push(new gx(gA,3));il.push(new gx(gy("title","title"),3));}return il;};var aK=function(im,il){};var fc=function(io,il){var ip=[];for(var im=0;im<io.length;im++){ip.push(il(io[im]));}return ip;};var aR=function aR(im,il){return ca(im,il)!=null;};var ca=function ca(io,il){for(var im=0;im<io.length;im++){if(il(io[im])){return io[im];}}return null;};var ch=function(io,il){for(var im=0;im<io.length;im++){il(io[im]);}};var bW=function(im,ip){var io=new Array();for(var il=0;il<im.length;il++){if(ip(im[il])){io.push(im[il]);}}return io;};function eh(im,il,io){var ip;if(il){ip=il.length;io=io?io<0?Math.max(0,ip+io):io:0;for(;io<ip;io++){if(io in il&&il[io]===im){return io;}}}return -1;}var c2=function c2(io){io=wmjQuery.trim(io);if(hn(io,"{")){try{return gD(io);}catch(il){return null;}}else{var im=new Object();im.element=io;return im;}return null;};var b9=function b9(io,iq){try{if((io.context!=undefined)&&((io.context.element)!=undefined)){var il=b9(io.context,iq);if(il.length>0){var ir=cQ(il[0]);if(ir=="IFRAME"||ir=="FRAME"){il=c1(il);}}return wmjQuery(io.element,il);}else{if(io.context!=undefined){var ip=wmjQuery(io.context);if(ip.length>0){var ir=cQ(ip[0]);if(ir=="IFRAME"||ir=="FRAME"){if(iq){iq.ElementDescription.extended.elementIframe=ip;}ip=c1(ip);}else{if(iq){iq.ElementDescription.extended.elementIframe=false;}}}return wmjQuery(io.element,ip);}else{return wmjQuery(io.element);}}}catch(im){a9("jQuery Element Finder: Could not parse input");return wmjQuery();}};var b3=function b3(iD,il,iw){if(iD.JquerySelector==undefined){return[];}var iC=iD.JquerySelector;iC=iC.replace(/&quot;/gi,'"');iC=iC.replace(/&apos;/gi,"'");iC=iC.replace(/&#39;/gi,"'");iC=iC.replace(/&amp;/gi,"&");iC=iC.replace(/&gt;/gi,">");var it;var io="context:";var ir=",element:";var iv="func:";if(hn(iC,io)){var ip=iC.substr(io.length);var iu=ip.substr(ip.indexOf(ir)+ir.length);ip=ip.substr(0,ip.indexOf(ir));var im=mtjQuery(ip);if(im.length>0){if(cQ(im[0])=="IFRAME"){iD.ElementDescription.extended.elementIframe=im;}else{iD.ElementDescription.extended.elementIframe=false;}im=im.contents();it=mtjQuery(iu,im);a9("jQuery selector found these elemnets:");a9(iA);}else{return[];}}else{if(hn(iC,iv)){try{var iz=iC.substr(iv.length);var iy=mtjQuery.parseJSON(iz);var iB=eo(iy);if(iB.iframe){iD.ElementDescription.extended.elementIframe=mtjQuery(iB.iframe);}var iA=mtjQuery(iB.result);if((iw==undefined)||(iw)){iA=iA.filter(":mt_visible");}a9("func selector found these elemnets:");a9(iA);return iA;}catch(iq){if(t){console.log("Using jQuery selector with function raised an exception:");console.log(iq);}else{a9("Using jQuery selector with function raised an exception:");a9(iq);}return[];}}else{var ix=c2(iC);it=b9(ix,iD);}}if(it.length>0){if((iw==undefined)||(iw)){it=it.filter(":mt_visible");}}a9("jQuery selector found these elemnets:");a9(it);return it;};var b2=function b2(im,il){return bX(il,"id",im.ElementDescription.elementId,im.ElementDescription.extended.elementType,im.ElementDescription.extended.elementIframe);};function b7(im,il){return bX(null,"data-walkmeid",im.ElementDescription["data-walkmeid"],"",im.ElementDescription.extended.elementIframe);}var bX=function bX(il,im,io,ir,ip){if(!io){return[];}var it=ci("{0}[{1}='{2}']",ir,im,io);var iq;if(il){iq=mtjQuery(il).filter(it);}else{iq=mtjQuery(it);}return fc(iq,mtjQuery);};var b4=function b4(im,il){return bX(il,"name",im.ElementDescription.elementName,im.ElementDescription.extended.elementType,im.ElementDescription.extended.elementIframe);};var b5=function b5(im,il){return bX(il,"src",im.ElementDescription.src,im.ElementDescription.extended.elementType,im.ElementDescription.extended.elementIframe);};var cZ=function cZ(ip,im){var io=ip.ElementDescription.extended.elementType.replace(":","\\:");if((im==undefined)||(im)){io+=":mt_visible";}var il;if(ip.ElementDescription.extended.elementIframe){il=mtjQuery(io,c1(ip.ElementDescription.extended.elementIframe));}else{il=mtjQuery(io);}return il;};var b8=function b8(ip,il){var iq=[];var im;for(var io=0;io<il.length;io++){im=ak(il[io],ip.ElementDescription);if(im.NumNodeRemove<=ig){iq.push(il[io]);}}return iq;};function b1(io,il){var ip=[];var im=bZ(io.ElementDescription.extended.xpathArray);if(im){ip.push(im);}return ip;}var b6=function b6(io,il){if(!io.ElementDescription.textArray||io.ElementDescription.textArray.length==0){return[];}var im=bW(il,function(iq){var ir=I.getElementTextArray(iq);if(io.ElementDescription.textArray.length>0&&ir.length>0){var ir=ir[0];var ip=io.ElementDescription.textArray[0];ip=bg(ip,["&",'"',"'",">","<"]);return ir==ip;}return false;});return im;};var N=function N(il,io){for(var im=0;im<il.length;im++){io.push(mtjQuery(il[im]));}};var bU=function bU(il){var ip=ik(il.elementXpath);var im=cM(ip);var io=ip[ip.length-1]["tag"];il.extended=new Object();il.extended.xpathArray=ip;il.extended.xpathArrayToIframe=cV(ip);il.extended.xpathArrayToIframeNoBodyAndHtml=f6(il.extended.xpathArrayToIframe);il.extended.elementIframe=im;il.extended.elementType=io;};var dH=function dH(iq,ip){bU(iq.ElementDescription);var il=cZ(iq,ip);var it=dG(iq,il);var ir=[];for(var io=0;io<it.length;io++){var im=it[io];N(im(iq,il,ip),ir);}ch(ir,function(iu){iu.data("iframe",iq.ElementDescription.extended.elementIframe);});return ir;};var dG=function dG(im,il){var io=[];if(eO(im.ElementDescription["data-walkmeid"])){io=[b7];return io;}io=[b5];if(il.length<2000){io.push(b8);}else{io.push(b1);}if(im.IsIdentifyByText){io=[b6];}else{if(im.IsJquerySelector){io=[b3];}else{if(im.IsIdentifyById){io=[b2];io.push(b4);}else{if(!im.IsIgonreId){io.push(b2);io.push(b4);}if(!im.IsIgnoreText){io.push(b6);}}}}return io;};function ci(){var il=arguments[0];for(var im=1;im<arguments.length;im++){var io=new RegExp("\\{"+(im-1)+"\\}","gm");il=il.replace(io,arguments[im]);}return il;}var hd=function hd(il){I.redirectPopupOK(il);};this.redirectPopupOK=function fQ(il){hD();new ia(function(){window.location=il;},200);fD();};this.redirectPopupCancel=function fP(){fD();};var g=undefined;var h=undefined;this.getMarginAutoStyles=function c7(){if(g==undefined){g=[];ch(document.styleSheets,gR);}return g;};var c0=function c0(){if(h==undefined){h=[];ch(document.styleSheets,gO);}return h;};var gO=function gO(iq){try{var ip=iq.cssRules||iq.rules;for(var io=0;io<ip.length;io++){var il=ip[io];if(il.type&&il.type==window.CSSRule.IMPORT_RULE){gO(il.styleSheet);}else{if(eF(il.style)){h.push(il.selectorText);}}}}catch(im){}};var eF=function eF(io){var ip=io.width;if(ip){var im="";for(var il=0;il<ip.length;il++){if(!isNaN(ip[il])){im+=ip[il];}}if(im&&parseInt(im)>700){if((ip.indexOf("p")!=-1||ip.indexOf("e")!=-1||ip.indexOf("m")!=-1||ip.indexOf("i")!=-1)){return true;}}}return false;};var gR=function gR(iq){try{var ip=iq.cssRules||iq.rules;for(var io=0;io<ip.length;io++){var il=ip[io];if(il.type&&il.type==window.CSSRule.IMPORT_RULE){gR(il.styleSheet);}else{if(eM(il.style)){g.push(il.selectorText);}}}}catch(im){}};var eM=function eM(ir){if(ir){var il=mtjQuery.trim(ir.margin);var im=mtjQuery.trim(ir.marginLeft);var io=mtjQuery.trim(ir.marginRight);var ip=hn(il,"0")&&bM(il,"auto");var iq=(im=="auto")&&(io=="auto");if((ip)||(iq)){return true;}}return false;};var ex=function ex(im){var io=mtjQuery(im);var il=io.data("mt_isElementFixedWidth");if(il==true){return true;}if(il==false){return false;}var ip=ew(im);io.data("mt_isElementFixedWidth",ip);return ip;};var eB=function eB(im){var io=mtjQuery(im);var il=io.data("mt_isElementMarginAuto");if(il==true){return true;}if(il==false){return false;}var ip=eA(im);io.data("mt_isElementMarginAuto",ip);return ip;};var ev=function ev(il,ip){var io=false;for(var im=0;im<ip.length;im++){var iq=ip[im];io=mtjQuery(il).is(mtjQuery(iq));if(io){return io;}}return io;};var ew=function ew(il){if(eF(il.style)){return true;}else{var im=ev(il,c0());return im;}return false;};var eA=function eA(il){if(eM(il.style)){return true;}else{var im=ev(il,I.getMarginAutoStyles());return im;}return false;};var dj=function dj(io){var il=I.getCenteredElement(io);var im=il?il.offset().left:0;var ip=mtjQuery(io).offset().left-im;if(ip<0){e9("can't be negative broder was right "+mtjQuery(io).offset().left+"-"+im+"="+ip);}return ip;};this.getCenteredElement=function cy(ir){var iv=mtjQuery(ir).parents();var il=null;for(var ip=iv.length-1;ip>=0;ip--){try{var iq=ex(iv[ip]);if(iq){var it=mtjQuery(iv[ip]);var ix=mtjQuery(window).width();var iw=it.width();var iu=it.offset().left;var im=ix-iw;if(im>0&&(im/2)==iu){il=it;break;}else{if(im<0&&im==iu){il=it;break;}else{if(eB(it)){il=mtjQuery(it);break;}}}}}catch(io){e9("error-----------------------------------");I.lib_error(io);}}return il;};function gN(il){if(!eO(z.CustomCss)){return;}var im;if(il==null){im=mtjQuery("head");}else{if(!t&&(il.data("iframe")==null)){return;}im=il.parents("html").children("head");}if(t){wmjQuery("#walkme-custom-css",im).remove();im.data("mt_custom_css_set",false);}if(im.data("mt_custom_css_set")!=true){var io=z.CustomCss;io=io.replace(/&quot;/gi,'"');io=io.replace(/&apos;/gi,"'");io=io.replace(/&#39;/gi,"'");io=io.replace(/&amp;/gi,"&");if(document.createStyleSheet){var ip=im[0].ownerDocument.createStyleSheet("");ip.cssText=io;}else{im.append('<style type="text/css" id="walkme-custom-css">'+io+"</style>");}im.data("mt_custom_css_set",true);}}function fE(im,it,ix,iv,il){var iu=ds(iv);var io=iu.BalloonSettings;var iq='<div class="mt-to-destroy walkme-custom-popup mt-custom-popup walkme-custom-popup-'+im+" mt-custom-popup-"+im+' CUSTOM-TUTORIAL-ID mt-to-destroy" id="walkme-popup-body" style="CSS-RESET width:'+ix+'px">'+it+"</div>";iq=iq.replace(/CSS-RESET/g,a0);iq=iq.replace(/CUSTOM-TUTORIAL-ID/g,"walkme-custom-walkthru-"+iv);if(!I.isQuirksMode()&&!I.shouldHandlePageAsFramesets()){iq+='<div id="walkme-popup-background" class="mt-to-destroy"></div>';}var ip=dI();ip.append(iq);var ir=mtjQuery("#walkme-popup-body",ip);ir.css({position:"fixed","z-index":"2147483631",padding:"8px 12px 12px 12px","font-family":"Arial"});gW(ir,io,false);mtjQuery("#walkme-popup-background").css({opacity:"0.7",display:"none",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",background:"#000000",border:"1px solid #cecece","z-index":"2147483630"});var iw=0;mtjQuery.each(mtjQuery("[width], [style*=width]",ir),function(iy,iz){if(mtjQuery(iz).width()>iw){iw=mtjQuery(iz).width();}});if(ir.width()<iw){ir.css("width",iw+"px");}I.centerElementInPage(ir,false);fC=fz(function(){I.centerElementInPage(ir,true);},1000);mtjQuery("#walkme-popup-background").fadeIn("slow");ir.fadeIn("slow");Q(ir);if(il){il(ir);}}function fD(){if(fC){fC.clear();}var il=dI();mtjQuery("#walkme-popup-background",il).remove();bn(mtjQuery("#walkme-popup-body",il));}function gl(il,io){for(var im=0;im<io;im++){il.push(il.splice(0,1)[0]);}}function bj(im,il){if(im===undefined){return il;}return im;}function a1(ir,ip,iq,il,io,im){this.width=ir;this.height=ip;this.point_direction=bj(iq,0);this.angle=bj(il,0);this.color=bj(io,"red");this.background=bj(im,"transparent");}a1.prototype.Generate=function(im){var il=mtjQuery(im.createElement("div"));il.css("display","block");il.css("width","0");il.css("height","0");il.css("border",this.width+"px solid transparent");il.css("border-"+aZ[this.point_direction]+"-color",this.color);il.css("line-height","0");il.css("border-"+aZ[(this.point_direction+2)%4],"0px");if(this.point_direction==3||this.point_direction==1){il.css("border-style","outset solid solid solid");}else{il.css("border-style","solid outset solid solid");}return il;};this.parseBBCode=function ft(ip){if(ip.indexOf("[")<0){return ip;}var it=ix("\\[([a-z][a-z0-9]*)=?([^\\]]+)?]((?:.|[\r\n])*?)\\[/\\1]","g");var iD=ix("^(\\d+)x(\\d+)[^\\]]*");var iA={url:'href="',anchor:'name="',email:'href="mailto: '};var iN={youtube:"http://www.youtube.com/embed/",flash:""};var iM={vimeo:"http://player.vimeo.com/video/",flash:""};var iK={font:"font-family:$1",size:"font-size:$1px",color:"color:$1"};var im={};var io=["style","class"];var iH=["width","height"].concat(io);var iI=["border","cellspacing","cellpadding"].concat(io);var iL=["autoplay"].concat(iH);var iJ={table:iI,tr:io,th:io,td:io,tbody:io,p:io,div:iH,span:iH,youtube:iL,vimeo:iL,wt:io,url:io};function ix(iO,iP){return new RegExp(iO,iP);}function iv(iQ,iO){var iP=iO.exec(iQ);if(iP!=null&&iP.length>2){iP.splice(0,1);}else{iP="";}return iP;}function iw(iO,iS,iP){if(iS!=undefined){iS=iS.replace(/&quot;/gi,'"');}var iR=new Object();for(var iQ=0;iQ<iO.length;iQ++){var iT="";if(iS!=undefined&&iS!=""){iS.replace(ix(""+iO[iQ]+'="([^\\"]+)"',"g"),function(iU,iV){iT=iV;});}if(iT!=""){iR[iO[iQ]]=iT;}else{if(iP!=undefined&&iP[iO[iQ]]!=undefined){iR[iO[iQ]]=iP[iO[iQ]];}}}return iR;}function iC(iO){var iP=iO.replace(it,iB);return iP;}function iE(iQ,iO){for(var iP in iO){iQ=iQ.replace(ix(iP,"g"),iO[iP]);}return iQ;}function ir(iO){if(y.indexOf("https:")!=-1){return iO.replace("http:","https:");}else{return iO;}}function il(iQ,iO){for(var iP=0;iP<iO.length;iP++){if(iO[iP]==iQ){return true;}}return false;}var iz=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel"];function iq(iP){if(iP.indexOf("on")<0){return iP;}for(var iO=0;iO<iz.length;iO++){iP=iP.replace(new RegExp(iz[iO],"gi"),"^");}return iP;}function iB(iO,iP,iQ,iR){if(iR&&iR.indexOf("[")>-1){iR=iC(iR);}if(!iQ||iQ.indexOf("javascript:")>-1){iQ="";}switch(iP){case"url":var iU=iQ;if(iU){var iX=iU.split(" ");if(!il(iX[0],iJ[iP])){var iW=iX[0];iU=iX.splice(1,iX.length-1).join(" ");}}var iV=iw(iJ[iP],iU,{"class":"",style:""});return'<a target="_blank" class="walkme-custom-bbcode-link '+iV["class"]+'" style="color: inherit; text-decoration:underline; '+iV.style+'" '+iA[iP]+(iW||iR)+'">'+iR+"</a>";case"wt":var iY=-1;var iU=iQ;if(iU){var iX=iU.split(" ");iY=iX[0];iY=eP(iY)?iY:-1;iU=iX.splice(1,iX.length-1).join(" ");}var iV=iw(iJ[iP],iU,{"class":"",style:""});return'<a style="cursor: pointer; '+iV.style+'" class="walkme-custom-bbcode-wt-link walkme-action-start-wt '+iV["class"]+'" data-walkthru-id="'+(iY)+'">'+iR+"</a>";case"img":var iT=iv(iQ,iD);iR=iq(iR);return'<img src="'+iR+'"'+(iT?' width="'+iT[0]+'px" height="'+iT[1]+'px"':"")+"/>";case"youtube":var iT=iw(iJ[iP],iQ,{width:420,height:315});var iS="";if(iT.autoplay){iS="autoplay=1";}return'<iframe data-youtube-id="'+iR+'" width="'+iT.width+'" height="'+iT.height+'" src="'+ir(iN[iP])+iR+"?"+iS+'" frameborder="0" allowfullscreen></iframe>';case"vimeo":var iT=iw(iJ[iP],iQ,{width:420,height:315});var iS="";if(iT.autoplay){iS="autoplay=1";}return'<iframe data-vimeo-id="'+iR+'" width="'+iT.width+'" height="'+iT.height+'" src="'+ir(iM[iP])+iR+"?"+iS+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';case"b":case"u":case"i":return"<"+iP+">"+iR+"</"+iP+">";case"table":case"tr":case"th":case"td":case"tbody":case"div":case"span":return"<"+iP+iu(iw(iJ[iP],iQ))+" data-"+iP+"='"+iQ+"'>"+iR+"</"+iP+">";case"p":return"<"+iP+iu(iw(iJ[iP],iQ))+" data-"+iP+"=' "+iQ+"'>"+iR+"</"+iP+">";case"survey":return'<a data-survey-id="" class="walkme-custom-bbcode-survey" style="cursor: pointer;">'+iR+"</a>";}return"["+iP+(iQ?"="+iQ:"")+"]"+iR+"[/"+iP+"]";}function iu(iP){var iO="";mtjQuery.each(iP,function(iQ,iR){iO+=iQ+'="'+iR+'" ';});iO=iO.replace(/\s+$/,"");if(iO){return" "+iO;}return iO;}for(var iy in iK){im["\\["+iy+"=([^\\]]+)]"]='<span style="'+iK[iy]+'">';im["\\[/"+iy+"]"]="</span>";}var iF=iE(ip,im);var iG=iC(iF);return iG;};function gY(il){if(!il){return false;}if(il.length==0){return false;}return true;}function eT(im,il){if(!gY(im)){return false;}if(il in im){return true;}else{return false;}}function dq(io,im,il){if(!gY(io)){return il;}if(!eT(io,im)){return il;}return io[im];}var bz="walkme_elementData";function bD(il,io,ip){var im;im=il.data(bz);if(!im){im={};im.element=il;im.cleanUp=false;im[io]=ip;r.push(im);il.data(bz,im);}else{im[io]=ip;}}function bC(il,io){var im;im=il.data(bz);if(!im){return undefined;}else{return im[io];}}function bA(){var io=new Array();for(var im=0;im<r.length;im++){try{if(!r[im]["cleanUp"]){r[im].element[0].tagName;io.push(r[im]);}}catch(il){e9("elementDataGarbageCollect: destroying element");bB(r[im]);}}r=io;}function bB(im){try{im.elementDisplayTimeout.clear();im.elementDisplayTimeout=null;}catch(il){}try{im.eventReleaseFunction=null;}catch(il){}f8(im,"launcherDivs");f8(im,"balloonDiv");f8(im,"arrowDiv");f8(im,"arrowDiv2");}function f8(im,io){try{if(im[io]){im[io].remove();}}catch(il){}}function ga(im){try{var io=elementDataCell[im];if(io){try{io.hide();}catch(il){}ed.removeRectObjectFromArray(io);}}catch(il){}}function gb(){var io=elementDataCell.rectObjectsArray;if(io){for(var im=0;im<io.length;im++){var il=io[im];ga(il);}}}function c1(im){var io=im[0];if(io==undefined){return[];}var ip;try{if(io.contentDocument){ip=io.contentDocument;}else{if(io.contentWindow){ip=io.contentWindow.document;}else{ip=[];}}ip=mtjQuery(ip);}catch(il){if(il&&il.message&&(il.message.indexOf("denied")>=0)){ip=[];}else{throw il;}}return ip;}this.shouldHandlePageAsFramesets=function g5(){return(!cj)&&ck.isFramesetsPage();};this.isFramesetsPage=function eG(){return I.shouldHandlePageAsFramesets();};function dI(im,io){var il;if(im){il=im.parents("body");}else{il=mtjQuery("body");}if((il.length==0)||(cQ(il[0])=="FRAMESET")){if(im){il=im.parents("html");}else{if(io||(!I.shouldHandlePageAsFramesets())){il=mtjQuery("html");}else{il=mtjQuery("body",c1(mtjQuery(I.getBiggestFrame())));}}}return il;}var f=null;this.getBiggestFrame=function cv(){var im=false;try{im=(!(ck.isFrameActive(f)))||(mtjQuery("frameset",f.contentWindow.document).length>0);}catch(il){im=true;}if(im){f=ck.findBiggestFrame();}return f;};function dQ(){var iq={};var ip=window.location.search.substring(1);var ir=ip.split("&");for(var im=0;im<ir.length;im++){var io=ir[im].split("=");if(typeof iq[io[0]]==="undefined"){iq[io[0]]=io[1];}else{if(typeof iq[io[0]]==="string"){var il=[iq[io[0]],io[1]];iq[io[0]]=il;}else{iq[io[0]].push(io[1]);}}}return iq;}function bp(){var io="Lib on "+walkme_lib_notify_ServerName+": "+I.SVNRevision;if(I.isQuirksMode()){e9(io);return;}var im="<div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: 2147483631; position: fixed; top: 0; left: 30px; background-color: red; font-size: 15px;'>"+io+"</div>";var il=dI(null,true);mtjQuery("#walkme-dev-mode-alert",il).remove();il.append(im);}function eI(){try{if(FB._inCanvas&&FB.Canvas.getPageInfo){if(window.walkme_dont_use_fb_scroll==true){return false;}return true;}}catch(il){return false;}}this.centerElementInPage=function aq(io,il,ip){var iq=window;if(I.shouldHandlePageAsFramesets()){iq=I.getBiggestFrame().contentWindow;}if(eI()){return ar(io,il);}else{var ir={top:0,left:0};if(ip){ir.top+=ip.top;ir.left+=ip.left;}var im=am(io.parent()[0],iq);ir.top-=im.top;ir.left-=im.left;return au(io,il,mtjQuery(iq).scrollLeft(),mtjQuery(iq).scrollTop(),mtjQuery(iq).width(),mtjQuery(iq).height(),ir);}};function au(im,il,it,iu,iv,ir,ip){if(ip==undefined||ip==null){var ip={top:0,left:0};}if(it>500){it=0;}var iq=(ir-mtjQuery(im).outerHeight())/2+iu+ip.top;var io=(iv-mtjQuery(im).outerWidth())/2+it+ip.left;iq=Math.round((iq>0?iq:0));io=Math.round((io>0?io:0));if((Math.abs(iq-mtjQuery(im).offset().top)<2)&&(Math.abs(io-mtjQuery(im).offset().left)<2)){return;}iq=iq+"px";io=io+"px";mtjQuery(im).css({position:"absolute",margin:0});if(il){mtjQuery(im).animate({top:iq,left:io},400);}else{mtjQuery(im).css({top:iq,left:io});}}function ar(im,il){FB.Canvas.getPageInfo(function(io){at(im,il,io);});}function at(im,il,io){au(im,il,io.scrollLeft,io.scrollTop,mtjQuery(window).width(),io.clientHeight);}var fN=/["\\\x00-\x1f\x7f-\x9f]/g;var fO={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function fM(il){if(il.match(fN)){return'"'+il.replace(fN,function(im){var io=fO[im];if(typeof io==="string"){return io;}io=im.charCodeAt();return"\\u00"+Math.floor(io/16).toString(16)+(io%16).toString(16);})+'"';}return'"'+il+'"';}function eo(io){function ip(iy,iz){var ix=iy.split(".");var iA=iz;for(var iw=0;iw<ix.length;iw++){iA=iA[ix[iw]];}return iA;}var iu={result:null,iframe:null};var ir=new Array();if(io.params){for(var iq=0;iq<io.params.length;iq++){ir.push(io.params[iq].value);}}var iv=window;if(io.iframe){iv=mtjQuery(io.iframe);if(iv.length==0){throw"Iframe not found: "+io.iframe;}iv=iv.contents()[0];iv=(iv.parentWindow||iv.defaultView);iu.iframe=mtjQuery(io.iframe);}var im=ip(io["function"],iv);if(!im){throw"Function not found: "+io["function"];}var il;if(io["this"]){il=ip(io["this"],iv);if(!il){throw"'This' not found: "+io["this"];}}else{if(io["function"].indexOf(".")==-1){il=null;}else{il=ip(io["function"].substring(0,io["function"].lastIndexOf(".")),iv);}}var it=im.apply(il,ir);iu.result=it;return iu;}var bg=function bg(ir,il){var im=[{Entity:"&amp;",Char:"&"},{Entity:"&apos;",Char:"'"},{Entity:"&#39;",Char:"'"},{Entity:"&quot;",Char:'"'},{Entity:"&lt;",Char:"<"},{Entity:"&gt;",Char:">"}];for(var io=0;io<il.length;io++){for(var ip=0;ip<im.length;ip++){if(il[io]==im[ip].Char){var iq=new RegExp(im[ip].Entity,"gi");ir=ir.replace(iq,im[ip].Char);}}}return ir;};function aO(im){var il=this;this.evaluate=function io(iq){function ip(iu){if(iu.nodeType=="Func"){var ir=im.getFunctionsByLibNameType(iu.funcName);var it=[];it.push(iu.funcArgs);return ir.apply(this,it);}else{if(iu.nodeType=="And"){return(ip(iu.leftSon)&&ip(iu.rightSon));}else{if(iu.nodeType=="Or"){return(ip(iu.leftSon)||ip(iu.rightSon));}else{return false;}}}}if(iq==null){return true;}else{return ip(iq);}};}function cQ(il){var im=il.tagName;if(im.toUpperCase){im=im.toUpperCase();}return im;}function g2(){var im=dq(z.Settings,"AG",false);if(!im){return;}if(parseInt(im.id)==-1){return;}var il="wm-ag-rep";if(im.repeat=="always"){}else{if(hB.getData(il)==1){return;}var io=-1;if(im.repeat=="visit"){io=0;}else{if(im.repeat=="once"){io=60*60*24*365*10;}else{I.lib_error(new Error("bad attengrab repeat value: "+im.repeat));}}hB.saveData(il,1,io);}if(eY()){return;}new ia(function(){bw(im);},parseFloat(im.delay)*1000);}function bw(im){var ip=dI();ip.append("<div id='walkme-attengrab' class='walkme-to-destroy' style='display: none;'><img src='"+im.filename+"' /></div>");var io=mtjQuery("#walkme-menu-closed, #mt-menu-closed",ip);var il=mtjQuery("#walkme-attengrab",ip);new ia(function(){by(im,io,il);},100);}var q=0;function by(im,io,il){if(ip(io)){q++;if(q>10){return;}new ia(function(){by(im,io,il);},500);}else{bx(im,io,il);}function ip(iq){var ir=(iq.width()==0)||(iq.width()==28)||(il.width()==0)||(il.width()==28);var it=(iq.attr("data-inanimation")=="1");return ir||it;}}function bx(im,iq,il){var iy="0px",iw="0px",io="0px",iu="0px";var iz="auto",ix="auto",ip="auto",iv="auto";var it=parseInt(im.hOffset);var iA=parseInt(im.vOffset);var iB=(iq.width()-il.width())/2;var ir=(iq.height()-il.height())/2;if(z.TrianglePosition.indexOf("bottom")>-1){ip=parseFloat(iq.css("bottom").replace("px",""));ip+=ir;ip+=iA;ip+="px";}if(z.TrianglePosition.indexOf("top")>-1){iz=parseFloat(iq.css("top").replace("px",""));iz+=ir;iz+=iA;iz+="px";}if(z.TrianglePosition.indexOf("right")>-1){ix=parseFloat(iq.css("right").replace("px",""));ix+=iB;ix+=it;ix+="px";}if(z.TrianglePosition.indexOf("left")>-1){iv=parseFloat(iq.css("left").replace("px",""));iv+=iB;iv+=it;iv+="px";}if(z.TrianglePosition.indexOf("center")>-1){iv="50%";iu=parseFloat(iq.css("margin-left").replace("px",""));iu+=iB;iu+=it;iu+="px";}if(z.TrianglePosition.indexOf("middle")>-1){iz="50%";iy=parseFloat(iq.css("margin-top").replace("px",""));iy+=ir;iy+=iA;iy+="px";}il.css({position:"fixed",top:iz,right:ix,bottom:ip,left:iv,"margin-top":iy,"margin-right":iw,"margin-bottom":io,"margin-left":iu});il.show();if(parseFloat(im.timeout)>0){new ia(WalkMePlayerAPI.removeAttenGrab,parseFloat(im.timeout)*1000);}}function eY(){return mtjQuery("#mt-menu-open, #walkme-menu-open").is(":visible");}function M(iD,iE,iv,ix){var iq=this;var io,ip,im,il;var ir="wm-absl-";var it="wm-abss-";function iu(){io=iD;ip=iE;il=iv;im=ix;}this.shouldLoadWalkme=function iB(){try{if(!iq.isAbTestingEnabled()){return true;}return iz(ir,io.Settings.abTesting.loadPercentage);}catch(iF){im(iF,"Could not check if Walkme should be loaded according to AB Testing");return true;}};this.shouldShowWidget=function iC(){try{if(!iq.isAbTestingEnabled()){return true;}return iz(it,io.Settings.abTesting.showPercentage,iA);}catch(iF){im(iF,"Could not check if widget should be shown according to AB Testing");return true;}};function iA(iH){try{if(es()){return true;}var iI=io.Settings.abTesting.testNumber;var iF=(window.wm_customData!=undefined)?wm_customData.abTestingData:null;mtjQuery.getJSON(y+"/Statistics/AddAbTestingWidgetVisible?jsoncallback=?",{userGuid:L,endUserId:il(),testNumber:iI,isVisible:iH,customDataSerialized:hU(iF)},function(iJ){});}catch(iG){im(iG,"Could not report ab testing result to server");}}this.isAbTestingEnabled=function iw(){return eC("abtesting")&&io.Settings&&io.Settings.abTesting&&parseInt(io.Settings.abTesting.enabled);};function iz(iF,iH,iK){var iG=iF+io.Settings.abTesting.testNumber;var iI=ip.getData(iG);if((iI===true)||(iI===false)){return iI;}var iJ=iy(1,100);iI=(iJ<=iH);ip.saveData(iG,iI,aS);if(iK){iK(iI);}return iI;}function iy(iF,iG){return Math.floor(Math.random()*(iG-iF+1)+iF);}iu.apply(null,arguments);}this.shouldShowWidgetAccordingToAbTesting=function g7(){return a.shouldShowWidget();};var fj;(function(il){fj=il;}((function(){var iz={};iz.name="mustache.js";iz.version="0.5.2";iz.tags=["{{","}}"];iz.parse=iF;iz.clearCache=im;iz.compile=io;iz.compilePartial=ip;iz.render=iH;iz.Scanner=iJ;iz.Context=ir;iz.Renderer=iI;iz.to_html=function(iS,iT,iP,iR){var iQ=iH(iS,iT,iP);if(typeof iR==="function"){iR(iQ);}else{return iQ;}};var iO=/\s*/;var iK=/\s+/;var iE=/\S/;var iv=/\s*=/;var it=/\s*\}/;var iM=/#|\^|\/|>|\{|&|=|!/;function iN(iP,iQ){return RegExp.prototype.test.call(iP,iQ);}function iB(iP){return !iN(iE,iP);}var iA=Array.isArray||function(iP){return Object.prototype.toString.call(iP)==="[object Array]";};var iC=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF\u2028\u2029]/gm;function iG(iQ){var iP=iQ.replace(iC,function(iR){return"\\u"+("0000"+iR.charCodeAt(0).toString(16)).slice(-4);});return'"'+iP+'"';}function ix(iP){return iP.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}var iu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function iw(iP){return String(iP).replace(/[&<>"'\/]/g,function(iQ){return iu[iQ];});}iz.isWhitespace=iB;iz.isArray=iA;iz.quote=iG;iz.escapeRe=ix;iz.escapeHtml=iw;function iJ(iP){this.string=iP;this.tail=iP;this.pos=0;}iJ.prototype.eos=function(){return this.tail==="";};iJ.prototype.scan=function(iQ){var iP=this.tail.match(iQ);if(iP&&iP.index===0){this.tail=this.tail.substring(iP[0].length);this.pos+=iP[0].length;return iP[0];}return"";};iJ.prototype.scanUntil=function(iR){var iP,iQ=this.tail.search(iR);switch(iQ){case -1:iP=this.tail;this.pos+=this.tail.length;this.tail="";break;case 0:iP="";break;default:iP=this.tail.substring(0,iQ);this.tail=this.tail.substring(iQ);this.pos+=iQ;}return iP;};function ir(iQ,iP){this.view=iQ;this.parent=iP;this.clearCache();}ir.make=function(iP){return(iP instanceof ir)?iP:new ir(iP);};ir.prototype.clearCache=function(){this._cache={};};ir.prototype.push=function(iP){return new ir(iP,this);};ir.prototype.lookup=function(iR){var iT=this._cache[iR];if(!iT){if(iR==="."){iT=this.view;}else{var iP=this;while(iP){if(iR.indexOf(".")>0){var iS=iR.split("."),iQ=0;iT=iP.view;while(iT&&iQ<iS.length){iT=iT[iS[iQ++]];}}else{iT=iP.view[iR];}if(iT!=null){break;}iP=iP.parent;}}this._cache[iR]=iT;}if(typeof iT==="function"){iT=iT.call(this.view);}return iT;};function iI(){this.clearCache();}iI.prototype.clearCache=function(){this._cache={};this._partialCache={};};iI.prototype.compile=function(iS,iR){if(typeof iS==="string"){iS=iF(iS,iR);}var iP=iq(iS),iQ=this;return function(iT){return iP(ir.make(iT),iQ);};};iI.prototype.compilePartial=function(iP,iR,iQ){this._partialCache[iP]=this.compile(iR,iQ);return this._partialCache[iP];};iI.prototype.render=function(iQ,iR){var iP=this._cache[iQ];if(!iP){iP=this.compile(iQ);this._cache[iQ]=iP;}return iP(iR);};iI.prototype._section=function(iU,iR,iQ){var iY=iR.lookup(iU);switch(typeof iY){case"object":if(iA(iY)){var iP="";for(var iS=0,iT=iY.length;iS<iT;++iS){iP+=iQ(iR.push(iY[iS]),this);}return iP;}return iY?iQ(iR.push(iY),this):"";case"function":var iW=iQ(iR,this),iX=this;var iV=function(iZ){return iX.render(iZ,iR);};return iY.call(iR.view,iW,iV)||"";default:if(iY){return iQ(iR,this);}}return"";};iI.prototype._inverted=function(iR,iQ,iP){var iS=iQ.lookup(iR);if(iS==null||iS===false||(iA(iS)&&iS.length===0)){return iP(iQ,this);}return"";};iI.prototype._partial=function(iR,iP){var iQ=this._partialCache[iR];if(iQ){return iQ(iP);}return"";};iI.prototype._name=function(iR,iP,iQ){var iT=iP.lookup(iR);if(typeof iT==="function"){iT=iT.call(iP.view);}var iS=(iT==null)?"":String(iT);if(iQ){return iw(iS);}return iS;};function iq(iW,iU){var iP=['""'];var iV,iT,iQ;for(var iR=0,iS=iW.length;iR<iS;++iR){iV=iW[iR];switch(iV.type){case"#":case"^":iT=(iV.type==="#")?"_section":"_inverted";iP.push("r."+iT+"("+iG(iV.value)+", c, function (c, r) {\n  "+iq(iV.tokens,true)+"\n})");break;case"{":case"&":case"name":iQ=iV.type==="name"?"true":"false";iP.push("r._name("+iG(iV.value)+", c, "+iQ+")");break;case">":iP.push("r._partial("+iG(iV.value)+", c)");break;case"text":iP.push(iG(iV.value));break;}}iP="return "+iP.join(" + ")+";";if(iU){return iP;}return new Function("c, r",iP);}function iy(iP){if(iP.length===2){return[new RegExp(ix(iP[0])+"\\s*"),new RegExp("\\s*"+ix(iP[1]))];}throw new Error("Invalid tags: "+iP.join(" "));}function iD(iU){var iV=[];var iP=iV;var iS=[];var iT,iR;for(var iQ=0;iQ<iU.length;++iQ){iT=iU[iQ];switch(iT.type){case"#":case"^":iT.tokens=[];iS.push(iT);iP.push(iT);iP=iT.tokens;break;case"/":if(iS.length===0){throw new Error("Unopened section: "+iT.value);}iR=iS.pop();if(iR.value!==iT.value){throw new Error("Unclosed section: "+iR.value);}if(iS.length>0){iP=iS[iS.length-1].tokens;}else{iP=iV;}break;default:iP.push(iT);}}iR=iS.pop();if(iR){throw new Error("Unclosed section: "+iR.value);}return iV;}function iL(iS){var iQ;for(var iP=0;iP<iS.length;++iP){var iR=iS[iP];if(iQ&&iQ.type==="text"&&iR.type==="text"){iQ.value+=iR.value;iS.splice(iP--,1);}else{iQ=iR;}}}function iF(i0,iZ){iZ=iZ||iz.tags;var iY=iy(iZ);var iV=new iJ(i0);var i1=[],iW=[],iR=false,iU=false;var iX=function(){if(iR&&!iU){while(iW.length){i1.splice(iW.pop(),1);}}else{iW=[];}iR=false;iU=false;};var i2,i3,iP;while(!iV.eos()){i3=iV.scanUntil(iY[0]);if(i3){for(var iS=0,iT=i3.length;iS<iT;++iS){iP=i3.charAt(iS);if(iB(iP)){iW.push(i1.length);}else{iU=true;}i1.push({type:"text",value:iP});if(iP==="\n"){iX();}}}if(!iV.scan(iY[0])){break;}iR=true;i2=iV.scan(iM)||"name";iV.scan(iO);if(i2==="="){i3=iV.scanUntil(iv);iV.scan(iv);iV.scanUntil(iY[1]);}else{if(i2==="{"){var iQ=new RegExp("\\s*"+ix("}"+iZ[1]));i3=iV.scanUntil(iQ);iV.scan(it);iV.scanUntil(iY[1]);}else{i3=iV.scanUntil(iY[1]);}}if(!iV.scan(iY[1])){throw new Error("Unclosed tag at "+iV.pos);}i1.push({type:i2,value:i3});if(i2==="name"||i2==="{"||i2==="&"){iU=true;}if(i2==="="){iZ=i3.split(iK);iY=iy(iZ);}}iL(i1);return iD(i1);}var il=new iI();function im(){il.clearCache();}function io(iQ,iP){return il.compile(iQ,iP);}function ip(iP,iR,iQ){return il.compilePartial(iP,iR,iQ);}function iH(iR,iS,iQ){if(iQ){for(var iP in iQ){ip(iP,iQ[iP]);}}return il.render(iR,iS);}return iz;}())));function eH(){return !wmjQuery.browser.msie||(wmjQuery.browser.version>=10&&document.documentMode&&document.documentMode>=10);}a2();}var _makeTutorialEv={Ev:function(src){return eval(src);}};function ClassWalkMeAPI(){var a=this;var s=5;var t=100;var z=_makeTutorial.getPlayInitiatorEnum();this.getPlayInitiatorEnum=function h(){return z;};this.getWalkthrus=function m(B){var G=_makeTutorial.getTutorials();var F=new Array();for(var E=0;E<G.length;E++){var C=G[E].CustomField1;if(C){C=C.replace(/&quot;/gi,'"');C=C.replace(/&apos;/gi,"'");C=C.replace(/&#39;/gi,"'");C=C.replace(/&amp;/gi,"&");}var D={Index:E,Name:G[E].Name,Id:G[E].TutorialId,Visible:G[E].IsVisible,CustomField1:C};if(B){D.ConditionsPassed=_makeTutorial.canShowTutorial(G[E]);D.isPackageHidden=_makeTutorial.isTutorialPackageHidden(G[E]);if(G[E].Keywords==undefined){D.Keywords=[];}else{D.Keywords=G[E].Keywords;}}F.push(D);}return F;};this.getWalkthrusLabels=function n(B){var E=_makeTutorial.getWalkthrusLabels();if(E==null){return null;}var I=this.getWalkthrus(B);var H=k(E,I);var G=_makeTutorial.getSiteConfig();var F=[];for(var C=0;C<E.length;C++){var D={Name:E[C].Name,Id:E[C].Id,Walkthrus:g(I,E[C].LinkedTutorials,E[C].Id)};F.push(D);}return{unlabeledWalkthrus:H,labels:F,unlabeledFirst:(G.Settings.labels&&G.Settings.labels.unlabeldOnTop==1)};};function k(D,H){var E=[];for(var B=0;B<D.length;B++){var F=D[B].LinkedTutorials;for(var C=0;C<F.length;C++){E.push(F[C]);}}var G=[];for(var B=0;B<H.length;B++){if(!q(H[B].Id,E)){G.push(H[B]);}}return G;}function g(F,E,D){var G=[];for(var C=0;C<F.length;C++){if(q(F[C].Id,E)){var B=mtjQuery.extend(true,{},F[C]);B.labelId=D;G.push(B);}}return G;}function q(D,B){for(var C=0;C<B.length;C++){if(B[C]==D){return true;}}return false;}function l(C){var D=_makeTutorial.getTutorials();for(var B=0;B<D.length;B++){if(D[B].TutorialId==C){return B;}}return -1;}this.startWalkthruById=function x(E,D){if(typeof(E)!="object"){E={id:E,fromStep:D};}var C=E.id;var B=E.fromStep;var F=E.playInitiator;if((C<0)||(typeof(C)!="number")){return false;}var G=l(C);if(G<0){return false;}if(!F){F=z.API;}_makeTutorial.setPlayInitiator(F);return a.startWalkthruByIndex({index:G,fromStep:B,playInitiator:F});};this.startWalkthruByIndex=function y(E,D){if(typeof(E)!="object"){E={index:E,fromStep:D};}var C=E.index;var B=E.fromStep;var F=E.playInitiator;if((C<0)||(typeof(C)!="number")){return false;}if(!F){F=z.API;}_makeTutorial.setPlayInitiator(F);return _makeTutorial.startNewTutorial(C,B,false);};this.canStartWalkthru=function b(C,B){if((C<0)||(typeof(C)!="number")){return false;}var D=l(C);if(D<0){return false;}return _makeTutorial.startNewTutorial(D,B,true);};this.setWalkthruVisibility=function v(B,D){var E=_makeTutorial.getTutorials();var C=l(B);if(C<0){return false;}E[C].IsVisible=D;return true;};this.stopWalkthru=function A(){_makeTutorial.stopTutorial();};this.setAnalyticsCustomField=function u(B,C){if(B>s||B<1||C.length>t){return false;}return _makeTutorial.setAnalyticsCustomFields(B-1,C);};this.enableLogs=function d(B){if(B==undefined){B=true;}_makeTutorial.enableCustomerLogs(B);};this.loadTasks=function r(C,B){return _makeTutorial.loadTasks(C,B);};this.getTasks=function j(B){return _makeTutorial.getApiTasks(B);};this.getWidgetMode=function p(){return _makeTutorial.getWidgetMode();};this.setWidgetMode=function w(B){return _makeTutorial.setWidgetMode(B);};this.getWidgetInitialState=function o(){return _makeTutorial.getWidgetInitialState();};this.changeLanguage=function c(C,B){return _makeTutorial.changeLanguage(C,B);};this.getSupportedLanguages=function i(){return _makeTutorial.getSupportedLanguages();};this.getCurrentLanguage=function f(){return _makeTutorial.getCurrentLanguage();};}if(window._makeTutorial==undefined){var _makeTutorial=new ClassMakeTutorial();}if(window.WalkMeAPI==undefined){var WalkMeAPI=new ClassWalkMeAPI();}if(document.cookie.indexOf("walkmeDontInitLib")==-1){_makeTutorial.Init();}